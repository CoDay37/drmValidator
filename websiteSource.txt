	


		
				//Including BentoJS config from BentoJS/config/mtv.com/config.js
				
	
		
	
if (typeof Bento == 'undefined') var Bento = {};

Bento.Config={

		requiresCoppaCompliance: false,

		pageReportingEnabled: true,
		omnitureEnabled: true,
		omnitureAccount: 'viamtv',
		omnitureEnableVisitorNamespace: false,
		omnitureEnableFirstPartyCookie: true,
		omnitureConditionalAccounts: '{}',
		omnitureCustomNamespace: "",
		omnitureRDCenabled: false,
		omnitureTrackingServer: "",

		freewheelEnabled: true,
		freewheelSiteSectionOverride: false,
		freewheelDesktopProfileId: "",
		freewheelMobileProfileId: "",

		demdexEnabled: false,

		sourcePointEnabled: true,

		tveReportingEnabled: true,

		imaEnabled: false,
		imaNetworkID: '271659723',
		imaCmsID: '1163',
		imaAdSize: '640x480',
		imaAdUnit: 'money_test',

		preloadAdSlotEnabled: true,
		preloadBitrateRange0To800: 3,
		preloadBitrateRange800To1000: 3,
		preloadBitrateRange1000To5000: 10,

		bandwidthEnabled: true,
		defaultBandwidth: 1300,
		
		enableMoatTracking: false,

		useHTML5VideoAdsOnDesktop: true,
		useHTML5VideoAdsOnDesktopSafari: false,

		enableSecureMode: true,
		enableManualMode: false,

		adNetworkId: 8675,
		adPixelSizes: ["1,2", "3,3"],
		adDeviceTarget: '',
		adUnitDefault: '',
		adRefreshRate: -1,
		adPageTargeting: {},
		allowGeolocation: false,
		allowPOEAds: true,
		legacySupportEnabled: true,
		pageAdsEnabled: true,
		indexExchangeEnabled: true,
		indexExchangeLibraryURL: '//js-sec.indexww.com/ht/p/184606-274169693275451.js',
		amazonPageBiddingEnabled: true,
		amazonVideoBiddingEnabled: true,
		adExclusionCategories: '',

		nielsenEnabled: false,
		nielsenCID: 'us-mtvn',

		comScoreEnabled: false,
		comScoreC2: '', 

		pageHeaderBiddingEnabled: true, 
		headerBiddingLibraryURL: '"//js-sec.indexww.com/ht/p/184606-274169693275451.js"',

		megabeaconEnabled: true

};
			
	


		
				// Including Sourcepoint.js : 
				function initSourcePointLibrary(){try{if(!Bento || !Bento.version || !Bento.version.split('.').length || +Bento.version.split('.')[1]< 11){return;} window._sp_ = window._sp_ || {}; window._sp_.config = window._sp_.config || {}; window ._sp_.config.account_id =93;!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=518)}([function(e,t,n){var r,o;!function(i){"use strict";var u={};u.VERSION="1.3.0";var a,c={},f=function(e,t){return function(){return t.apply(e,arguments)}},s=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},l=function(e,t){return{value:e,name:t}};u.DEBUG=l(1,"DEBUG"),u.INFO=l(2,"INFO"),u.TIME=l(3,"TIME"),u.WARN=l(4,"WARN"),u.ERROR=l(8,"ERROR"),u.OFF=l(99,"OFF");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(u.DEBUG,arguments)},info:function(){this.invoke(u.INFO,arguments)},warn:function(){this.invoke(u.WARN,arguments)},error:function(){this.invoke(u.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,"end"])},invoke:function(e,t){a&&this.enabledFor(e)&&a(t,s({level:e},this.context))}};var h=new p({filterLevel:u.OFF});!function(){var e=u;e.enabledFor=f(h,h.enabledFor),e.debug=f(h,h.debug),e.time=f(h,h.time),e.timeEnd=f(h,h.timeEnd),e.info=f(h,h.info),e.warn=f(h,h.warn),e.error=f(h,h.error),e.log=e.info}(),u.setHandler=function(e){a=e},u.setLevel=function(e){h.setLevel(e);for(var t in c)c.hasOwnProperty(t)&&c[t].setLevel(e)},u.get=function(e){return c[e]||(c[e]=new p(s({name:e},h.context)))},u.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,a=console.log;o.level===u.TIME?(i=(o.name?"["+o.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(i):t[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(a,[i+": "+((new Date).getTime()-t[i])+"ms"])):(o.level===u.WARN&&console.warn?a=console.warn:o.level===u.ERROR&&console.error?a=console.error:o.level===u.INFO&&console.info&&(a=console.info),e.formatter(r,o),n(a,r))}},u.useDefaults=function(e){u.setLevel(e&&e.defaultLevel||u.DEBUG),u.setHandler(u.createDefaultHandler(e))},r=u,void 0!==(o="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}()},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return e instanceof h}function a(e){return e instanceof d}function c(e){return e instanceof _}function f(e){return e instanceof y}function s(e){return e instanceof b}n.d(t,"g",function(){return v}),n.d(t,"j",function(){return m}),n.d(t,"h",function(){return g}),n.d(t,"i",function(){return E}),n.d(t,"w",function(){return O}),n.d(t,"v",function(){return T}),n.d(t,"t",function(){return S}),n.d(t,"u",function(){return R}),n.d(t,"q",function(){return k}),n.d(t,"r",function(){return N}),n.d(t,"p",function(){return A}),n.d(t,"s",function(){return C}),n.d(t,"o",function(){return x}),t.k=u,t.l=a,t.m=c,t.d=f,t.n=s,n.d(t,"b",function(){return I}),n.d(t,"c",function(){return M}),n.d(t,"f",function(){return H}),n.d(t,"a",function(){return K});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("detection:test_result:attribute:index"),function(){function e(t){i(this,e),this._str=t}return l(e,[{key:"is",value:function(e){return e.name()===this.name()&&e.toString()===this.toString()}},{key:"name",value:function(){return"at"}},{key:"toString",value:function(){return this._str}}]),e}());t.e=p;var h=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"name",value:function(){return"tat"}}]),t}(p),d=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"name",value:function(){return"teat"}}]),t}(p),_=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"name",value:function(){return"rat"}}]),t}(p),y=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"name",value:function(){return"reat"}}]),t}(p),b=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+"="+n))}return o(t,e),t}(p),v=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"url",e))}return o(t,e),t}(b),m=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"err",e.toString()))}return o(t,e),t}(b),g=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"st",e.toFixed()))}return o(t,e),t}(b),E=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ts",e.toFixed(3)))}return o(t,e),t}(b),O=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"dom",e))}return o(t,e),t}(b),w=(function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ch",e.toString()))}o(t,e)}(b),function(e){function t(e,n){i(this,t);var o=e?"_"+e:"";return r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"sel"+o,n))}return o(t,e),t}(b)),T=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"",e))}return o(t,e),t}(w),S=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"br",e))}return o(t,e),t}(w),R=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"nc",e))}return o(t,e),t}(w),P=function(e){function t(e,n,o){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"net_"+e,JSON.stringify({src:n,tag:o})))}return o(t,e),t}(b),k=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ld",e,n))}return o(t,e),t}(P),N=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"err",e,n))}return o(t,e),t}(P),j=function(e){function t(e,n,o,u){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"netr_"+e,JSON.stringify({rule:n,lds:o.map(function(e){return e.toString()}),errs:u.map(function(e){return e.toString()})})))}return o(t,e),t}(b),A=function(e){function t(e,n,o){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"bl",e,n,o))}return o(t,e),t}(j),C=function(e){function t(e,n,o){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"wl",e,n,o))}return o(t,e),t}(j),x=function(e){function t(e,n,o){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"bkrl",JSON.stringify({name:e,bls:n.map(function(e){return e.toString()}),wls:o.map(function(e){return e.toString()})})))}return o(t,e),t}(b),I={},L={INTERFERENCE:"in",DFP_INTERFERENCE:"dfpi",ADBLOCKER:"ad",GENERIC_ADBLOCKER:"gad",STAND_DOWN:"sd",PRIVATE:"pr",RECOVERY_INTERFERENCE:"rin",FSM_DATA:"fda",ACCEPTABLE_AD:"aad"};for(var D in L)I[D]=new h(L[D]);var M={},B={INFERENCE:"inf",NETWORK:"ne",IMAGE:"im",SCRIPT:"sc",IFRAME:"if",ELEMENT:"el",ARTIFACT:"ar",STYLE_SHEET:"ss",STYLE_PROPERTY:"sp",INLINE_STYLE_SHEET:"iss",HIDDEN_PROPERTY:"hp",CUSTOM_PROPERTY:"cp",HIDING:"hi",USER_AGENT:"ua",BOT:"bo",PROXY_HOST:"ph",NATIVE_OVERRIDE:"no",FEATURE_ACCESS:"fa",AJAX:"aj",FSM:"fsm",NETWORK_LISTENER:"nel",HIDING_DATA:"hid"};for(var F in B)M[F]=new d(B[F]);var H={},U={NO_LOAD_BLOCK:"nlb",LOAD_BLOCK:"lb",ELEMENT_HIDDEN:"eh",CONTROL_ELEMENT_HIDDEN:"ceh",NO_ELEMENT_HIDDEN:"neh",URL_REWRITTEN:"ur",NO_URL_REWRITTEN:"nur",DATA_URL_REWRITTEN:"dur",NO_ARTIFACT_PRESENT:"nap",ARTIFACT_PRESENT:"ap",NO_STYLE_SHEET_PRESENT:"nssp",STYLE_SHEET_PRESENT:"ssp",NO_STYLE_PROPERTY_PRESENT:"nspp",STYLE_PROPERTY_PRESENT:"spp",NO_HIDDEN_PROPERTY_PRESENT:"nhpp",HIDDEN_PROPERTY_PRESENT:"hpp",NO_CUSTOM_PROPERTY_PRESENT:"ncpp",CUSTOM_PROPERTY_PRESENT:"cpp",TIMEOUT:"to",NO_BOT_USER_AGENT:"nbua",GOOGLE_BOT_USER_AGENT:"gbua",BING_BOT_USER_AGENT:"bbua",NO_PROXY_HOST:"nph",GOOGLE_WEBCACHE_PROXY_HOST:"gwph",NO_NATIVE_OVERRIDE:"nno",SHADOW_ROOT_NATIVE_OVERRIDE:"srno",REQUEST_FILE_SYSTEM_SUCCESS:"rfss",REQUEST_FILE_SYSTEM_ERROR:"rfse",NO_REQUEST_FILE_SYSTEM:"nrfs",INDEXED_DB_OPEN_SUCCESS:"idos",INDEXED_DB_OPEN_ERROR:"idoe",NO_INDEXED_DB:"nid",INDEXED_DB_EXISTS:"ide",LOCAL_STORAGE_SET_SUCCESS:"lsss",LOCAL_STORAGE_SET_ERROR:"lsse",NO_LOCAL_STORAGE:"nls",AJAX_LOAD_BLOCK:"alb",AJAX_LOAD_SUCCESS:"als",AJAX_LOAD_ERROR:"ale",AJAX_OPEN_BLOCK:"aob",AJAX_SEND_BLOCK:"asb",PROTOCOL_MISMATCH:"pm",EXA_BOT_USER_AGENT:"ebua",CANNOT_TEST:"cnt",GOOGLE_WEB_LIGHT_USER_AGENT:"gwl",OPTIMIZELY_PREVIEW_PROXY_HOST:"opph",NO_BLOCKER_RULES:"nbr",BROKEN_ELEMENT_HIDING_RULE:"behr",NO_ELEMENT_HIDING_RULES:"nehr",HIDE_MATCHING_BLACKLIST:"hmbl",NO_MATCHING_BLACKLIST:"nmbl",ERROR_MATCHING_BLACKLIST:"embl",LOAD_MATCHING_BLACKLIST:"lmbl",ERROR_MATCHING_WHITELIST:"emwl",LOAD_MATCHING_WHITELIST:"lmwl",NO_NETWORK_LISTENER_DATA:"nnld",NO_NETWORK_BLOCKING_RULES:"nnbr",HIDDEN_IMMEDIATELY:"hii",NONE_HIDDEN_IMMEDIATELY:"nhii",HIDDEN_LATER:"hil",NONE_HIDDEN_LATER:"nhil",OFFLINE:"off"};for(var G in U)H[G]=new _(U[G]);var K={},Y={ADBLOCK:"ab",ADBLOCK_PLUS:"abp",ADGUARD:"ag",UBLOCK:"ub",UBLOCK_ORIGIN:"ubo",NATIVE:"na",PRESENT:"pr",NOT_PRESENT:"npr",UNKNOWN_ADBLOCKER:"ua"};for(var W in Y)K[W]=new y(Y[W])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new(Function.prototype.bind.apply(Error,[null].concat(["Uncaught in promise: "+(null==e?"":e.toString()+e.stack||"")],n)))}function i(e){return new s(function(t,n){e.then(function(e){t(e)},function(e){n(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(28);n.d(t,"UtilPromise",function(){return s});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0).get("util:promise"),f=0,s=function(){function e(t){if(r(this,e),this._state=f,this._resolveCallbacks=[],this._rejectCallbacks=[],this._catchListenerAdded=!1,null!=t)try{t(this._resolve.bind(this),this._reject.bind(this))}catch(e){if(e.message&&e.message.match(/^Uncaught in promise: /))throw e;this._reject(e)}}return a(e,null,[{key:"resolve",value:function(t){return new e(function(e){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){return n(t)})}},{key:"all",value:function(t){var n=this;if(0===t.length)return e.resolve([]);var r=0,o=[];return new e(function(i,u){function a(e,n){o[e]=n,++r===t.length&&i(o)}t.forEach(function(t,r){e.resolve(t).then(a.bind(n,r),u)})})}},{key:"race",value:function(t){return 0===t.length?l:new e(function(e,n){t.forEach(function(t){t.then(e,n)})})}}]),a(e,[{key:"then",value:function(t,n){var r=this;return new e(function(e,o){r._then(function(n){return e(t(n))}),r._catch(function(t){null==n?o(t):e(n(t))})})}},{key:"catch",value:function(e){return this.then(function(e){return e},e)}},{key:"_resolve",value:function(t){if(this._state===f){var n=this._resolve.bind(this),r=this._reject.bind(this);t instanceof e?t.then(n,r):null!=t&&t instanceof Object&&t.then&&"function"==typeof t.then&&t["catch"]&&"function"==typeof t["catch"]?i(t).then(n,r):(this._state=1,this._result=t,this._resolveCallbacks.forEach(function(e){e(t)}),this._clearCallbacks())}}},{key:"_reject",value:function(e){var t=this;this._state===f&&(this._state=2,this._error=e,this._catchListenerAdded?c.debug("caught promise error",e):(c.error("uncaught promise error",e),setTimeout(function(){if(!t._catchListenerAdded)throw o(e)},0)),this._rejectCallbacks.forEach(function(t){t(e)}),this._clearCallbacks())}},{key:"_clearCallbacks",value:function(){this._resolveCallbacks=[],this._rejectCallbacks=[]}},{key:"_then",value:function(e){1===this._state?e(this._result):this._state===f&&this._resolveCallbacks.push(e)}},{key:"_catch",value:function(e){this._catchListenerAdded=!0,2===this._state?e(this._error):this._state===f&&this._rejectCallbacks.push(e)}}]),e}(),l=s.resolve(null),p=n.i(u.a)(window.Promise)?window.Promise:s;t["default"]=p},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=n(2);n.d(t,"a",function(){return p});var a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=(n(0).get("detection:test"),new Error("not implemented")),s=function(){function e(){var t=this;i(this,e),this.runPromise=new u["default"](function(e){t.resolve=e.bind(t.runPromise)})}return c(e,null,[{key:"getSchema",value:function(){throw f}},{key:"testMethod",value:function(){throw f}},{key:"has",value:function(){var e;return(e=this.getSchema()).has.apply(e,arguments)}}]),c(e,[{key:"waitForResult",value:function(){return this.runPromise}}]),e}(),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"run",value:function(){var e,t=this;return u["default"].resolve((e=this.constructor).testMethod.apply(e,arguments)).then(function(e){return t.resolve(e),t.runPromise})}}],[{key:"testMethod",value:function(){throw f}},{key:"bindArgs",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),c(n,null,[{key:"testMethod",value:function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return a(n.__proto__||Object.getPrototypeOf(n),"testMethod",this).apply(this,t.concat(r))}}]),n}(this)}}]),t}(s);t.b=l;var p=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"run",value:function(e){for(var t,n=this,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return u["default"].resolve((t=this.constructor).testMethod.apply(t,[e].concat(o))).then(function(e){return n.resolve(e),n.runPromise})}}],[{key:"findDependency",value:function(){throw f}},{key:"bindArgs",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),c(n,null,[{key:"testMethod",value:function(e){for(var r,o=arguments.length,i=Array(o>1?o-1:0),u=1;u<o;u++)i[u-1]=arguments[u];return(r=a(n.__proto__||Object.getPrototypeOf(n),"testMethod",this)).call.apply(r,[this,e].concat(t,i))}}]),n}(this)}}]),t}(s)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(298),a=n(133),c=n(132),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(0).get("detection:test_result:schema"),function(e){function t(){var e;r(this,t);for(var i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];var f=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),s=n.i(c.a)(f.attributes);if(0===s.types.length||0===s.tests.length)throw new Error("missing required types or tests from schema");return f}return i(t,e),f(t,[{key:"createResult",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new(Function.prototype.bind.apply(u.a,[null].concat([this.attributes],t)))}},{key:"addAttribute",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(t,[null].concat([this.attributes],n)))}},{key:"removeAttribute",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=new(Function.prototype.bind.apply(a.a,[null].concat(n)));return new t(this.attributes.filter(function(e){return!o.attributes.some(function(t){return t.is(e)})}))}}]),t}(a.a));t.a=s},function(e,t,n){"use strict";function r(){if(!window._sp_||!window._sp_.config)throw new Error("_sp_.config is not defined");window._sp_.config.hasBeenRead||(n.i(O.a)(["config","hasBeenRead"],!0),n.i(O.a)(["config","has_been_read"],!0)),o.apply(void 0,arguments),a(M)}function o(){B=new E.a(L.getSearchParam()),D=window._sp_.config;for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];M=i(t),u(M)}function i(e){return e.reduce(function(e,t){return b()(e,t),e},{})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.keys(t).forEach(function(r){var o=n.concat(r).join(".");if(e[r]){var i=s(t[r],e[r]);if(e[r].type!==(void 0===i?"undefined":T(i)))throw new Error("invalid value: '"+JSON.stringify(i)+"' for option: '"+o+"' expected: '"+e[r].type+"'");if(e[r].validation&&!e[r].validation(i)){var a=e[r].validationMessage||"";throw new Error("invalid value: '"+JSON.stringify(i)+"' for option: '"+o+"' "+a)}e[r].keys&&u(e[r].keys,i,n.concat(r))}}),Object.keys(e).forEach(function(t){var r=n.concat(t).join(".");if(e[t].required&&!D.hasOwnProperty(t))throw new Error("required option: '"+r+"' not specified in config")})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.keys(t).forEach(function(r){var o=n.concat(r).join(".");if(!e.hasOwnProperty(r))throw new Error("invalid option: '"+o+"' valid keys are: '"+JSON.stringify(Object.keys(e).map(function(e){return n.concat(e).join(".")}))+"'");e[r].keys&&a(e[r].keys,t[r],n.concat(r))})}function c(e){return"config value: "+JSON.stringify([].concat(e))+" does not exist in spec"}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=void 0,i=[];if(Array.isArray(e)?(o=e[0],i=e.slice(1)):o=e,!n)throw new Error('config value: "'+o+'" fetched before initialization');if(!n[o])throw new Error(c(r.concat(e)));var u=void 0;t&&t.hasOwnProperty(o)&&(u=t[o]);var a=n[o],l=a.keys;if(i.length>0)return f(i,u,l,r.concat(o));if(l){var p={};for(var h in l)p[h]=f(h,u,l,r.concat(o));return p}if(a.mapQueryParam){var d=r.concat(o).join("_"),_=B.getSearchParam("_sp_"+d);if(_){var y=a.mapQueryParam(_);if(void 0!==y)return s(y,a)}}if(void 0!==u)return s(u,a);var b=a.fallback?a.fallback():null;return null!=b?s(b,a):s(a["default"],a)}function s(e,t){return t.mapConfigParam?t.mapConfigParam(e):e}function l(e){var t=void 0;try{t=f(e)}catch(t){if(t.message.indexOf(c(e))>-1)return!1;throw t}return void 0!==t}function p(){return Object.keys(M)}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return Object.keys(t).forEach(function(n){e[n]=f(n,D,t)}),e},{});return JSON.stringify(r)}function d(e){D=JSON.parse(e);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];M=i(n),B=B||new E.a(L.getSearchParam())}function _(){return window.location.search}Object.defineProperty(t,"__esModule",{value:!0});var y=n(200),b=n.n(y),v=n(104),m=n.n(v),g=n(142),E=n(25),O=n(11),w=n(30),T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=(n(0).get("config:client_api"),"boolean"),R="string",P="object",k={hasBeenRead:{type:S,"default":!1},has_been_read:{type:S,"default":!1},accountId:{type:"number",required:!0},clientId:{type:R},cmd:{type:P,"default":[],validation:function(e){return Array.isArray(e)},validationMessage:"must be an array"},debug:{type:P,keys:{level:{type:R,"default":"OFF",mapQueryParam:function(e){return e},mapConfigParam:function(e){return e.toUpperCase()},validation:function(e){return"string"==typeof e&&g.a.indexOf(e)>-1},validationMessage:"expected one of "+g.a.join(",")}}},beacon:{type:P,keys:{pageViewEndpoint:{type:R,fallback:function(){return w.d}},contentControlEndpoint:{type:R,fallback:function(){return w.e}},customEntries:{type:P,validation:function(e){return Array.isArray(e)&&e.length<=3&&e.every(function(e){return"string"==typeof e})},validationMessage:"expected an array of at most 3 string values"}}},bootstrap:{type:P,keys:{contentControlCallback:{type:"function","default":function(){}}}},detection:{type:P,keys:{useNetworkBlockerTests:{type:S,"default":!1},useDFPNetworkBlockerTests:{type:S,"default":!1},useGenericContentBlockerTests:{type:S,"default":!0},useSpecificContentBlockerTests:{type:S,"default":!0},internal:{type:P,keys:{useNetworkBlockerTests:{type:S,"default":!1},useDFPNetworkBlockerTests:{type:S,"default":!1},useGenericContentBlockerTests:{type:S,"default":!0},useSpecificContentBlockerTests:{type:S,"default":!0}}},fsm:{type:P,keys:{enable:{type:S,"default":!1,mapQueryParam:function(e){if("true"===e)return!0}},endpoint:{type:R,fallback:function(){return w.f}},enableNetwork:{type:S,"default":!1,mapQueryParam:function(e){if("true"===e)return!0}}}},exposeSpecificContentBlockerData:{type:S,"default":!1}}},dfp:{type:P,keys:{targetingKey:{type:R,"default":"sp.block"}}},events:{type:P,keys:{onDetectionComplete:{type:"function","default":function(){}}}},rid:{type:P,keys:{enable:{type:S,fallback:function(){return f(["rid","enableForgivenessCookie"])},"default":!1},enableForgivenessCookie:{type:S,"default":!1},contentControlCallback:{type:"function","default":function(){}}}},siteCssLocation:{type:R},disableBlockerStyleSheets:{type:S,"default":!0},styleManager:{type:P,keys:{enable:{type:S,"default":!0},enableSimple:{type:S,"default":!0,mapQueryParam:function(e){if("true"===e)return!0}},enableMorphingOutsideAdHierarchy:{type:S,"default":!1}}},vid:{type:P,keys:{enable:{type:S,fallback:function(){return f(["vid","enableInIFrame"])||f(["vid","enableGeneric"])},"default":!1},enableInIFrame:{type:S,"default":!1},enableGeneric:{type:S,"default":!1},contentControlCallback:{type:"function","default":function(){}}}},runImmediately:{type:S,"default":!1}},N={events:{type:P,keys:{onReceiveMessageData:{type:"function",fallback:function(){return f(["msg","clientDataCallback"])}},onMessageChoiceSelect:{type:"function",fallback:function(){return f(["msg","selectChoiceCallback"])}}}},msg:{type:P,keys:{zIndex:{type:"number","default":1e4},domain:{type:R,"default":""},clientDataCallback:{type:"function"},selectChoiceCallback:{type:"function"}}},vid:{type:P,keys:{enable:{fallback:null,"default":!0}}}},j={smart:{type:P,keys:{libURL:{type:R},targetingKey:{type:R,"default":"sp_block"}}}},A={publisherBase:{type:R,required:!0},events:{type:P,keys:{onReadyToReloadAdLibrary:{type:"function","default":function(){}}}}},C={accountId:{type:"number",required:!1,fallback:function(){return f("clientId")}}},x={publisherBase:A.publisherBase,accountId:k.accountId,debug:m()(k.debug,["type","keys.level"]),vid:m()(k.vid,["type","keys.enableInIFrame"]),styleManager:m()(k.styleManager,["type","styleManager.enableMorphingOutsideAdHierarchy"])},I={BASE:k,SMART:j,RECOVERY_LIB_API_IFRAME:x,MESSAGING:N,PROXY:A,ANALYTICS:C},L={init:r,internalInit:o,get:f,has:l,availableConfigKeys:p,serialize:h,initFromSerialized:d,specs:I,getSearchParam:_},D=void 0,M=void 0,B=void 0;t["default"]=L},function(e,t,n){function r(e){if(!e)return[];if(a(e))return c(e)?p(e):i(e);if(y&&e[y])return f(e[y]());var t=u(e);return(t==d?s:t==_?l:h)(e)}var o=n(106),i=n(60),u=n(77),a=n(39),c=n(224),f=n(221),s=n(222),l=n(109),p=n(115),h=n(120),d="[object Map]",_="[object Set]",y=o?o.iterator:void 0;e.exports=r},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"k",function(){return i}),n.d(t,"j",function(){return u}),n.d(t,"i",function(){return a}),n.d(t,"h",function(){return c}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return h});var r=(n(0).get("util:dom:get_elements_from_selector:selector_text_matchers"),/^([a-zA-Z0-9\-_]|\\.)+/),o=/^( *\+ *| *~ *| *> *| +)/,i=/^ *> */,u=/^ +/,a=/^ *\+ */,c=/^ *~ */,f=/^\*/,s=/^[#.[:]/,l=/^([~^$*]?=|])/,p=/.*?[^\\](\\\\)*]/,h=/^['"]?(.*?)['"]?( i)?]$/},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=[];try{t=T()(O()(e.ownerDocument.querySelectorAll("::shadow link, ::shadow style")).map(function(e){return e.sheet}))}catch(e){}return t}function a(e,t,r){return p()(e.filter(function(e){return!(e.ownerNode&&e.ownerNode.disabled)}).map(function(e){return n.i(R.a)(e)})).filter(function(e){var o=n.i(k.b)(e.selectorText),i=!1;try{i=n.i(P.a)(t,o)}catch(e){}return(c(e.style)||f(e.style))&&i&&(null==r||o.indexOf(r.trim())>-1)})}function c(e){return"none"===e.getPropertyValue("display")}function f(e){return(e.getPropertyValue("-moz-binding")||"").indexOf("abp-elemhide")>-1}function s(e,t){var n=t.hasAttribute("style"),r=t.getAttribute("style");t.style.setProperty("display","block","important");var o=e.getComputedStyle(t).display;if(n&&null!=r)t.setAttribute("style",r);else{var i=t.attributes.getNamedItem("style");i&&t.removeAttributeNode(i),t.removeAttribute("style")}return"none"===o}var l=n(19),p=n.n(l),h=n(167),d=n.n(h),_=n(67),y=n.n(_),b=n(73),v=n.n(b),m=n(216),g=n.n(m),E=n(6),O=n.n(E),w=n(76),T=n.n(w),S=n(57),R=n(48),P=n(122),k=n(163),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=(n(0).get("detection:test_result:attribute:data:element_hiding"),function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),N(t,null,[{key:"fromStyleSheets",value:function(e){var n=e.documentSheets,r=e.shadowSheets;return new t(new A({documentSheets:n,shadowSheets:r}))}},{key:"fromElement",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.selector,i=r.documentSheets,l=void 0===i?T()(O()(e.ownerDocument.querySelectorAll("link, style")).map(function(e){return e.sheet})):i,p=r.shadowSheets,h=void 0===p?u(e):p,d=r.hiddenImmediately,_=e.ownerDocument.defaultView,y={hasNone:c(e.style),hasImportant:"important"===e.style.getPropertyPriority("display")},b={hasDisplayNoneImportant:s(_,e)},m=_.getComputedStyle(e),E=f(m),w=null!=e.shadowRoot,S=e.hidden,R=["id","class","hidden","disabled","style"],P=g()(e.attributes,function(e){return-1===R.indexOf(e.name)&&""===e.value}),N=P.map(function(e){var t=_.document.createElement("div");return t.hidden=!0,t.setAttribute(e.name,""),t.style.setProperty("display","block"),_.document.body.appendChild(t),t}),j=null;N.forEach(function(e,t){if(null==j){var n=_.getComputedStyle(e);n&&"none"===n.display&&(j=P[t].name)}}),N.forEach(function(e){e.parentElement&&e.parentElement.removeChild(e)});var C=null;null!=o&&(C=n.i(k.a)(o,e.ownerDocument)||o);var x=a(l,e,C),I=a(h,e,C),L=v()(T()(x.map(function(e){return e.parentStyleSheet}))),D=v()(T()(I.map(function(e){return e.parentStyleSheet}))),M=x.concat(I);return new t(new A({inlineDisplay:y,inlineStyleSheet:b,hiddenImmediately:d,hasHiddenAttribute:S,hidingId:j,hasShadowRoot:w,hasMozBinding:E,documentSheets:L,shadowSheets:D,hidingCSSRules:M}))}}]),N(t,[{key:"is",value:function(e){if(e instanceof t){var n=e,r=this.getValue(),o=n.getValue();if(r instanceof A&&o instanceof A)return r.is(o)}return!1}}]),t}(S.a));t.a=j;var A=function(){function e(t){var n=t.documentSheets,o=void 0===n?[]:n,i=t.shadowSheets,u=void 0===i?[]:i,a=t.hidingCSSRules,c=void 0===a?[]:a,f=t.inlineDisplay,s=void 0===f?{hasNone:!1,hasImportant:!1}:f,l=t.inlineStyleSheet,p=void 0===l?{hasDisplayNoneImportant:!1}:l,h=t.hiddenImmediately,d=t.hasHiddenAttribute,_=void 0!==d&&d,b=t.hidingId,v=t.hasMozBinding,m=void 0!==v&&v,g=t.hasShadowRoot,E=void 0!==g&&g;r(this,e),this.documentSheets=o,this.shadowSheets=u,this.hidingCSSRules=c,this.inlineDisplay=y()({},s),this.inlineStyleSheet=y()({},p),this.hiddenImmediately=h,this.hasHiddenAttribute=_,this.hidingId=null,null!=b&&(this.hidingId=b),this.hasMozBinding=m,this.hasShadowRoot=E}return N(e,[{key:"is",value:function(e){return d()(this,e)}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(2);n.d(t,"b",function(){return a});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=(n(0).get("detection:artifact:finder_record"),function(){function e(t,n,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r(this,e),this._type=t,this._foundAdblocker=n,this._elementMatchMethod=o,this._adblockerStyleSheets=i}return i(e,[{key:"type",value:function(){return this._type}},{key:"foundAdblocker",value:function(){return this._foundAdblocker}},{key:"findElementMatches",value:function(){if(this._foundAdblocker&&this._elementMatchMethod)return o["default"].resolve(this._elementMatchMethod.apply(this,arguments));throw new Error("no adblocker or element match method")}},{key:"supportsElementMatching",value:function(){return null!=this._elementMatchMethod}},{key:"getAdblockerStyleSheets",value:function(){return this._adblockerStyleSheets}}]),e}());t.a=u;var a={ADBLOCK:"adblock",ADBLOCK_PLUS:"adblock_plus",ADGUARD:"adguard",UBLOCK:"ublock",UBLOCK_ORIGIN:"ublock_origin",OPERA:"opera"}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window._sp_,r=[].concat(e),o=r.pop();r.reduce(function(e,t){return e[t]=e[t]||{},e[t]},n)[o]=t}t.a=r;n(0).get("life_cycle:util:set_sp_key")},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=n(97),a=n(2);n.d(t,"a",function(){return l}),n.d(t,"f",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return _}),n.d(t,"e",function(){return y});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=(n(0).get("life_cycle:feature"),function(){function e(){i(this,e),this.eventMap={},this.startPromise=a["default"].resolve(!0),this.resolutionPromise=a["default"].resolve(!0)}return c(e,[{key:"on",value:function(e,t){this.eventMap[e]=this.eventMap[e]||[],this.eventMap[e].push(t)}},{key:"emit",value:function(e){var t=this;(this.eventMap[e]||[]).forEach(function(e){return e.call(t)})}}]),e}()),s=new u.a(function(e){return function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.detection=e,n}return o(t,e),t}(e)}),l=new u.a,p=new u.a,h=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(f),d=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(s.to(f)),_=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(s.to(f)),y=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(s.to(f))},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";function r(e){return o.indexOf(e)>-1}var o=(n(0).get("util:ua_detection"),(navigator.userAgent||navigator.vendor||window.opera).toLowerCase()),i={chrome:function(){return r("chrome")&&!i.edge()&&!i.android_chrome()&&!i.opera()},phantom:function(){return r("phantom")},mobile:function(){return r("mobi")},android:function(){return r("android")},firefox:function(){return r("firefox")},safari:function(){return r("safari")&&r("mozilla")&&!i.edge()&&!i.chrome()&&!i.mobile()&&!i.mobile_safari()&&!i.opera()&&!i.phantom()},ie:function(){return r("trident")||r("msie")},edge:function(){return r("edge")},ipad:function(){return r("ipad")},mobile_safari:function(){return null!==o.match(/(ipod|iphone|ipad)/gi)&&null!==o.match(/AppleWebKit/gi)&&!r("crios")},android_chrome:function(){return r("chrome")&&r("android")},googlebot:function(){return r("googlebot")||r("adsbot-google")||r("mediapartners-google")},googleweblight:function(){return r("googleweblight")},bingbot:function(){return r("bingbot")||r("bingpreview")},exabot:function(){return r("exabot")},opera:function(){return r("opera")||r("opr/")},contains:r};t.a=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return"string"==typeof t?"_sp_"+t:"number"==typeof t?t.toString():"boolean"==typeof t?String(t):null==t?String(t):t[e]||null}var i=n(28),u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=(n(0).get("util:map"),function(){function e(){r(this,e),this._guid="_sp_map_key_"+Math.random().toString(),this._insertionCount=0,this.clear()}return a(e,[{key:"clear",value:function(){this._data={},this.size=0}},{key:"set",value:function(e,t){this.has(e)||(this.size++,this._insertionCount++);var n=o(this._guid,e);null==n&&(n="o_sp_"+this._insertionCount,Object.defineProperty(e,this._guid,{enumerable:!1,configurable:!0,writable:!0,value:n}));var r=this._data[n]?this._data[n][2]:this._insertionCount;this._data[n]=[e,t,r]}},{key:"has",value:function(e){return null!=this._getKeyIfInMap(e)}},{key:"get",value:function(e){var t=this._getKeyIfInMap(e);if(null!=t)return this._data[t][1]}},{key:"delete",value:function(e){var t=this._getKeyIfInMap(e);return null!=t&&(this.size--,delete this._data[t],!0)}},{key:"forEach",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=Object.keys(this._data);r.sort(function(e,n){return t._data[e][2]-t._data[n][2]}),r.forEach(function(r){var o=u(t._data[r],2),i=o[0],a=o[1];e.call(n,a,i)})}},{key:"_getKeyIfInMap",value:function(e){var t=o(this._guid,e);return null==t?null:t in this._data?t:null}}]),e}());t.a=n.i(i.a)(window.Map)?window.Map:c},function(e,t,n){function r(e){return(null==e?0:e.length)?o(e,i):[]}var o=n(63),i=1/0;e.exports=r},function(e,t,n){function r(e,t,n,r){var u=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var f=t[a],s=r?r(n[f],e[f],f,n,e):void 0;void 0===s&&(s=e[f]),u?i(n,f,s):o(n,f,s)}return n}var o=n(44),i=n(29);e.exports=r},function(e,t,n){"use strict";function r(e,t){return i(e.querySelectorAll("style,link"),t)}function o(e,t){return i(e.querySelectorAll("::shadow style,::shadow link"),t)}function i(e,t){return f()(e).map(function(e){return e.sheet}).filter(function(e){return a(e,t)})}function u(e,t){return e.some(function(e){return n.i(s.a)(e).some(t)})}function a(e,t){if(!e)return!1;var r=void 0;try{r=n.i(s.a)(e)}catch(e){return!1}return!(!r||0===r.length)&&r.every(t)}var c=n(6),f=n.n(c),s=n(48);n.d(t,"b",function(){return l}),t.a=r,t.d=o,t.c=u;var l=(n(0).get("detection:artifact:get_sheets_with_rules"),{ONLY_DISPLAY_NONE:/{\s*display:\s*none\s*!\s*important;\s*}/,ROOT:/:root/,DISPLAY_NONE_AND_ORPHAN:/display\s*:\s*none\s*!\s*important.*orphans\s*:\s*4321/})},function(e,t,n){function r(e){return(null==e?0:e.length)?o(e,1):[]}var o=n(63);e.exports=r},function(e,t,n){"use strict";function r(e,t){return p()(e,t)}function o(e){return s()(e,c).join("")}function i(){return o(r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,arguments.length>1&&void 0!==arguments[1]?arguments[1]:25))}function u(){var e=i();return document.getElementsByClassName(e).length>0?u():e}function a(){var e=i();return null!=document.getElementById(e)?a():e}function c(){return String.fromCharCode(r(97,122))}var f=n(118),s=n.n(f),l=n(225),p=n.n(l);t.a=r,t.b=i,t.d=u,t.c=a;n(0).get("util:random_generators")},function(e,t,n){"use strict";function r(e,t,n){return new s.a(t,n.length>0,o.bind(null,e,n),n)}function o(e,t){for(var r=arguments.length,o=Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];return f()(t.map(function(t){return n.i(p.a)(t).map(function(t){var n=t.selectorText,r=n.replace(/::content/g,""),u=e.querySelectorAll(r);return a()(u).filter(function(e){return o.some(function(t){return t.contains(e)||e.contains(t)})}).map(function(t){var n=i(e,r,t);return new l.a(l.b.STYLE,t,n)})})}))}function i(e,t,n){return t.replace(/(\[[^\]]*),/g,"$1"+h).split(",").map(function(e){return e.trim().replace(h,",")}).filter(function(t){return a()(e.querySelectorAll(t)).some(function(e){return e===n})}).join(",")}var u=n(6),a=n.n(u),c=n(16),f=n.n(c),s=n(9),l=n(65),p=n(48);t.b=r,t.a=o;var h=(n(0).get("detection:artifact:get_cosmetic_finder_record"),"__SP__COMMA_PLACEHOLDER")},function(e,t,n){"use strict";function r(e){return("div"===e.tagName.toLowerCase()||"img"===e.tagName.toLowerCase()||"iframe"===e.tagName.toLowerCase())&&(!!o(e)||i(e))}function o(e){return 0===e.clientHeight||0===e.offsetHeight||0===e.offsetWidth||0===e.clientWidth}function i(e){if(window.getComputedStyle){var t=window.getComputedStyle(e,null);if("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))return!0}return!1}function u(e){return a([e])[0]}function a(e){return e.map(function(e){var t=document.createElement("div");return Object.defineProperty(t,"_sp_isMarker",{writable:!1,configurable:!0,enumerable:!1,value:!0}),t.style.height="2px",t.style.width="2px",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",e.appendChild(t),[e,t]}).map(function(e){var t=f(e,2),n=t[0],r=t[1],i=o(r);return r.parentElement&&r.parentElement.removeChild(r),!(o(n)&&i)})}function c(e){return!0===e._sp_isMarker||!1}t.b=o,t.c=a,t.a=c;var f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n(0).get("util:dom:element_hidden");r.elementIsCollapsed=o,r.elementIsDisplayable=u,r.batchedElementIsDisplayable=a,r.isMarkerElement=c},function(e,t,n){function r(e,t){return o(e)?e:i(e,t)?[e]:u(a(e))}var o=n(10),i=n(184),u=n(195),a=n(47);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(87),a=(n(0).get("util:dom:get_elements_from_selector:consumers:attribute_consumer:element_attribute_modification_record"),function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.key=e,i.value=n,i}return i(t,e),t}(u.a));t.a=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=e.match(/\?(.*)/);return null==t?new i.a:t[1].trim().split("&").reduce(function(e,t){var n=t.indexOf("=");if(-1===n)return e.set(t,""),e;var r=t.substring(0,n),o=t.substring(n+1);return e.set(r,o),e},new i.a)}var i=n(15),u=n(94),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=(n(0).get("util:url"),function(){function e(t){r(this,e),this._parser=window.document.createElement("a"),this._parser.href=t,this._searchParams=o(this._parser.search)}return a(e,[{key:"_formatPathname",value:function(e){return"/"===e[0]?e:"/"+e}},{key:"toString",value:function(){var e=this.port?":"+this.port:"";return this.protocol+"//"+this.hostname+e+this.pathname+this.search+this.hash}},{key:"getSearchParam",value:function(e){var t=this._searchParams.get(encodeURIComponent(e));return null==t?t:decodeURIComponent(t)}},{key:"setSearchParam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._searchParams.set(encodeURIComponent(e),encodeURIComponent(t))}},{key:"deleteSearchParam",value:function(e){return this._searchParams["delete"](encodeURIComponent(e))}},{key:"forEachSearchParam",value:function(e){return this._searchParams.forEach(function(t,n){e(decodeURIComponent(t),decodeURIComponent(n))})}},{key:"protocol",get:function(){return this._parser.protocol||window.location.protocol},set:function(e){return this._parser.protocol=e}},{key:"hostname",get:function(){return this._parser.hostname},set:function(e){return this._parser.hostname=e}},{key:"port",get:function(){return"21"===this._parser.port||"80"===this._parser.port||"443"===this._parser.port?"":this._parser.port},set:function(e){return this._parser.port=e}},{key:"pathname",get:function(){return this._formatPathname(this._parser.pathname)},set:function(e){var t=this._formatPathname(e);return this._parser.pathname=t}},{key:"search",get:function(){var e=this,t=n.i(u.a)(this._searchParams).map(function(t){return t+"="+e._searchParams.get(t)}).join("&");return t.length>0?"?"+t:t},set:function(e){var t="?"===e[0]?e:"?"+e;this._searchParams=o(t)}},{key:"hash",get:function(){return this._parser.hash},set:function(e){return this._parser.hash=e}}]),e}());t.a=c},function(e,t,n){var r=n(61),o=r(Object.keys,Object);e.exports=o},function(e,t,n){var r=n(145),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";function r(e){try{return i()(e)}catch(e){return!1}}var o=n(198),i=n.n(o);t.a=r;n(0).get("util:is_native")},function(e,t,n){function r(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var o=n(182);e.exports=r},function(e,t,n){"use strict";function r(e){return e.join("")}n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return s});var o=(n(0).get("config:index"),"2.0.1003"),i=r(["w","w","w",".","s","u","m","m","e","r","h","a","m","s","t","e","r",".","c","o","m"]),u=r(["w","w","w",".","r","o","o","s","t","e","r","f","i","r","e","w","o","r","k",".","c","o","m"]),a=r(["/","/","f","s","m","1","0","1","9",".","g","l","o","b","a","l",".","s","s","l",".","f","a","s","t","l","y",".","n","e","t","/","f","s","m","/","d","s"]),c=r(["h","t","t","p","s",":","/","/","d","2","z","v","5","r","k","i","i","4","6","m","i","q",".","c","l","o","u","d","f","r","o","n","t",".","n","e","t","/","0","/","2",".","0",".","1","0","0","3","/","r","e","c","o","v","e","r","y","_","d","f","p","_","i","n","t","e","r","n","a","l","-","v","2",".","0",".","1","0","0","3",".","j","s"]),f=r(["h","t","t","p","s",":","/","/","d","2","z","v","5","r","k","i","i","4","6","m","i","q",".","c","l","o","u","d","f","r","o","n","t",".","n","e","t","/","0","/","2",".","0",".","1","0","0","3","/","r","e","c","o","v","e","r","y","_","l","i","b","_","a","p","i","_","i","f","r","a","m","e","-","v","2",".","0",".","1","0","0","3",".","h","t","m","l"]),s=r(["h","t","t","p","s",":","/","/","d","2","z","v","5","r","k","i","i","4","6","m","i","q",".","c","l","o","u","d","f","r","o","n","t",".","n","e","t","/","0","/","2",".","0",".","1","0","0","3","/","r","e","c","o","v","e","r","y","_","l","i","b","_","r","i","d","_","i","f","r","a","m","e","-","v","2",".","0",".","1","0","0","3",".","h","t","m","l"])},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e){if(!i(e))return!1;var t=o(e);return t==a||t==c||t==u||t==f}var o=n(51),i=n(13),u="[object AsyncFunction]",a="[object Function]",c="[object GeneratorFunction]",f="[object Proxy]";e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}var o=n(35);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},,function(e,t,n){function r(e){return null!=e&&i(e.length)&&!o(e)}var o=n(32),i=n(82);e.exports=r},function(e,t,n){"use strict";function r(){for(var e=n.i(o.a)(0,5),t=[],r=0;r<e;r++)t.push(n.i(o.b)());return t}var o=n(20);t.a=r;n(0).get("util:dom:get_elements_from_selector:consumers:attribute_consumer:generate_random_words")},function(e,t,n){"use strict";function r(e){return o.g.exec(e)[1]}var o=n(7);t.a=r;n(0).get("util:dom:get_elements_from_selector:consumers:attribute_consumer:unwrap_attribute_value")},function(e,t,n){"use strict";function r(e){var t=e.lookAheadRegex(f.b,f.c);t.length>0&&e.consumeCharacters(t);var n=void 0;n="*"===t||0===t.length?new o.b("div"):new o.b(t);for(var r=e.lookAheadRegex(f.d);r.length>0;){var i=s[r];n.addElementModificationRecord(i(e)),r=e.lookAheadRegex(f.d)}return n}var o=n(88),i=n(307),u=n(310),a=n(311),c=n(315),f=n(7);t.a=r;var s=(n(0).get("util:dom:get_elements_from_selector:consumers:element_consumer"),{"[":i.a,".":u.a,"#":c.a,":":a.a})},function(e,t,n){"use strict";function r(e){return new Error("Unsupported Selector: "+e)}function o(e){return new Error("Unparseable Selector: "+e)}function i(e){return new Error("Non-Matching Selector: "+e)}function u(e){return new Error("Network Request Triggering Selector: "+e)}t.c=r,t.a=o,t.b=i,t.d=u;n(0).get("util:dom:get_elements_from_selector:error")},function(e,t,n){function r(e,t,n){var r=e[t];a.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||o(e,t,n)}var o=n(29),i=n(35),u=Object.prototype,a=u.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=f(e);if(!t)return[];var n=m()(t.data,g),r=b()(n);return _()(r,function(e){return e.net_list}).map(function(e){return h()(e,function(e,t){return l()(t)})})}function i(e){return c(e,g)}function u(e){return c(e,E)}function a(e){var t=f(e);if(!t)return null;var n=t.data.test_urls;return{img:n.i_url,script:n.s_url}}function c(e,t){var n=[],o=f(e);if(!o)return n;var i=m()(o.data,t);for(var u in i){var a=i[u];if(a.hasOwnProperty("css")){var c=a.css,s=c.blacklist,l=c.non_specific_blacklist;n.push.apply(n,r(s)),n.push.apply(n,r(l))}}return n}function f(e){return e.responseText?JSON.parse(e.responseText):null}var s=n(346),l=n.n(s),p=n(350),h=n.n(p),d=n(62),_=n.n(d),y=n(120),b=n.n(y),v=n(104),m=n.n(v);t.c=o,t.d=i,t.a=u,t.b=a;var g=(n(0).get("detection:fsm:parse_data"),["reg","exception"]),E=["legacy"]},function(e,t,n){n(0).get("util:beacon:beacon_types");e.exports={BEACON:"bcn",IMPRESSION:"imp",CLICK:"clk",CONTEXT_CLICK:"ctx",CONTENT_CONTROL:"cct",MSG:"msg"}},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){"use strict";function r(e){var t=void 0;try{if(null==e.cssRules)return[];t=c()(e.cssRules)}catch(e){return[]}return u()(c()(t).map(function(e){return o(e)}))}function o(e){return e.type===CSSRule.STYLE_RULE?e:null!=e.cssRules?c()(e.cssRules).map(function(e){return o(e)}):[]}var i=n(16),u=n.n(i),a=n(6),c=n.n(a);t.a=r;n(0).get("util:css:extract_style_rules_from_style_sheet")},function(e,t,n){var r=n(237),o=n(116),i=r(o);e.exports=i},function(e,t,n){n(0).get("util:beacon:beacon_keys");e.exports={USER_ID:"uid",SCRIPT_VERSION:"v",ACCOUNT_ID:"cid",PAGE_URL:"u",CORRELATION_ID:"bid",REASON_CODE:"rc",SENTINEL_FLAG:"sntl",ADBLOCK_DETECTED:"abl",FIRST_ACCESS:"fa",SESSION_START:"ss",PRIVACY_LIST_BLOCKED:"pl",UNSUPPORTED_OPERATING_SYSTEM:"unsupos",UNSUPPORTED_NEW_BROWSER:"unsupnb",UNSUPPORTED_USER_AGENT:"unsupua",RECOVERY_FLAG:"rcv",WHITELISTED_SESSION:"wnsk",INJECTION_STATE:"st",INJECTION_DOMAINS:"noq.id",INJECTION_CLASSES:"noq.ic",INJECTION_IDS:"noq.ii",DEBUG_0:"d0",DEBUG_1:"d1",DEBUG_2:"d2",CUSTOMER_1:"c0",CUSTOMER_2:"c1",CUSTOMER_3:"c2",EXCEPTION_RULES:"er",cct:{LOCK:"l",CONTROL_TYPE:"ct"},msg:{MSG_ID:"mid",MSG_EVENT_TYPE:"met"}}},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.document;return n.i(o.a)(t).then(function(e){return n.i(o.b)(e)?[]:e}).then(function(e){return new i.a(i.b.UBLOCK,e.length>0,o.c.bind(null,t),e)})}var o=n(84),i=n(9);t.a=r;n(0).get("detection:artifact:generic:ublock")},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.some(function(t){return e.nodeName.toLowerCase()===t})}function o(e){return r(e,"iframe")}function i(e){return r(e,"img")}function u(e){return r(e,"video")}function a(e){return o(e)&&(!e.src||"about:blank"===e.src||0===e.src.indexOf("javascript"))}function c(e,t){try{return"complete"===e.contentDocument.readyState&&e.contentDocument.body&&b()(e.contentDocument.querySelectorAll("*")).some(t)}catch(e){}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c(e,function(n){return!r(n,"html","head","body")&&(t||!r(n,"link","script")&&!e.contentDocument.head.contains(n))})}function s(e){return c(e,function(e){return!r(e,"html","head","body")&&_(e)})}function l(e){return a(e)&&f(e)}function p(){function e(e){o(e.target)&&n.add(e.target)}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(g&&!E.has(t)){var n=g.get(t)||new m.a;n&&(g.set(t,n),E.set(t,e),t.document.addEventListener("load",e,!0))}}function h(e){if(f(e,!0))return!0;if(!g)return!1;var t=g.get(e.ownerDocument.defaultView);return!!t&&t.has(e)}function d(e){if(r.apply(void 0,[e].concat(w)))return!0;if(i(e)&&(null==e.naturalHeight||0===e.naturalHeight||1===e.naturalHeight||!e.complete))return!0;if(e.ownerDocument.head.contains(e))return!0;if(o(e)){if(!1===s(e))return!0}return!1}function _(e){return!d(e)&&(0===e.children.length||(!!b()(e.childNodes).some(function(e){return 3===e.nodeType&&e.data.trim().length>0})||(!!r.apply(void 0,[e].concat(O))||e.ownerDocument.defaultView.getComputedStyle(e).backgroundImage.toLowerCase().indexOf("url(")>-1)))}var y=n(6),b=n.n(y),v=n(15),m=n(54);t.d=r,t.c=o,t.g=i,t.h=u,t.b=l,t.a=p,t.f=h,t.i=d,t.e=_;var g=(n(0).get("util:dom:is_element"),new v.a),E=new v.a,O=["iframe","img","video","object","input","button","select","textarea"],w=["link","script"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(15),i=n(28),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(n(0).get("util:set"),function(){function e(){r(this,e),this._data=new o.a}return u(e,[{key:"add",value:function(e){this._data.set(e,e)}},{key:"has",value:function(e){return this._data.has(e)}},{key:"delete",value:function(e){return this._data["delete"](e)}},{key:"clear",value:function(){return this._data.clear()}},{key:"forEach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this._data.forEach(function(n){e.call(t,n)})}},{key:"size",get:function(){return this._data.size}}]),e}());t.a=n.i(i.a)(window.Set)?window.Set:a},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(85),c=n(1),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(0).get("detection:fsm:data_dependent_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,null,[{key:"findDependency",value:function(e){return e.has(c.b.FSM_DATA)}},{key:"getFSMData",value:function(e,t){return e.map(function(e){return e.getData(a.a)}).filter(function(e){return e}).map(function(e){return t(e)}).filter(function(e){return e})}}]),t}(u.a));t.a=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(1),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=(n(0).get("detection:test_result:attribute:data:index"),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"DataAttribute"));return n._value=e,n}return i(t,e),a(t,[{key:"is",value:function(e){return e instanceof t&&e.getValue()===this._value}},{key:"getValue",value:function(){return this._value}}]),t}(u.e));t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(0).get("util:dom:get_elements_from_selector:element_hierarchy_modification_record"),function(){function e(t){r(this,e),this.elementRecord=t}return o(e,[{key:"applyToElementRecord",value:function(e){throw new Error("not implemented")}},{key:"getElementRecord",value:function(){return this.elementRecord}}]),e}());t.a=i},function(e,t,n){function r(e,t){return u(i(e,t,o),e+"")}var o=n(110),i=n(193),u=n(194);e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function r(e,t){return o(i(e,t),1)}var o=n(63),i=n(199);e.exports=r},function(e,t,n){function r(e,t,n,u,a){var c=-1,f=e.length;for(n||(n=i),a||(a=[]);++c<f;){var s=e[c];t>0&&n(s)?t>1?r(s,t-1,n,u,a):o(a,s):u||(a[a.length]=s)}return a}var o=n(236),i=n(239);e.exports=r},function(e,t,n){"use strict";function r(e){d="OFF"!==e;var t={defaultLevel:h[e]},n={};p.a.ie()||p.a.edge()?t.formatter=function(e,t){null!=t.name&&e.unshift("[SP:"+t.name+"]")}:t.formatter=function(e,t){var r=t.name;if(null!=r){if(!(r in n)){var o=f(c(u(i(r))));n[r]=o}e.unshift("%c[SP:"+r+"]","color: "+n[r])}},l.a.useDefaults(t)}function o(){return d}function i(e){for(var t=0,n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}function u(e){return[(16711680&e)>>16,(65280&e)>>8,255&e]}function a(e){return.299*e[0]+.587*e[1]+.114*e[2]}function c(e){var t=a(e);if(t>_){var n=_/t;return[Math.floor(e[0]*n),Math.floor(e[1]*n),Math.floor(e[2]*n)]}return e}function f(e){return"#"+e.map(function(e){return e.toString(16)}).join("")}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=n.n(s),p=n(14);t["default"]=r,t.isLoggerEnabled=o;var h=(n(0).get("util:logger:init"),{DEBUG:l.a.DEBUG,INFO:l.a.INFO,TIME:l.a.TIME,WARN:l.a.WARN,ERROR:l.a.ERROR,OFF:l.a.OFF}),d=!1,_=100},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return i});var o=(n(0).get("detection:artifact:element_match_record"),function e(t,n,o){r(this,e),this.type=t,this.element=n,this.info=o});t.a=o;var i={STYLE:"s",MOZ:"m"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(2),s=n(22),l=n(135),p=n(1),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0).get("detection:generic_adblocker:element_hiding_test"),_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),h(t,null,[{key:"getSchema",value:function(){return new a.a(p.b.GENERIC_ADBLOCKER,p.c.INFERENCE,p.c.ELEMENT,p.c.HIDING,p.c.HIDING_DATA)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".plainAd",t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return new f["default"](function(i){function u(t){if(n.i(s.b)(f))return d.error("control element hidden, standing down element hiding detection test",f),h(p.a.NOT_PRESENT,p.f.CONTROL_ELEMENT_HIDDEN);n.i(s.b)(a)&&(d.info("bait element hidden, element hiding detection test detected adblocker",a),h(p.a.PRESENT,p.f.ELEMENT_HIDDEN,c.a.fromElement(a,{selector:e,hiddenImmediately:t})))}var a=n.i(l.a)(e,r.document)[0];a.style.position="absolute",a.style.top="-2000px",a.style.left="-2000px",a.style.height="30px",a.style.width="30px";var f=a.cloneNode(!1);f.removeAttribute("class"),f.removeAttribute("id"),r.document.body.appendChild(a),r.document.body.appendChild(f);var h=function(){for(var n,o=arguments.length,u=Array(o),c=0;c<o;c++)u[c]=arguments[c];r.clearInterval(y),a.parentElement&&r.document.body.removeChild(a),f.parentElement&&r.document.body.removeChild(f),i((n=t.getSchema()).createResult.apply(n,[new p.v(e)].concat(u)))},_=0,y=r.setInterval(function(){if(++_===o)return d.info("bait element not hidden, element hiding detection test did not detect adblocker"),void h(p.a.NOT_PRESENT,p.f.NO_ELEMENT_HIDDEN);u(!1)},10);u(!0)})}}]),t}(u.b);t.a=_},function(e,t,n){var r=n(44),o=n(17),i=n(71),u=n(39),a=n(102),c=n(26),f=Object.prototype,s=f.hasOwnProperty,l=i(function(e,t){if(a(t)||u(t))return void o(t,c(t),e);for(var n in t)s.call(t,n)&&r(e,n,t[n])});e.exports=l},function(e,t){function n(){}e.exports=n},,function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(187),i=n(188),u=n(189),a=n(190),c=n(191);r.prototype.clear=o,r.prototype["delete"]=i,r.prototype.get=u,r.prototype.has=a,r.prototype.set=c,e.exports=r},function(e,t,n){function r(e){return o(function(t,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(u=e.length>3&&"function"==typeof u?(o--,u):void 0,a&&i(n[0],n[1],a)&&(u=o<3?void 0:u,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,u)}return t})}var o=n(59),i=n(78);e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return e&&e.length?o(e):[]}var o=n(81);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},function(e,t,n){function r(e,t){t=o(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[i(t[n++])];return n&&n==r?e:void 0}var o=n(23),i=n(34);e.exports=r},function(e,t){function n(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}e.exports=n},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t){function n(){return!1}e.exports=n},,function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n,r){var o=e.charCodeAt(0),i=r-n;if(o<n||o>r)return o;var u=o-n;return u=(u+t+i)%i,String.fromCharCode(u+n)}n.d(t,"a",function(){return s});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=(n(0).get("util:shift_cipher"),function(){function e(t){i(this,e),this._shift=t}return a(e,[{key:"encode",value:function(e){return this._encode(e,this._shift)}},{key:"decode",value:function(e){return this._encode(e,-this._shift)}}]),e}()),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"_encode",value:function(e,t){return e.split("").map(function(e){return u(e,t,33,127)}).join("")}}]),t}(c);t.b=f;var s=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"_encode",value:function(e,t){return e.replace(/[A-Z]/g,function(e){return u(e,t,65,91)}).replace(/[a-z]/g,function(e){return u(e,t,97,123)})}}]),t}(c)},function(e,t,n){function r(e,t,n){var r=-1,l=i,p=e.length,h=!0,d=[],_=d;if(n)h=!1,l=u;else if(p>=s){var y=t?null:c(e);if(y)return f(y);h=!1,l=a,_=new o}else _=t?[]:d;e:for(;++r<p;){var b=e[r],v=t?t(b):b;if(b=n||0!==b?b:0,h&&v===v){for(var m=_.length;m--;)if(_[m]===v)continue e;t&&_.push(v),d.push(b)}else l(_,v,n)||(_!==d&&_.push(v),d.push(b))}return d}var o=n(124),i=n(234),u=n(235),a=n(125),c=n(238),f=n(109),s=200;e.exports=r},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){"use strict";function r(){return i++,i%=o.length,o[i]}n.d(t,"a",function(){return o}),t.b=r;var o=(n(0).get("detection:artifact:get_easylist_classnames"),["ad-space","placeholder-ad","placeholderAd","plainAd","play-page-ads","playAds1","playAds2","player-ads","player-leaderboard-ad-wrapper","player-under-ad","playerAd","player_ad","player_ad2","player_ad_box","player_hover_ad","player_page_ad_box"]),i=Math.floor(Math.random()*o.length)},function(e,t,n){"use strict";function r(e){return o(e,function(){var t=n.i(p.a)(e,function(e){return p.b.ONLY_DISPLAY_NONE.test(e.cssText)}),r=t.length>0&&t.every(function(e){return e.cssRules.length<50}),o=n.i(p.c)(t,function(e){return s.a.some(function(t){return e.selectorText.toLowerCase().indexOf(t.toLowerCase())>-1})});return r&&o?t:[]})}function o(e,t){var r=e.createElement("div");return new f["default"](function(t){r.className=n.i(s.b)();var o=new MutationObserver(function(n){n.some(function(e){return c()(e.addedNodes).some(function(e){return e===r})})&&(o.disconnect(),e.defaultView.setTimeout(function(){t()},1))});o.observe(e.body,{childList:!0}),e.body.appendChild(r)}).then(function(){return new f["default"](function(n){e.defaultView.setTimeout(function(){n(t(r)),r.parentElement&&e.body.removeChild(r)},150)})})}function i(e){return n.i(p.c)(e,function(e){return p.b.ROOT.test(e.cssText)})}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return r(e).then(function(t){return l.a.apply(void 0,[e,t].concat(n))})}var a=n(6),c=n.n(a),f=n(2),s=n(83),l=n(21),p=n(18);t.a=r,t.d=o,t.b=i,t.c=u;n(0).get("detection:artifact:get_ublock_sheets")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(57),a=(n(0).get("detection:test_result:attribute:data:xhr"),function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),t}(u.a));t.a=a},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(0).get("util:dom:get_elements_from_selector:element_modification_record"),function(){function e(){r(this,e)}return o(e,[{key:"applyToElement",value:function(e){throw new Error("not implemented")}}]),e}());t.a=i},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return(e instanceof a.a?1:-1)-(t instanceof a.a?1:-1)}var a=n(24);n.d(t,"a",function(){return f});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=(n(0).get("util:dom:get_elements_from_selector:element_record"),function(){function e(){i(this,e),this._childElementRecords=[]}return c(e,[{key:"appendChildElementRecord",value:function(e){e.setParentElementRecord(this),this._childElementRecords.push(e)}},{key:"generateElementHierarchy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return this._childElementRecords.map(function(t){return t.generateElement(e)})}}]),e}()),s=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._nodeName=e,n._elementModificationRecords=[],n}return o(t,e),c(t,[{key:"addElementModificationRecord",value:function(e){this._elementModificationRecords.push(e)}},{key:"setParentElementRecord",value:function(e){this._parentElementRecord=e}},{key:"getParentElementRecord",value:function(){return this._parentElementRecord}},{key:"generateElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.createElement(this._nodeName);return this._elementModificationRecords.slice().sort(u).forEach(function(e){e.applyToElement(t)}),this.generateElementHierarchy(e).forEach(function(e){t.appendChild(e)}),t}}]),t}(f);t.b=s},function(e,t,n){function r(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||o(e,t,n)}var o=n(29),i=n(35);e.exports=r},function(e,t,n){var r=n(181),o=r();e.exports=o},function(e,t,n){var r=n(27),o=r["__core-js_shared__"];e.exports=o},function(e,t,n){var r=n(61),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t){function n(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){"use strict";function r(e){if(e instanceof o.a){if("function"==typeof e.keys&&"function"==typeof Array.from&&n.i(u.a)(Array.from)){return Array.from.bind(Array)(e.keys())}var t=[];return e.forEach(function(e,n){return t.push(n)}),t}if(e instanceof i.a){if("function"==typeof e.keys&&"function"==typeof Array.from&&n.i(u.a)(Array.from)){return Array.from.bind(Array)(e.keys())}var r=[];return e.forEach(function(e){return r.push(e)}),r}throw new Error("non es6 structure")}var o=n(15),i=n(54),u=n(28);t.a=r;n(0).get("util:es6_keys")},,function(e,t,n){"use strict";function r(e){for(var t=[],r=e;r&&!n.i(u.d)(r,"html","head","body");)t.push(r),r=r.parentElement;t.reverse();var o=e.querySelectorAll("*");return t.concat(i()(o))}var o=n(6),i=n.n(o),u=n(53);t.a=r;n(0).get("util:dom:get_all_elements_in_hierarchy")},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(e)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=(n(0).get("util:mixin"),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;i(this,e),this._toCallback=t,this._mixinClasses=[]}return a(e,[{key:"to",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this._toCallback.apply(this,[e].concat(n));return this._mixinClasses.push(o),o}},{key:"test",value:function(e){var t=e.hasOwnProperty("prototype")?e.prototype:e;return this._mixinClasses.some(function(n){return t instanceof n||e===n})}}]),e}());t.a=c},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t){function n(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=f?f(n):new e.constructor(n);return e.copy(r),r}var o=n(27),i="object"==typeof t&&t&&!t.nodeType&&t,u=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=u&&u.exports===i,c=a?o.Buffer:void 0,f=c?c.allocUnsafe:void 0;e.exports=r}).call(t,n(203)(e))},function(e,t,n){function r(e){return"function"!=typeof e.constructor||u(e)?{}:o(i(e))}var o=n(171),i=n(92),u=n(102);e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){var r=n(176),o=n(113),i=o(function(e,t){return null==e?{}:r(e,t)});e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.document;return n.i(o.a)(t).then(function(e){return n.i(o.b)(e)?e:[]}).then(function(e){return new i.a(i.b.UBLOCK_ORIGIN,e.length>0,o.c.bind(null,t),e)})}var o=n(84),i=n(9);t.a=r;n(0).get("detection:artifact:generic:ublock_origin")},function(e,t,n){var r=n(27),o=r.Symbol;e.exports=o},function(e,t,n){function r(e,t,n,r){if(!a(e))return e;t=i(t,e);for(var f=-1,s=t.length,l=s-1,p=e;null!=p&&++f<s;){var h=c(t[f]),d=n;if(f!=l){var _=p[h];d=r?r(_,h,p):void 0,void 0===d&&(d=a(_)?_:u(t[f+1])?[]:{})}o(p,h,d),p=p[h]}return e}var o=n(44),i=n(23),u=n(93),a=n(13),c=n(34);e.exports=r},function(e,t,n){function r(e,t,n){t=o(t,e);for(var r=-1,s=t.length,l=!1;++r<s;){var p=f(t[r]);if(!(l=null!=e&&n(e,p)))break;e=e[p]}return l||++r!=s?l:!!(s=null==e?0:e.length)&&c(s)&&a(p,s)&&(u(e)||i(e))}var o=n(23),i=n(55),u=n(10),a=n(93),c=n(82),f=n(34);e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e){return i(e)&&o(e)}var o=n(39),i=n(36);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(5),i=n(11),u=n(80),a=n(30),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0).get("util:beacon:core"),s=n(230).beacon,l=n(46),p=n(50),h=new u.a(s.shiftKey),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.BEACON,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o["default"].get(["beacon","pageViewEndpoint"]),a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r(this,e),window._sp_&&window._sp_._bid?this._bid=window._sp_._bid:(this._bid=Math.floor(1e9*Math.random()),n.i(i.a)("_bid",this._bid)),this._beaconType=t,this._data={},this._endpoint=u,this._sent=!1,this._shouldCipher=a}return c(e,[{key:"set",value:function(e,t){this._data[e]=String(t)}},{key:"get",value:function(e){return this._data[e]}},{key:"unset",value:function(e){delete this._data[e]}},{key:"send",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(!0===this._sent)return void e(new Error("Beacon already sent"));this._sent=!0,this.set("cb",(new Date).getTime()),this.populateBeaconFields(),this._sendBeacon(e)}},{key:"populateBeaconFields",value:function(){this.set(p.SCRIPT_VERSION,a.a),this.set(p.CORRELATION_ID,this._bid),this.set(p.ACCOUNT_ID,o["default"].get("accountId"))}},{key:"getBeaconUrl",value:function(){return"//"+this._getEndpoint()+"/"+this._beaconType+"?"+this._encodeData()}},{key:"_sendBeacon",value:function(e){var t=this.getBeaconUrl(),n=new Image;f.info("firing "+this._beaconType+" beacon: "+t),f.info("beacon data",this._data),n.addEventListener("load",function(){return e()}),n.addEventListener("error",function(t){return e(t)}),n.src=t}},{key:"_getEndpoint",value:function(){return this.processEndpoint(this._endpoint)}},{key:"processEndpoint",value:function(e){return e}},{key:"_encodeData",value:function(){var e=this,t=Object.keys(this._data).map(function(t){return encodeURIComponent(e._shouldCipher?h.encode(t):t)+"="+encodeURIComponent(e._shouldCipher?h.encode(e._data[t]):e._data[t])});return t=this.dataPostProcessing(t),t.join("&")}},{key:"dataPostProcessing",value:function(e){return e}}]),e}();t.a=d},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return i(e)?u(e):o(e)}var o=n(217),i=n(114),u=n(223);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var c=null==n?0:u(n);return c<0&&(c=a(r+c,0)),o(e,i(t,3),c)}var o=n(218),i=n(31),u=n(119),a=Math.max;e.exports=r},function(e,t,n){function r(e){if(!u(e)||o(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==p}var o=n(51),i=n(92),u=n(36),a="[object Object]",c=Function.prototype,f=Object.prototype,s=c.toString,l=f.hasOwnProperty,p=s.call(Object);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e){return null==e?[]:o(e,i(e))}var o=n(220),i=n(26);e.exports=r},,function(e,t,n){"use strict";function r(e,t){return(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){var t=this,n=(this.document||this.ownerDocument).querySelectorAll(e);return i()(n).some(function(e){return e===t})}).call(e,t)}var o=n(6),i=n.n(o);t.a=r;n(0).get("util:dom:matches_selector")},,function(e,t,n){function r(){if(!arguments.length)return[];var e=arguments[0];return o(e)?e:[e]}var o=n(10);e.exports=r},function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&o(e,t,0)>-1}var o=n(99);e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){"use strict";var r=n(263);n(0).get("detection:adblocker:generic:ublock_origin:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.navigator;return n.i(a.b)(e,t,r).then(function(t){var n=t.blocked,r=t.succeeded,o=t.type,a=t.status,c=t.timeStamp,f=t.errorText,h=t.xhr;s.info("ajax test finished",n,r,o,a,c,f,h);var d=n?l[o]:p[o],_=[];return null!=a&&_.push(new u.h(a)),null!=c&&_.push(new u.i(c)),null!=f&&_.push(new u.j(f)),_.push(new u.g(e)),{blocked:n,succeeded:r,reasonAttribute:d,infoAttributes:_,xhrData:h&&new i.a(h)}})}var i=n(85),u=n(1),a=n(228);t.a=o;var c,f,s=n(0).get("detection:interference:ajax_network_test:promise"),l=(c={},r(c,a.a.NETWORK_FAILURE,u.f.AJAX_LOAD_BLOCK),r(c,a.a.OPEN_ERROR,u.f.AJAX_OPEN_BLOCK),r(c,a.a.SEND_ERROR,u.f.AJAX_SEND_BLOCK),c),p=(f={},r(f,a.a.SUCCEEDED,u.f.AJAX_LOAD_SUCCESS),r(f,a.a.NETWORK_FAILURE,u.f.AJAX_LOAD_ERROR),r(f,a.a.OFFLINE,u.f.OFFLINE),r(f,a.a.PROTOCOL_MISMATCH,u.f.PROTOCOL_MISMATCH),f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return new p["default"](function(n){var r=document.createElement("div");r.style.position="absolute",r.style.left="-9999px",r.style.top="-9999px",r.style.width="1px",r.style.height="1px";var o=new Image;o.setAttribute("height","1"),o.setAttribute("width","1"),r.appendChild(o);var i=c()(function(o,i,u){r.parentElement&&document.body.removeChild(r),n(e.createResult(o,i,new h.g(t),new l.a(u)))});o.addEventListener("load",function(e){o.src===y?i(h.a.PRESENT,h.f.URL_REWRITTEN,e):i(h.a.NOT_PRESENT,h.f.NO_LOAD_BLOCK,e)},!0),o.addEventListener("error",function(e){i(h.a.PRESENT,h.f.LOAD_BLOCK,e)},!0),o.src=t,document.body.appendChild(r)})}var a=n(146),c=n.n(a),f=n(3),s=n(4),l=n(131),p=n(2),h=n(1),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=(n(0).get("detection:interference:image_network_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,null,[{key:"getSchema",value:function(){return new s.a(h.b.INTERFERENCE,h.c.INFERENCE,h.c.IMAGE,h.c.NETWORK)}},{key:"testMethod",value:function(e){return null==e?this.getSchema().createResult(h.a.NOT_PRESENT,h.f.CANNOT_TEST):u(this.getSchema(),e)}}]),t}(f.b));t.a=_;var y="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs="},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e+"?cb="+Date.now()}function a(e,t,n){var r=n.document.createElement("script");return new l["default"](function(o){r.addEventListener("load",function(n){o(e.createResult(d.a.NOT_PRESENT,d.f.NO_LOAD_BLOCK,new d.g(t),new s.a(n)))}),r.addEventListener("error",function(n){o(e.createResult(d.a.PRESENT,d.f.LOAD_BLOCK,new d.g(t),new s.a(n)))}),h.a.safari()&&window.setTimeout(function(){o(e.createResult(d.a.NOT_PRESENT,d.f.TIMEOUT,new d.g(t)))},1e4),r.src=t,n.document.body.appendChild(r)}).then(function(e){return r.parentElement&&r.parentElement.removeChild(r),e})}var c=n(3),f=n(4),s=n(131),l=n(2),p=n(128),h=n(14),d=n(1),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=(n(0).get("detection:interference:script_network_test"),["/","/","d","3","u","j","i","d","s6","8","p","6x","m","q",".","c","l","o","ud","f","r","o","n","t",".","ne","t","/","x",".","j","s"].join("")),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),_(t,null,[{key:"getSchema",value:function(){return new f.a(d.b.INTERFERENCE,d.c.INFERENCE,d.c.SCRIPT,d.c.AJAX,d.c.NETWORK)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=u(e);return a(this.getSchema(),r,t).then(function(e){return e.has(d.a.NOT_PRESENT)?e:n.i(p.a)(r).then(function(t){return t.blocked||t.succeeded?e.addAttribute(t.reasonAttribute,t.infoAttributes):e.addAttribute(d.a.NOT_PRESENT,t.reasonAttribute,t.infoAttributes).removeAttribute(d.a.PRESENT)})})}}]),t}(c.b);t.a=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(57),a=(n(0).get("detection:test_result:attribute:data:event"),function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),t}(u.a));t.a=a},function(e,t,n){"use strict";function r(e){var t={};for(var n in u)!function(n){t[n]=e.filter(function(e){return u[n](e)})}(n);return t}var o=n(57),i=n(1);t.a=r;var u=(n(0).get("detection:test_result:attribute:group_attributes_by_type"),{types:i.k,tests:i.l,reasons:i.m,results:i.d,info:i.n,data:function(e){return e instanceof o.a}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(76),i=n.n(o),u=n(19),a=n.n(u),c=n(141),f=n.n(c),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:test_result:core"),function(){function e(){r(this,e);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];this.attributes=f()(a()(i()(n)),function(e,t){return e.is(t)})}return s(e,[{key:"has",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.every(function(t){return e.attributes.some(function(e){return e.is(t)})})}}]),e}());t.a=l},function(e,t,n){"use strict";function r(){for(var e=n.i(i.a)(0,5),t=[],r=0;r<e;r++){var a=u[n.i(i.a)(0,u.length)];t.push(new o.b(a))}return t}var o=n(88),i=n(20);t.a=r;var u=(n(0).get("util:dom:get_elements_from_selector:consumers:generate_random_element_records"),["li","span","div"])},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;try{t.querySelector(e)}catch(t){throw n.i(a.a)(e.toString())}var r=n.i(u.a)(new i.a(e.trim())).generateElementHierarchy(t);return o(e,r,t),r}function o(e,t,r){var o=r.createElement("div");if(t.forEach(function(e){o.appendChild(e)}),!(null!=o.querySelector(e)))throw n.i(a.b)(e)}var i=n(317),u=n(312),a=n(43);t.a=r;n(0).get("util:dom:get_elements_from_selector:index")},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var u=(n(0).get("util:network_event"),function e(t,n){i(this,e),this.src=t,this.tagName=n}),a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(u),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(u)},function(e,t){function n(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}e.exports=n},function(e,t,n){var r=n(61),o=r(Object.keys,Object);e.exports=o},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function r(e,t){return e&&e.length?i(e,o(t,2)):[]}var o=n(31),i=n(81);e.exports=r},function(e,t,n){function r(e,t){return t="function"==typeof t?t:void 0,e&&e.length?o(e,void 0,t):[]}var o=n(81);e.exports=r},function(e,t,n){"use strict";var r=(n(0).get("util:logger:levels"),["DEBUG","INFO","TIME","WARN","ERROR","OFF"]);t.a=r},,,function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(147))},function(e,t,n){function r(e){return o(2,e)}var o=n(345);e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(16),o=n.n(r),i=n(245),u=n(247),a=n(249),c=n(251),f=n(127);n(0).get("detection:adblocker:chrome:index");t.a=o()([i.a,u.a,a.a,c.a,f.a])},function(e,t,n){"use strict";var r=n(16),o=n.n(r),i=n(254),u=n(256),a=n(259),c=n(127);n(0).get("detection:adblocker:firefox:index");t.a=o()([i.a,u.a,a.a,c.a])},function(e,t,n){"use strict";var r=n(16),o=n.n(r),i=n(265);n(0).get("detection:adblocker:internet_explorer:index");t.a=o()([i.a])},function(e,t,n){"use strict";var r=n(16),o=n.n(r),i=n(266);n(0).get("detection:adblocker:opera:index");t.a=o()([i.a])},function(e,t,n){"use strict";var r=n(16),o=n.n(r),i=n(268),u=n(270),a=n(261);n(0).get("detection:adblocker:safari:index");t.a=o()([i.a,u.a,a.a])},function(e,t,n){"use strict";function r(e){var t=e.document,r=n.i(u.d)(t,function(e){return u.b.ONLY_DISPLAY_NONE.test(e.cssText)}),a=1===r.length&&r[0].cssRules.length<200?r:[];return n.i(o.b)(t,i.b.ADBLOCK,a)}var o=n(21),i=n(9),u=n(18);t.a=r;n(0).get("detection:artifact:chrome:adblock")},function(e,t,n){"use strict";function r(e){var t=e.document,r=n.i(u.d)(t,function(e){return u.b.ONLY_DISPLAY_NONE.test(e.cssText)}),a=1===r.length&&r[0].cssRules.length<200?r:[];return n.i(o.b)(t,i.b.ADBLOCK_PLUS,a)}var o=n(21),i=n(9),u=n(18);t.a=r;n(0).get("detection:artifact:chrome:adblock_plus")},function(e,t,n){"use strict";function r(e){var t=e.document,r=n.i(u.d)(t,function(e){return u.b.ONLY_DISPLAY_NONE.test(e.cssText)}),a=2===r.length||3===r.length?r:[];return n.i(o.b)(t,i.b.ADGUARD,a)}var o=n(21),i=n(9),u=n(18);t.a=r;n(0).get("detection:artifact:chrome:adguard")},function(e,t,n){"use strict";function r(e){var t=e.document,r=o(t,n.i(b.b)()),a=o(t);return t.body.appendChild(r),t.body.appendChild(a),new _["default"](function(t){i(e,r)&&n.i(v.b)(r)&&!n.i(v.b)(a)?window.setTimeout(function(){window.setTimeout(function(){t(n.i(v.b)(r))},300)},1):t(!1)}).then(function(n){return r.parentElement&&t.body.removeChild(r),a.parentElement&&t.body.removeChild(a),u(n,e)})}function o(e,t){var n=e.createElement("div");return n.className=t||"",n.style.width="1px",n.style.height="1px",n.style.position="absolute",n.style.top="-9999px",n}function i(e,t){return((e.getComputedStyle(t)||{}).MozBinding||"").indexOf("abp-elemhide")>-1}function u(e,t){return new h.a(h.b.ADBLOCK_PLUS,e,a.bind(null,t))}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var u=p()(r,function(e){return n.i(y.a)(e)}).filter(function(t){return i(e,t)}).map(function(e){return new d.a(d.b.MOZ,e,c(e))});return s()(u,function(e){return e.element})}function c(e){return e.nodeName.toLowerCase()+"#"+e.id+"."+e.className}var f=n(140),s=n.n(f),l=n(62),p=n.n(l),h=n(9),d=n(65),_=n(2),y=n(96),b=n(83),v=n(22);t.a=r;n(0).get("detection:artifact:firefox:adblock_plus")},function(e,t,n){"use strict";function r(e){var t=e.document,r=n.i(u.a)(t,function(e){return u.b.ONLY_DISPLAY_NONE.test(e.cssText)}),a=(2===r.length||3===r.length)&&r[0].cssRules.length>300?r:[];return n.i(o.b)(t,i.b.ADGUARD,a)}var o=n(21),i=n(9),u=n(18);t.a=r;n(0).get("detection:artifact:firefox:adguard")},function(e,t,n){"use strict";function r(e){return n.i(E.d)(e.document,function(t){var n=c(t);return new m.a(m.b.UBLOCK_ORIGIN,i(e,t)&&null!=n,o.bind(null,e,n))})}function o(e,t){for(var r=arguments.length,o=Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var c=b()(o,function(e){return n.i(g.a)(e)}).filter(function(n){return i(e,n)||f(e,t,n)}).map(function(e){return new v.a(v.b.STYLE,e,a(e))});return _()(c,function(e){return e.element})}function i(e,t){return u(e,t)&&t.hidden}function u(e,t){return"none"===((e.getComputedStyle(t)||{}).display||"")}function a(e){return e.nodeName.toLowerCase()+"#"+e.id+"."+e.className}function c(e){var t=h()(e.attributes,function(e){return-1===O.indexOf(e.name)&&""===e.value});return t?t.name:null}function f(e,t,n){return u(e,n)&&l()(n.attributes).some(function(e){return e.name===t})}var s=n(6),l=n.n(s),p=n(49),h=n.n(p),d=n(140),_=n.n(d),y=n(62),b=n.n(y),v=n(65),m=n(9),g=n(96),E=n(84);t.a=r;var O=(n(0).get("detection:artifact:firefox:ublock_origin_1_11"),["id","class","hidden"])},function(e,t,n){"use strict";function r(e){return new o.a(o.b.ADBLOCK_PLUS,"0"===e.document.body.getAttribute("abp"))}var o=n(9);t.a=r;n(0).get("detection:artifact:internet_explorer:adblock_plus")},function(e,t,n){"use strict";function r(e){return new o["default"](function(t){var r=e.document.createElement("div");r.className=n.i(u.b)(),e.document.body.appendChild(r),e.setTimeout(function(){var n="none"===r.style.display;e.document.body.removeChild(r),t(new i.a(i.b.OPERA,n))},1)})}var o=n(2),i=n(9),u=n(83);t.a=r;var a=(n(0).get("detection:artifact:opera:index"),[r]);t.b=a},function(e,t,n){"use strict";function r(e){var t=e.document,r=n.i(u.a)(t,function(e){return u.b.DISPLAY_NONE_AND_ORPHAN.test(e.cssText)});return n.i(o.b)(t,i.b.ADBLOCK,r)}var o=n(21),i=n(9),u=n(18);t.a=r;n(0).get("detection:artifact:safari:adblock")},function(e,t,n){"use strict";function r(e){var t=e.document,r=n.i(u.a)(t,function(e){return u.b.ONLY_DISPLAY_NONE.test(e.cssText)}),a=1===r.length&&r[0].cssRules.length>50&&r[0].cssRules.length<200?r:[];return n.i(o.b)(t,i.b.ADBLOCK_PLUS,a)}var o=n(21),i=n(9),u=n(18);t.a=r;n(0).get("detection:artifact:safari:adblock_plus")},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=t.createElement("style");t.head.appendChild(n);var r=o(e),i=r+" { no_affect_rule: 0; }";n.sheet&&"function"==typeof n.sheet.insertRule?n.sheet.insertRule(i,0):n.innerHTML=i;var u=n.sheet&&null!=n.sheet.cssRules&&"function"==typeof n.sheet.cssRules.item?n.sheet.cssRules.item(0).selectorText:null;return n.parentElement&&n.parentElement.removeChild(n),u}function o(e){return e.replace(/::content/g,"").trim()}t.a=r,t.b=o;n(0).get("util:css:normalize_selector")},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return new o["default"](function(t){function r(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,u=e.createElement("div");u.style.setProperty("display","block","important"),u.style.setProperty("height","10px","important"),e.body.appendChild(u),n.i(i.b)(e.body)&&o-- >0?(u.parentElement&&e.body.removeChild(u),setTimeout(function(){r(o)},100)):(u.parentElement&&e.body.removeChild(u),t())}if("loading"===e.readyState){var o=function(){r()};n.i(u.a)(e.addEventListener)?e.addEventListener("DOMContentLoaded",o):e.defaultView.setTimeout(function(){r()},5e3)}else r()})}var o=n(2),i=n(22),u=n(28);t.a=r;n(0).get("util:dom:ready")},function(e,t,n){"use strict";function r(e,t){function n(e){try{return e&&e.timeStamp?e.timeStamp:window.performance.now()}catch(e){return Date.now()}}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.navigator,p=document.createElement("a");if(p.href=e,"https:"===r.protocol&&p.protocol!==r.protocol)return o.error("protocol mismatch in https environment, standing down"),void t(!1,!1,p.protocol,f);var h=new XMLHttpRequest;try{h.open("GET",e)}catch(e){return void t(!0,!1,e.toString(),a,h)}var d=void 0,_=void 0;h.onloadstart=function(e){d=n(e)},h.onreadystatechange=function(e){if(4===this.readyState){_=n(e)-d;var r=0===this.status&&!1!==l.onLine,o="2"===this.status.toString()[0],a=void 0;return a=o?u:!1===l.onLine?s:i,void t(r,o,this.status+"::"+_,a,h)}};try{h.send()}catch(e){return void t(!0,!1,e.toString(),c,h)}}n.d(t,"c",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return s}),t.a=r;var o=n(0).get("util:load_via_xhr:callback"),i="n",u="nx",a="xo",c="xs",f="p",s="of"},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){function r(e,t){return o(e,t)}var o=n(326);e.exports=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(141),u=n.n(i),a=n(49),c=n.n(a),f=n(76),s=n.n(f),l=n(349),p=n.n(l),h=n(299),d=n(8),_=n(85),y=n(244),b=n(148),v=n(286),m=n(164),g=n(149),E=n(288),O=n(282),w=n(277),T=n(284),S=n(273),R=n(150),P=n(290),k=n(151),N=n(152),j=n(292),A=n(296),C=n(14),x=n(1),I=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=(n(0).get("detection:index"),function(){function e(t,r){o(this,e),this._options=p()({},t||{},{useInterference:!1,useDFPInterference:!1,useGenericAdblocker:!0,useAdblocker:!0,runImmediately:!1,internal:{}}),this._options.internal=p()({},this._options.internal,{useInterference:!1,useDFPInterference:!1,useGenericAdblocker:!0,useAdblocker:!0}),this._testClasses=r||[A.a,T.a,S.a,O.a,y.a,C.a.chrome()?b.a:[],C.a.firefox()?g.a:[],C.a.safari()?N.a:[],C.a.ie()?R.a:[],C.a.opera()?k.a:[],C.a.chrome()?v.a:[],C.a.firefox()?E.a:[],C.a.safari()?j.a:[],C.a.ie()?P.a:[],n.i(w.a)()],this.rerun()}return L(e,[{key:"rerun",value:function(){var e=this,t=new(Function.prototype.bind.apply(h.a,[null].concat(r(this._testClasses))));return this._runner=t,this._options.runImmediately?this._runner.run():n.i(m.a)().then(function(){e._runner===t&&e._runner.run()}),this}},{key:"serializeResults",value:function(){return this._runner.waitForResultsWhere().then(function(e){return e.join("|")})}},{key:"isStandingDown",value:function(){return this._runner.someResultPresentWhere(function(e){return e.has(x.b.STAND_DOWN)})}},{key:"isInterfering",value:function(){return this._isNotStandDownAnd(this._runner.someResultPresentWhere(function(e){return e.has(x.b.INTERFERENCE)||e.has(x.b.GENERIC_ADBLOCKER)||e.has(x.b.ADBLOCKER)}))}},{key:"isDFPInterfering",value:function(){return this._isNotStandDownAnd(this._runner.someResultPresentWhere(function(e){return e.has(x.b.DFP_INTERFERENCE)}))}},{key:"allowsAcceptableAds",value:function(){var e=this;return this.isContentBlockerPresent().then(function(t){return t&&e._runner.someResultPresentWhere(function(e){return e.has(x.b.ACCEPTABLE_AD)})})}},{key:"isFSM",value:function(){return this._isNotStandDownAnd(this._runner.waitForResultsWhere(function(e){return e.has(x.c.FSM)}).then(function(e){return e.some(function(e){return!e.has(x.a.NOT_PRESENT)})}))}},{key:"isPrivate",value:function(){return this._isNotStandDownAnd(this._runner.someResultPresentWhere(function(e){return e.has(x.b.PRIVATE)}))}},{key:"isContentBlockerPresent",value:function(){return this._isContentBlockerPresent(this._options)}},{key:"internalIsContentBlockerPresent",value:function(){return this._isContentBlockerPresent(this._options.internal)}},{key:"getContentBlockers",value:function(){var e=this;return this.isContentBlockerPresent().then(function(t){return t?e._runner.waitForResultsWhere(function(e){return e.has(x.b.ADBLOCKER)}).then(function(e){return s()(e.map(function(e){return c()(e.attributes,function(e){return n.i(x.d)(e)&&e!==x.a.NOT_PRESENT&&e!==x.a.PRESENT})}))}):[]})}},{key:"getContentBlocker",value:function(){var e=this;return this.isContentBlockerPresent().then(function(t){return t?e.getContentBlockers().then(function(e){return I(e,1)[0]||x.a.UNKNOWN_ADBLOCKER}):null})}},{key:"getFSMData",value:function(){return this._runner.waitForResultsWhere(function(e){return e.has(x.c.FSM)}).then(function(e){return c()(e.map(function(e){return e.getData(_.a)}),function(e){return null!=e})||null})}},{key:"getAllElementHidingData",value:function(){return this._runner.waitForResultsWhere(function(e){return e.has(x.c.HIDING_DATA)}).then(function(e){return u()(s()(e.map(function(e){return e.getData(d.a)})),function(e,t){return e.is(t)})})}},{key:"_isContentBlockerPresent",value:function(e){return this._isNotStandDownAnd(this._runner.someResultPresentWhere(function(t){return e.useInterference&&t.has(x.b.INTERFERENCE)||e.useDFPInterference&&t.has(x.b.DFP_INTERFERENCE)||e.useGenericAdblocker&&t.has(x.b.GENERIC_ADBLOCKER)||e.useAdblocker&&t.has(x.b.ADBLOCKER)}))}},{key:"_isNotStandDownAnd",value:function(e){return this.isStandingDown().then(function(t){return!t&&e})}}]),e}());t.a=D},function(e,t,n){var r=n(27),o=r.Uint8Array;e.exports=o},function(e,t,n){function r(e,t,n,A,C,x){var I,L=t&w,D=t&T,M=t&S;if(n&&(I=C?n(e,A,C,x):n(e)),void 0!==I)return I;if(!E(e))return e;var B=m(e);if(B){if(I=y(e),!L)return s(e,I)}else{var F=_(e),H=F==P||F==k;if(g(e))return f(e,L);if(F==N||F==R||H&&!C){if(I=D||H?{}:v(e),!L)return D?p(e,c(I,e)):l(e,a(I,e))}else{if(!j[F])return C?e:{};I=b(e,F,r,L)}}x||(x=new o);var U=x.get(e);if(U)return U;x.set(e,I);var G=M?D?d:h:D?keysIn:O,K=B?void 0:G(e);return i(K||e,function(o,i){K&&(i=o,o=e[i]),u(I,i,r(o,t,n,i,e,x))}),I}var o=n(70),i=n(320),u=n(44),a=n(324),c=n(325),f=n(100),s=n(60),l=n(329),p=n(330),h=n(138),d=n(166),_=n(77),y=n(340),b=n(341),v=n(101),m=n(10),g=n(72),E=n(13),O=n(26),w=1,T=2,S=4,R="[object Arguments]",P="[object Function]",k="[object GeneratorFunction]",N="[object Object]",j={};j[R]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[N]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[P]=j["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){var r=n(13),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return!(!u(e)||i(e))&&(o(e)?d:f).test(a(e))}var o=n(32),i=n(186),u=n(13),a=n(196),c=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,p=s.toString,h=l.hasOwnProperty,d=RegExp("^"+p.call(h).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e,t,n,s,l){e!==t&&u(t,function(u,f){if(c(u))l||(l=new o),a(e,t,f,n,r,s,l);else{var p=s?s(e[f],u,f+"",e,t,l):void 0;void 0===p&&(p=u),i(e,f,p)}},f)}var o=n(70),i=n(89),u=n(90),a=n(175),c=n(13),f=n(37);e.exports=r},function(e,t,n){function r(e,t,n,r,v,m,g){var E=e[n],O=t[n],w=g.get(O);if(w)return void o(e,n,w);var T=m?m(E,O,n+"",e,t,g):void 0,S=void 0===T;if(S){var R=s(O),P=!R&&p(O),k=!R&&!P&&y(O);T=O,R||P||k?s(E)?T=E:l(E)?T=a(E):P?(S=!1,T=i(O,!0)):k?(S=!1,T=u(O,!0)):T=[]:_(O)||f(O)?(T=E,f(E)?T=b(E):(!d(E)||r&&h(E))&&(T=c(O))):S=!1}S&&(g.set(O,T),v(T,O,r,m,g),g["delete"](O)),o(e,n,T)}var o=n(89),i=n(100),u=n(180),a=n(60),c=n(101),f=n(55),s=n(10),l=n(111),p=n(72),h=n(32),d=n(13),_=n(117),y=n(103),b=n(202);e.exports=r},function(e,t,n){function r(e,t){return o(e,t,function(t,n){return i(e,n)})}var o=n(177),i=n(197);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,a=t.length,c={};++r<a;){var f=t[r],s=o(e,f);n(s,f)&&i(c,u(f,e),s)}return c}var o=n(75),i=n(107),u=n(23);e.exports=r},function(e,t,n){function r(e,t){return t=o(t,e),null==(e=u(e,t))||delete e[a(i(t))]}var o=n(23),i=n(139),u=n(342),a=n(34);e.exports=r},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=n(169);e.exports=r},function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var o=n(179);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var o=-1,i=Object(t),u=r(t),a=u.length;a--;){var c=u[e?a:++o];if(!1===n(i[c],c,i))break}return t}}e.exports=n},function(e,t,n){var r=n(183),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!u.test(e)||null!=t&&e in Object(t))}var o=n(10),i=n(126),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=r},function(e,t,n){var r=n(91),o=n(32),i=n(201),u=r?o:i;e.exports=u},function(e,t,n){function r(e){return!!i&&i in e}var o=n(91),i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():u.call(t,n,1),--this.size,!0)}var o=n(33),i=Array.prototype,u=i.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}var o=n(33);e.exports=r},function(e,t,n){function r(e){return o(this.__data__,e)>-1}var o=n(33);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var o=n(33);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,u=-1,a=i(r.length-t,0),c=Array(a);++u<a;)c[u]=r[t+u];u=-1;for(var f=Array(t+1);++u<t;)f[u]=r[u];return f[t]=n(c),o(e,this,f)}}var o=n(98),i=Math.max;e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){var r=n(192),o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,a=r(function(e){var t=[];return o.test(e)&&t.push(""),e.replace(i,function(e,n,r,o){t.push(r?o.replace(u,"$1"):n||e)}),t});e.exports=a},function(e,t){function n(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,o=r.toString;e.exports=n},function(e,t,n){function r(e,t){return null!=e&&i(e,t,o)}var o=n(172),i=n(108);e.exports=r},function(e,t,n){function r(e){if(i(e))throw new Error(u);return o(e)}var o=n(173),i=n(185),u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},function(e,t,n){var r=n(174),o=n(71),i=o(function(e,t,n){r(e,t,n)});e.exports=i},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return o(e,i(e))}var o=n(17),i=n(37);e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(233),a=n(12),c=n(2),f=n(25),s=n(5);n.d(t,"AdblockBeacon",function(){return y});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},h=n(0).get("analytics:pageview_beacon"),d=n(46),_=n(50),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,d.BEACON));return c["default"].all([e.isInterfering().then(function(e){n._isInterfering=e}),e.isDFPInterfering().then(function(e){n._isDFPInterfering=e}),e.isContentBlockerPresent().then(function(e){n._isContentBlockerPresent=e}),e.isPrivate().then(function(e){n._isPrivate=e}),e.isFSM().then(function(e){n._isFSM=e}),e.serializeResults().then(function(e){n._serializedResults=e}),e.allowsAcceptableAds().then(function(e){n._allowsAcceptableAds=e}),e.getContentBlockers().then(function(e){n._contentBlockers=e})]).then(function(){n.send()}),n}return i(t,e),l(t,[{key:"populateBeaconFields",value:function(){p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"populateBeaconFields",this).call(this),this.set(_.SENTINEL_FLAG,1),!0===this._isInterfering||!0===this._isDFPInterfering?this.set(_.ADBLOCK_DETECTED,1):null!=this._isInterfering&&null!=this._isDFPInterfering&&this.set(_.ADBLOCK_DETECTED,0),null!=this._serializedResults&&this.set(_.DEBUG_0,this._serializedResults),null!=this._allowsAcceptableAds&&this.set(_.EXCEPTION_RULES,this._allowsAcceptableAds?1:0),null!=this._contentBlockers&&this._contentBlockers.length>0&&this.set(_.DEBUG_1,this._contentBlockers.join(","));var e=[this._isInterfering,this._isContentBlockerPresent,this._isPrivate,this._isFSM,this._isDFPInterfering].map(function(e){return null==e?-1:e?1:0}).join("::");this.set(_.DEBUG_2,e)}},{key:"send",value:function(e){p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"send",this).call(this,function(t){if(null!=t&&s["default"].has(["msg","domain"])){var n=t;if(null!=n.target&&"string"==typeof n.target.src){var r=n.target.src,o=new f.a(r);o.hostname=s["default"].get(["msg","domain"]),o.pathname="/pv";var i=new Image;i.src=o.toString(),h.info("firing msg pv error beacon",i.src)}}e&&(t?e(t):e())})}}]),t}(u["default"]),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return new y(e),n.on("pagechange",function(){new y(e)}),n}return i(t,e),t}(a.b);t["default"]=b},function(e,t,n){"use strict";function r(e){e.events=e.events||{},e.events.onDetectionComplete=e.events.onDetectionComplete||function(e){n.i(o.a)(e?"sp.blocking":"sp.not_blocking")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(227);t["default"]=r;n(0).get("backwards_compatibility:config:apply_default_params")},function(e,t,n){"use strict";function r(e){function t(t,r){l()(e,t)&&(l()(e,r)||f()(n,r,a()(e,t)),i()(n,t))}var n=h()(e);return t("account_id","accountId"),t("client_id","clientId"),t("publisher_base","publisherBase"),t("beacon_endpoint",["beacon","pageViewEndpoint"]),t("content_control_beacon_endpoint",["beacon","contentControlEndpoint"]),t("custom_beacon_entries",["beacon","customEntries"]),t("content_control_callback",["bootstrap","contentControlCallback"]),t("content_control_callback",["rid","contentControlCallback"]),t("enable_rid",["rid","enable"]),t("enable_rid_retry",["rid","enableForgivenessCookie"]),t("dfp_targeting_key",["dfp","targetingKey"]),t("enable_vid",["vid","enable"]),t("enable_generic_vid",["vid","enableGeneric"]),t("enable_iframe_vid",["vid","enableInIFrame"]),t("vid_control_callback",["vid","contentControlCallback"]),t("enable_artifact_detection",["detection","exposeSpecificContentBlockerData"]),t("enable_fsm_detection",["detection","fsm","enable"]),t("enable_fsm_network_detection",["detection","fsm","enableNetwork"]),t("fsm_endpoint",["detection","fsm","endpoint"]),t("use_network_detection",["detection","useNetworkBlockerTests"]),t("site_css_url","siteCssLocation"),t("enable_blocker_style_sheet_disabling","disableBlockerStyleSheets"),t("disable_blocker_style_sheets","disableBlockerStyleSheets"),t("run_immediately","runImmediately"),t("mms_domain",["msg","domain"]),t("mms_client_data_callback",["events","onReceiveMessageData"]),t("mms_choice_selected_callback",["events","onMessageChoiceSelect"]),t("msg_z_index",["msg","zIndex"]),t("enable_style_manager",["styleManager","enable"]),t("enable_simple_style_manager",["styleManager","enableSimple"]),t("enable_full_morph",["styleManager","enableMorphingOutsideAdHierarchy"]),t("smart_lib_url",["smart","libURL"]),t("smart_targeting_key",["smart","targetingKey"]),i()(n,"rid_asset_base"),i()(n,"gpt_auto_load"),i()(n,"converge_recovery_domain"),i()(n,"msg_lib_location"),i()(n,"smart_auto_load"),n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(372),i=n.n(o),u=n(368),a=n.n(u),c=n(371),f=n.n(c),s=n(370),l=n.n(s),p=n(367),h=n.n(p);t["default"]=r;n(0).get("backwards_compatibility:config:index")},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.search,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,c=i()(t),f=r&&new u.a(r).getSearchParam("_sp_scriptVersion");if(!f)return void c(!1);var s=o.document.createElement("script");s.id="_sp_override",s.addEventListener("load",function(){c(!0)}),s.addEventListener("error",function(){c(!1)});var l="latest"===f?"":"-v"+f;s.src=n+"/0/"+f+"/"+e+l+".js",o.document.head?o.document.head.appendChild(s):o.document.documentElement.appendChild(s)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(146),i=n.n(o),u=n(25);t["default"]=r;var a=(n(0).get("delivery:override_script_version"),["h","t","t","p","s",":","/","/","s","p","-","j","s","-","r","e","l","e","a","s","e","s",".","s","3",".","a","m","a","z","o","n","a","w","s",".","c","o","m"].join(""))},function(e,t,n){n(0).get("delivery:stand_down");window._sp_=window._sp_||{};var r={checkState:function(e){e(!1)},isAdBlocking:function(e){e(!1)},getSafeUri:function(e){return e},pageChange:function(){},setupSmartBeacons:function(){}};e.exports.mockApi=function(e){for(var t=0;t<e.length;t++)window._sp_[e[t]]=r[e[t]]}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){e.getContentBlockers().then(function(e){t(c()(e.map(function(e){return _.get(e)||"unknown"})))})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(73),c=n.n(a),f=n(12),s=n(15),l=n(5),p=n(1),h=n(11),d=(n(0).get("detection:get_content_blockers_feature"),function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l["default"].get(["detection","exposeSpecificContentBlockerData"])&&(n.i(h.a)("getContentBlockers",u.bind(null,e)),n.i(h.a)("getAdblockers",u.bind(null,e))),i}return i(t,e),t}(f.b));t["default"]=d;var _=new s.a;_.set(p.a.ADBLOCK,"adblock"),_.set(p.a.ADBLOCK_PLUS,"adblock_plus"),_.set(p.a.ADGUARD,"adguard"),_.set(p.a.UBLOCK,"ublock"),_.set(p.a.UBLOCK_ORIGIN,"ublock_origin"),_.set(p.a.NATIVE,"native")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){e.forEach(function(e){try{e()}catch(e){p.error("Failed to execute command function",e)}})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(68),c=n.n(a),f=n(2),s=n(5),l=n(12),p=n(0).get("life_cycle:command_queue_feature"),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.resolutionPromise=new f["default"](function(e){var t=s["default"].get("cmd");u(t),Object.defineProperty(t,"push",{get:function(){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u(t)}},set:c.a}),e(!0)}),n}return i(t,e),t}(l.f.to(l.b));t["default"]=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=Date.now();e.isContentBlockerPresent().then(function(e){function n(){f.info("triggering on detection complete",e),a["default"].get(["events","onDetectionComplete"])(e)}var r=Date.now(),o=a["default"].get("runImmediately")?0:Math.max(200-(r-t),0);o>0?window.setTimeout(function(){n()},o):n()})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),c=n(12),f=n(0).get("life_cycle:events:on_detection_complete_feature"),s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.on("pagechange",function(){u(e)}),u(e),n}return i(t,e),t}(c.f.to(c.b));t["default"]=s},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){function o(e,t){var n=e[0].map(function(e){return t?new e(t):new e});return u.push.apply(u,r(n)),f["default"].all(n.map(function(e){return e.startPromise})).then(function(){var o=e[1].map(function(e){return t?new e(t):new e});return u.push.apply(u,r(o)),f["default"].all(n.map(function(e){return e.resolutionPromise}).concat(o.map(function(e){return e.resolutionPromise})))})}n.i(p["default"])(l["default"].get(["debug","level"])),b.info("client config",window._sp_.config);var u=[];n.i(h.a)("pageChange",function(){u.forEach(function(e){e.emit("pagechange")})}),n.i(h.a)("scriptName",e),n.i(h.a)("version",_.a),b.info("build version",window._sp_.version),window._sp_._networkListenerData||n.i(h.a)("_networkListenerData",n.i(d.a)());var a=n.i(s.a)(),v=t.filter(function(e){return null!=e.prototype&&e.prototype instanceof y.d}),m=t.filter(function(e){return null!=e.prototype&&e.prototype instanceof y.b}),g=t.filter(function(e){return null!=e.prototype&&e.prototype instanceof y.c}),E=t.filter(function(e){return null!=e.prototype&&e.prototype instanceof y.e});o(i(v)).then(function(){var e=l["default"].get("detection"),t=e.internal,n=new c.a({runImmediately:l["default"].get("runImmediately"),useInterference:e.useNetworkBlockerTests,useDFPInterference:e.useDFPNetworkBlockerTests,useGenericAdblocker:e.useGenericContentBlockerTests,useAdblocker:e.useSpecificContentBlockerTests,internal:{useInterference:t.useNetworkBlockerTests,useDFPInterference:t.useDFPNetworkBlockerTests,useGenericAdblocker:t.useGenericContentBlockerTests,useAdblocker:t.useSpecificContentBlockerTests}});return n.isContentBlockerPresent().then(function(e){a(e)}),o(i(m),n).then(function(){return o(i(g),n)}).then(function(){return o(i(E),n)})})}function i(e){var t=a()(e,function(e){return y.f.test(e)?"1":"0"});return[t[0]||[],t[1]||[]]}Object.defineProperty(t,"__esModule",{value:!0});var u=n(369),a=n.n(u),c=n(168),f=n(2),s=n(357),l=n(5),p=n(64),h=n(11),d=n(359),_=n(30),y=n(12);t["default"]=o;var b=n(0).get("life_cycle:index")},function(e,t,n){n(0).get("util:detect_stand_down_browser");e.exports=function(e){var t=void 0;t=null==e?(navigator.userAgent||navigator.vendor||window.opera).toLowerCase():e.toLowerCase();var n=t.match(/(msie|trident)\s*(\d+)\./),r=n&&window.parseInt(n[2]);return!!r&&r<11}},function(e,t,n){n(0).get("util:force_util_promise");e.exports=function(){var e=window.Promise;delete window.Promise,n(2),window.Promise=e}},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[o++]=u)}return i}e.exports=n},function(e,t){function n(e){return e.split("")}e.exports=n},function(e,t){function n(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}e.exports=n},function(e,t){function n(e,t){return e+r(o()*(t-e+1))}var r=Math.floor,o=Math.random;e.exports=n},function(e,t,n){function r(e,t){return o(t,function(t){return e[t]})}var o=n(74);e.exports=r},function(e,t){function n(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}e.exports=n},function(e,t){function n(){return[]}e.exports=n},function(e,t){function n(e){return e.split("")}e.exports=n},function(e,t,n){function r(e){return"string"==typeof e||!i(e)&&u(e)&&o(e)==a}var o=n(51),i=n(10),u=n(36),a="[object String]";e.exports=r},function(e,t,n){function r(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=u(e),void 0===t?(t=e,e=0):t=u(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=f();return c(e+s*(t-e+a("1e-"+((s+"").length-1))),t)}return o(e,t)}var o=n(219),i=n(78),u=n(226),a=parseFloat,c=Math.min,f=Math.random;e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=void 0;try{n=new Event(e,{bubbles:!0,cancelable:!1})}catch(t){n=document.createEvent("Event"),"function"==typeof n.initEvent&&n.initEvent(e,!0,!1)}t.dispatchEvent(n)}t.a=r;n(0).get("util:dom:dispatch_event")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.navigator;return new u["default"](function(o){n.i(a.a)(e,function(e,t,n,r,i){var u=void 0,a=void 0;if(n.indexOf("::")>-1){var c=n.split("::")[1];u=parseInt(c)}else a=n;o(new l({succeeded:t,blocked:e,bootstrapType:r,timeStamp:u,xhr:i,errorText:a,status:i&&i.status}))},t,r)})}var u=n(2),a=n(165);t.b=i,n.d(t,"a",function(){return f});var c,f=(n(0).get("util:load_via_xhr:index"),{SUCCEEDED:"SUCCEEDED",NETWORK_FAILURE:"NETWORK_FAILURE",OFFLINE:"OFFLINE",PROTOCOL_MISMATCH:"PROTOCOL_MISMATCH",OPEN_ERROR:"OPEN_ERROR",SEND_ERROR:"SEND_ERROR"}),s=(c={},o(c,a.b,f.SUCCEEDED),o(c,a.c,f.NETWORK_FAILURE),o(c,a.d,f.OFFLINE),o(c,a.e,f.PROTOCOL_MISMATCH),o(c,a.f,f.OPEN_ERROR),o(c,a.g,f.SEND_ERROR),c),l=function e(t){var n=t.succeeded,o=t.blocked,i=t.status,u=void 0===i?null:i,a=t.timeStamp,c=void 0===a?null:a,f=t.bootstrapType,l=t.errorText,p=void 0===l?null:l,h=t.xhr,d=void 0===h?null:h;r(this,e),this.succeeded=n,this.blocked=o,this.status=u,this.timeStamp=c,this.type=s[f],this.errorText=p,this.xhr=d}},function(e,t,n){function r(e,t){return e&&o(e,t,i)}var o=n(90),i=n(26);e.exports=r},function(e,t,n){n(0).get("config:config");e.exports={bugsnagKey:"00eac706c084cf17802b8cba591a1128",detection:{elementDetection:{waitInterval:100,maxRetries:1}},beacon:{shiftKey:3}}},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(112),a=n(5),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=(n(0).get("util:beacon:index"),n(319)),l=n(50),p=n(46),h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.BEACON;r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s(function(){return n.send()}),n}return i(t,e),c(t,[{key:"populateBeaconFields",value:function(){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"populateBeaconFields",this).call(this),this._populateCommonFields(),this._populateCustomerFields()}},{key:"_populateCommonFields",value:function(){this.set(l.PAGE_URL,document.location.hostname+document.location.pathname)}},{key:"_populateCustomerFields",value:function(){var e=this,t=a["default"].get(["beacon","customEntries"]);t&&t.forEach(function(t,n){e.set(l["CUSTOMER_"+(n+1).toString()],t)})}},{key:"processEndpoint",value:function(e){return e.replace(/^(https?:)?\/\//,"")}},{key:"dataPostProcessing",value:function(e){if(e=e.slice(),e.length>0&&0===e[0].indexOf("id")){var t=Math.floor(Math.random()*(e.length-1)+1),n=e[0];e[0]=e[t],e[t]=n}return e}}]),t}(u.a);t["default"]=h},function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&o(e,t,0)>-1}var o=n(99);e.exports=r},function(e,t){function n(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){return function(t,n,r){var a=Object(t);if(!i(t)){var c=o(n,3);t=u(t),n=function(e){return c(a[e],e,a)}}var f=e(t,n,r);return f>-1?a[c?t[f]:f]:void 0}}var o=n(31),i=n(39),u=n(26);e.exports=r},function(e,t){function n(){}e.exports=n},function(e,t,n){function r(e){return u(e)||i(e)||!!(a&&e&&e[a])}var o=n(106),i=n(55),u=n(10),a=o?o.isConcatSpreadable:void 0;e.exports=r},,,function(e,t,n){"use strict";function r(){return["/","/","a","d",".","d","o","u","b","l","e","c","l","i","c","k",".","n","e","t","/","d","d","m","/","a","d","/",o(),"/",";","o","r","d","=",Date.now(),"?"].join("")}function o(){return u()(n.i(a.a)(1,5),function(){return n.i(a.b)(2,11)}).join("/")}var i=n(118),u=n.n(i),a=n(20);t.a=r;n(0).get("config:network_test_uri")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(66),a=n(1),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=(n(0).get("detection:acceptable_ad:element_hiding_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,null,[{key:"getSchema",value:function(){return f(t.__proto__||Object.getPrototypeOf(t),"getSchema",this).call(this).addAttribute([a.b.ACCEPTABLE_AD])}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".abp_ob_exist",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return f(t.__proto__||Object.getPrototypeOf(t),"testMethod",this).call(this,e,n)}}]),t}(u.a));t.a=s},function(e,t,n){"use strict";var r=n(243);n(0).get("detection:acceptable_ad:index");t.a=[r.a]},function(e,t,n){"use strict";var r=n(246);n(0).get("detection:adblocker:chrome:adblock:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(153),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("detection:adblocker:chrome:adblock:style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=n.i(f.a)(e),r=t.foundAdblocker();return this.getSchema().createResult(r?s.a.ADBLOCK:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({shadowSheets:t.getAdblockerStyleSheets()}))}}]),t}(u.b));t.a=p},function(e,t,n){"use strict";var r=n(248);n(0).get("detection:adblocker:chrome:adblock_plus:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(154),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("detection:adblocker:chrome:adblock_plus:style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=n.i(f.a)(e),r=t.foundAdblocker();return this.getSchema().createResult(r?s.a.ADBLOCK_PLUS:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({shadowSheets:t.getAdblockerStyleSheets()}))}}]),t}(u.b));t.a=p},function(e,t,n){"use strict";var r=n(250);n(0).get("detection:adblocker:chrome:adguard:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(155),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("detection:adblocker:chrome:adguard:style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=n.i(f.a)(e),r=t.foundAdblocker();return this.getSchema().createResult(r?s.a.ADGUARD:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({shadowSheets:t.getAdblockerStyleSheets()}))}}]),t}(u.b));t.a=p},function(e,t,n){"use strict";var r=n(16),o=n.n(r),i=n(252);n(0).get("detection:adblocker:chrome:ublock_origin:index");t.a=o()([i.a])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(52),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("detection:adblocker:chrome:ublock_origin:style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(t).then(function(t){var n=t.foundAdblocker();return e.getSchema().createResult(n?s.a.UBLOCK_ORIGIN:s.a.NOT_PRESENT,n?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({documentSheets:t.getAdblockerStyleSheets()}))})}}]),t}(u.b));t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:adblocker:firefox:adblock_plus:57:inline_style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"findDependency",value:function(e){return e.has(f.c.HIDING_DATA)}},{key:"getSchema",value:function(){return new a.a(f.b.ADBLOCKER,f.c.INLINE_STYLE_SHEET)}},{key:"testMethod",value:function(e){var t=e.map(function(e){return e.getData(c.a)}).filter(function(e){return null!=e&&e.inlineStyleSheet.hasDisplayNoneImportant});return 0===t.length?this.getSchema().createResult(f.a.NOT_PRESENT,f.f.NO_STYLE_SHEET_PRESENT):t.some(function(e){return!1===e.hiddenImmediately})?this.getSchema().createResult(f.a.NOT_PRESENT,f.f.STYLE_SHEET_PRESENT,f.f.HIDDEN_LATER):t.some(function(e){return!0===e.hiddenImmediately})?this.getSchema().createResult(f.a.ADBLOCK_PLUS,f.f.STYLE_SHEET_PRESENT,f.f.HIDDEN_IMMEDIATELY):this.getSchema().createResult(f.a.NOT_PRESENT,f.f.STYLE_SHEET_PRESENT,f.f.NONE_HIDDEN_IMMEDIATELY)}}]),t}(u.a));t.a=l},function(e,t,n){"use strict";var r=n(253),o=n(255);n(0).get("detection:adblocker:firefox:adblock_plus:index");t.a=[r.a,o.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(1),f=n(156),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:adblocker:firefox:adblock_plus:style_property_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"getSchema",value:function(){return new a.a(c.b.ADBLOCKER,c.c.ARTIFACT,c.c.STYLE_PROPERTY)}},{key:"testMethod",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(t).then(function(t){var n=t.foundAdblocker();return e.getSchema().createResult(n?c.a.ADBLOCK_PLUS:c.a.NOT_PRESENT,n?c.f.STYLE_PROPERTY_PRESENT:c.f.NO_STYLE_PROPERTY_PRESENT)})}}]),t}(u.b));t.a=l},function(e,t,n){"use strict";var r=n(257);n(0).get("detection:adblocker:firefox:adguard:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(157),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("detection:adblocker:firefox:adguard:style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=n.i(f.a)(e),r=t.foundAdblocker();return this.getSchema().createResult(r?s.a.ADGUARD:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({documentSheets:t.getAdblockerStyleSheets()}))}}]),t}(u.b));t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:adblocker:firefox:ublock_origin:57:inline_style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"findDependency",value:function(e){return e.has(f.c.HIDING_DATA)}},{key:"getSchema",value:function(){return new a.a(f.b.ADBLOCKER,f.c.INLINE_STYLE_SHEET)}},{key:"testMethod",value:function(e){var t=e.map(function(e){return e.getData(c.a)}).filter(function(e){return null!=e&&e.inlineStyleSheet.hasDisplayNoneImportant});return 0===t.length?this.getSchema().createResult(f.a.NOT_PRESENT,f.f.NO_STYLE_SHEET_PRESENT):t.some(function(e){return!1===e.hiddenImmediately})?this.getSchema().createResult(f.a.UBLOCK_ORIGIN,f.f.STYLE_SHEET_PRESENT,f.f.HIDDEN_LATER):this.getSchema().createResult(f.a.NOT_PRESENT,f.f.STYLE_SHEET_PRESENT,f.f.NONE_HIDDEN_LATER)}}]),t}(u.a));t.a=l},function(e,t,n){"use strict";var r=n(258),o=n(260);n(0).get("detection:adblocker:firefox:ublock_origin:index");t.a=[r.a,o.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(1),f=n(158),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:adblocker:firefox:ublock_origin:style_property_and_hidden_property_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"getSchema",value:function(){return new a.a(c.b.ADBLOCKER,c.c.ARTIFACT,c.c.STYLE_PROPERTY,c.c.HIDDEN_PROPERTY)}},{key:"testMethod",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(t).then(function(t){var n=t.foundAdblocker();return e.getSchema().createResult(n?c.a.UBLOCK_ORIGIN:c.a.NOT_PRESENT,n?c.f.STYLE_PROPERTY_PRESENT:c.f.NO_STYLE_PROPERTY_PRESENT,n?c.f.HIDDEN_PROPERTY_PRESENT:c.f.NO_HIDDEN_PROPERTY_PRESENT)})}}]),t}(u.b));t.a=l},function(e,t,n){"use strict";var r=n(262);n(0).get("detection:adblocker:generic:ublock:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(52),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("detection:adblocker:generic:ublock:style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(t).then(function(t){var n=t.foundAdblocker();return e.getSchema().createResult(n?s.a.UBLOCK:s.a.NOT_PRESENT,n?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({documentSheets:t.getAdblockerStyleSheets()}))})}}]),t}(u.b));t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(105),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("detection:adblocker:generic:ublock_origin:style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(t).then(function(t){var n=t.foundAdblocker();return e.getSchema().createResult(n?s.a.UBLOCK_ORIGIN:s.a.NOT_PRESENT,n?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({documentSheets:t.getAdblockerStyleSheets()}))})}}]),t}(u.b));t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(1),f=n(159),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:adblocker:internet_explorer:adblock_plus:custom_property_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"getSchema",value:function(){return new a.a(c.b.ADBLOCKER,c.c.ARTIFACT,c.c.CUSTOM_PROPERTY)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=n.i(f.a)(e).foundAdblocker();return this.getSchema().createResult(t?c.a.ADBLOCK_PLUS:c.a.NOT_PRESENT,t?c.f.CUSTOM_PROPERTY_PRESENT:c.f.NO_CUSTOM_PROPERTY_PRESENT)}}]),t}(u.b));t.a=l},function(e,t,n){"use strict";var r=n(264);n(0).get("detection:adblocker:internet_explorer:adblock_plus:index");t.a=[r.a]},function(e,t,n){"use strict";var r=n(267);n(0).get("detection:adblocker:opera:native:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(1),f=n(160),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:adblocker:opera:native:style_property_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"getSchema",value:function(){return new a.a(c.b.ADBLOCKER,c.c.ARTIFACT,c.c.STYLE_PROPERTY)}},{key:"testMethod",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(t).then(function(t){var n=t.foundAdblocker();return e.getSchema().createResult(n?c.a.NATIVE:c.a.NOT_PRESENT,n?c.f.STYLE_PROPERTY_PRESENT:c.f.NO_STYLE_PROPERTY_PRESENT)})}}]),t}(u.b));t.a=l},function(e,t,n){"use strict";var r=n(269);n(0).get("detection:adblocker:safari:adblock:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(161),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("detection:adblocker:safari:adblock:style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=n.i(f.a)(e),r=t.foundAdblocker();return this.getSchema().createResult(r?s.a.ADBLOCK:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({documentSheets:t.getAdblockerStyleSheets()}))}}]),t}(u.b));t.a=p},function(e,t,n){"use strict";var r=n(271);n(0).get("detection:adblocker:safari:adblock_plus:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(8),f=n(162),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("detection:adblocker:safari:adblock_plus:style_sheet_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=n.i(f.a)(e),r=t.foundAdblocker();return this.getSchema().createResult(r?s.a.ADBLOCK_PLUS:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({documentSheets:t.getAdblockerStyleSheets()}))}}]),t}(u.b));t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(129),a=n(242),c=n(1),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=(n(0).get("detection:dfp_interference:image_network_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,null,[{key:"getSchema",value:function(){return s(t.__proto__||Object.getPrototypeOf(t),"getSchema",this).call(this).addAttribute(c.b.DFP_INTERFERENCE).removeAttribute(c.b.INTERFERENCE)}},{key:"testMethod",value:function(){return s(t.__proto__||Object.getPrototypeOf(t),"testMethod",this).call(this,n.i(a.a)())}}]),t}(u.a));t.a=l},function(e,t,n){"use strict";var r=n(272);n(0).get("detection:dfp_interference:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return e+"/"+t}var a=n(3),c=n(4),f=n(128),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0).get("detection:fsm:ajax_data_test"),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,null,[{key:"getSchema",value:function(){return new c.a(s.b.GENERIC_ADBLOCKER,s.b.FSM_DATA,s.c.NETWORK,s.c.INFERENCE,s.c.AJAX,s.c.FSM)}},{key:"testMethod",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t&&r?(p.info("loading fsm data",t,r),n.i(f.a)(u(t,r)).then(function(t){return e.getSchema().createResult(t.blocked?s.a.PRESENT:s.a.NOT_PRESENT,t.reasonAttribute,t.infoAttributes,t.xhrData,new s.w(r))})):(p.error("cannot load fsm data",t,r),this.getSchema().createResult(s.a.NOT_PRESENT,s.f.CANNOT_TEST))}}]),t}(a.b);t.a=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var r=document.createElement(O[n.i(m.a)(0,O.length)]);r.className=n.i(m.b)(),document.body.appendChild(r);var o=document.createElement("style");return document.head.appendChild(o),o.innerHTML="\n        "+r.nodeName.toLowerCase()+"."+r.className+" {\n            position: absolute !important;\n            top: -9999px !important;\n            left: -9999px !important;\n        }\n    ",d["default"].all(a(o,r,e,t)).then(function(e){r.parentElement&&document.body.removeChild(r),o.parentElement&&document.head.removeChild(o);var t=e.reduce(function(e,t){return e.addAttribute(t.attributes)});return t.has(v.a.PRESENT)?t.removeAttribute(v.a.NOT_PRESENT,v.f.NO_MATCHING_BLACKLIST):t})}function a(e,t,r,o){var i=!1;return o.map(function(o){var u=document.createElement(O[n.i(m.a)(0,O.length)]);u.className=n.i(m.b)(),t.appendChild(u);var a=void 0;try{a=n.i(y.a)(o)}catch(e){return E.warn("broken rule",o),r.createResult(v.a.NOT_PRESENT,v.f.NO_MATCHING_BLACKLIST,new v.t(o))}var f=u.nodeName.toLowerCase()+"."+u.className+" > "+o,s="\n            "+f+" {\n                display: block;\n                height: 5px !important;\n                width: 5px !important;\n            }\n        ";return null==e.sheet||"function"!=typeof e.sheet.insertRule?e.innerHTML+=s:e.sheet.insertRule(s,0),a.forEach(function(e){u.appendChild(e)}),c().then(function(){return new d["default"](function(e){var t=document.querySelector(f);if(!t)return void e(r.createResult(v.a.NOT_PRESENT,v.f.NO_MATCHING_BLACKLIST,new v.u(o)));if(n.i(_.b)(t)){E.debug("hiding rule",o);var u=void 0;i||(i=!0,u=p.a.fromElement(t,o)),e(r.createResult(v.a.PRESENT,v.f.HIDE_MATCHING_BLACKLIST,u,new v.v(o)))}else e(r.createResult(v.a.NOT_PRESENT,v.f.NO_MATCHING_BLACKLIST))})}).then(function(e){return u.parentElement&&t.removeChild(u),e})})}function c(){return new d["default"](function(e){setTimeout(function(){setTimeout(function(){e()},150)},1)})}var f=n(19),s=n.n(f),l=n(4),p=n(8),h=n(56),d=n(2),_=n(22),y=n(135),b=n(45),v=n(1),m=n(20),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=n(0).get("detection:fsm:element_hiding_test"),O=["div","span","li","section"],w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),g(t,null,[{key:"getSchema",value:function(){return new l.a(v.b.GENERIC_ADBLOCKER,v.c.INFERENCE,v.c.FSM,v.c.ELEMENT,v.c.HIDING,v.c.HIDING_DATA)}},{key:"testMethod",value:function(e){var t=s()(this.getFSMData(e,b.d));return 0===t.length?(E.debug("no hiding rules"),this.getSchema().createResult(v.a.NOT_PRESENT,v.f.NO_ELEMENT_HIDING_RULES)):u(this.getSchema(),t)}}]),t}(h.a);t.a=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(56),a=n(129),c=n(45),f=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0).get("detection:fsm:image_network_test"),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"getSchema",value:function(){return a.a.getSchema().addAttribute(f.c.FSM)}},{key:"testMethod",value:function(e){var t=this.getFSMData(e,c.b).pop(),n=t&&t.img;return l.debug("fsm image network url",n),null==n?this.getSchema().createResult(f.a.NOT_PRESENT,f.f.CANNOT_TEST):a.a.testMethod.call(this,n+"?cb="+Date.now())}}]),t}(u.a);t.a=p},function(e,t,n){"use strict";function r(){if(!f["default"].get(["detection","fsm","enable"]))return[];var e=o.a.bindArgs(f["default"].get(["detection","fsm","endpoint"]),document.domain);return f["default"].get(["detection","fsm","enableNetwork"])?[e,i.a,a.a,u.a,c.a]:[e,i.a]}var o=n(274),i=n(275),u=n(276),a=n(279),c=n(281),f=n(5);t.a=r;n(0).get("detection:fsm:index")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(0).get("detection:fsm:network_blocker_list"),function(){function e(t,n,o,i){r(this,e),this._name=t,this._domain=n||"",this._blacklistRules=o,this._whitelistRules=i}return o(e,[{key:"getName",value:function(){return this._name}},{key:"allMatchingBlacklistRules",value:function(e,t){return this._allMatchingRules(this._blacklistRules,e,t)}},{key:"allMatchingWhitelistRules",value:function(e,t){return this._allMatchingRules(this._whitelistRules,e,t)}},{key:"_allMatchingRules",value:function(e,t,n){var r=this;return e.reduce(function(e,o){var i=t.filter(function(e){return o.test(e.src,{tagName:e.tagName,domain:r._domain})}),a=n.filter(function(e){return o.test(e.src,{tagName:e.tagName,domain:r._domain})});return 0===i.length&&0===a.length?e:e.concat(new u(o,i,a))},[])}}]),e}());t.a=i;var u=function e(t,n,o){r(this,e),this.rule=t,this.loadEvents=n,this.errorEvents=o}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,o){var i=n.i(m.a)(window._sp_._networkListenerData);if(null==i)return e.createResult(E.a.NOT_PRESENT,E.f.NO_NETWORK_LISTENER_DATA);var u=i.loadEvents,a=i.errorEvents;S.debug("fsm load/error events",u,a);var f=t.reduce(function(e,t){var n,o,i=p()(e,function(e){return e.listName===t.listName});return-1===i?(e.push(t),e):((n=e[i].blacklist).push.apply(n,r(t.blacklist)),(o=e[i].whitelist).push.apply(o,r(t.whitelist)),e)},[]);S.debug("network rules by list",f);var l=f.map(function(e){return new b.a(e.listName,document.domain,e.blacklist.map(function(e){return new O.a(e)}),e.whitelist.map(function(e){return new O.b(e)}))});if(0===l.length)return e.createResult(E.a.NOT_PRESENT,E.f.NO_NETWORK_BLOCKING_RULES);var h=u.map(function(e){return new w.a(c(e.src,o.location.protocol),e.tagName)}),d=a.map(function(e){return new w.b(c(e.src,o.location.protocol),e.tagName)});return l.reduce(function(e,t){S.debug("fsm networker blocker list:",t.getName());var n=t.allMatchingBlacklistRules(h,d);S.debug("blacklist rule matches:",n);var r=t.allMatchingWhitelistRules(h,d);S.debug("whitelist rule matches:",r);var o=n.some(function(e){return e.loadEvents.length>0}),i=n.some(function(e){return e.errorEvents.length>0}),u=r.some(function(e){return e.loadEvents.length>0}),a=r.some(function(e){return e.errorEvents.length>0}),c=new E.o(t.getName(),n.map(function(e){return new E.p(e.rule.toString(),e.loadEvents.map(function(e){return new E.q(e.src,e.tagName)}),e.errorEvents.map(function(e){return new E.r(e.src,e.tagName)}))}),r.map(function(e){return new E.s(e.rule.toString(),e.loadEvents.map(function(e){return new E.q(e.src,e.tagName)}),e.errorEvents.map(function(e){return new E.r(e.src,e.tagName)}))}));if(S.debug("blacklist load",o),S.debug("blacklist error",i),S.debug("whitelist load",u),S.debug("whitelist error",a),S.debug(c),e.has(E.a.PRESENT))return o||i||u||a?e.addAttribute(c):e;if(i&&!o)return e.addAttribute(E.a.PRESENT,E.f.ERROR_MATCHING_BLACKLIST,c).removeAttribute(E.a.NOT_PRESENT,E.f.NO_MATCHING_BLACKLIST);if(i&&o){var f=s()(n.map(function(e){return e.loadEvents})),p=f.every(function(e){return l.some(function(t){return t.allMatchingWhitelistRules([e],[]).length>0})});return S.debug("all loads matching whitelist",p),p?e.addAttribute(E.a.PRESENT,E.f.ERROR_MATCHING_BLACKLIST,E.f.LOAD_MATCHING_WHITELIST,c).removeAttribute(E.a.NOT_PRESENT,E.f.NO_MATCHING_BLACKLIST):e.addAttribute(E.f.LOAD_MATCHING_BLACKLIST,c).removeAttribute(E.f.NO_MATCHING_BLACKLIST)}return!i&&o?e.addAttribute(E.f.LOAD_MATCHING_BLACKLIST,c).removeAttribute(E.f.NO_MATCHING_BLACKLIST):u||a?e.addAttribute(c):e},e.createResult(E.a.NOT_PRESENT,E.f.NO_MATCHING_BLACKLIST))}function c(e,t){return 0===e.indexOf("//")?t+e:e}var f=n(16),s=n.n(f),l=n(116),p=n.n(l),h=n(19),d=n.n(h),_=n(4),y=n(56),b=n(278),v=n(2),m=n(318),g=n(45),E=n(1),O=n(280),w=n(136),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=n(0).get("detection:fsm:network_listener_test"),R=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),T(t,null,[{key:"getSchema",value:function(){return new _.a(E.b.GENERIC_ADBLOCKER,E.c.FSM,E.c.NETWORK_LISTENER,E.c.INFERENCE)}},{key:"testMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=d()(this.getFSMData(e,g.c));return S.debug("fsm network rules",r),new v["default"](function(e){"complete"===n.document.readyState?e(a(t.getSchema(),r,n)):n.addEventListener("load",function(){e(a(t.getSchema(),r,n))})})}}]),t}(y.a);t.a=R},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return new RegExp(e.replace(/\*+/g,"*").replace(/\^\|$/,"^").replace(/\W/g,"\\$&").replace(/\\\*/g,".*").replace(/\\\^/g,"(?:[\\x00-\\x24\\x26-\\x2C\\x2F\\x3A-\\x40\\x5B-\\x5E\\x60\\x7B-\\x7F]|$)").replace(/^\\\|\\\|/,"^[\\w\\-]+:\\/+(?!\\/)(?:[^\\/]+\\.)?").replace(/^\\\|/,"^").replace(/\\\|$/,"$").replace(/^(\.\*)/,"").replace(/(\.\*)$/,""))}function a(e){return e.split(",").map(function(e){if(0===e.indexOf("domain=")){var t=e.slice("domain=".length);return new P("domain",t.split("|").map(s))}var n=e.indexOf("third-party");return 0===n||1===n?f(e):c(e)})}function c(e){return l(e,T)}function f(e){return l(e,S)}function s(e){return l(e,R)}function l(e,t){var n=e.match(/(~)?(.*)/);return null==n?new t(e):new t(n[2],"~"===n[1])}function p(e,t,n){if(0===e.length)return!0;var r=e.filter(function(e){return e instanceof O&&!e.not}),o=e.filter(function(e){return e instanceof E&&!e.not}),i=e.filter(function(e){return e.not});return!o.some(function(e){return!e.test(t,n)})&&(!(r.length>0&&r.every(function(e){return!e.test(t,n)}))&&!i.some(function(e){return e.test(t,n)}))}var h=n(139),d=n.n(h),_=n(25);n.d(t,"a",function(){return v}),n.d(t,"b",function(){return m});var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=(n(0).get("detection:fsm:network_rule"),function(){function e(t){i(this,e);var n=t.indexOf("$"),r=t,o=[];n>-1&&(o=a(t.slice(n+1)),r=t.slice(0,n)),this._ruleStr=t,this.regExp=u(r),this.options=o}return y(e,[{key:"toString",value:function(){return this._ruleStr}},{key:"test",value:function(e,t){return this.regExp.test(e)&&this._testOptions(e,t)}},{key:"_testOptions",value:function(e,t){return p(this.options,e,t)}}]),e}()),v=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(b),m=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(b),g=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i(this,e),this.name=t,this.not=n},E=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(g),O=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(g),w={img:"image",iframe:"subdocument"},T=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"test",value:function(e,t){var n=t.tagName,r=w[n]||n;return this.name===r}}]),t}(O),S=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"test",value:function(e,t){var n=new _.a(e),r=n.hostname;if(r.indexOf(t.domain)>-1)return!1;var o=r.split("."),i=t.domain.split(".");if(d()(o)!==d()(i))return!0;if("co"===o[o.length-2]&&"uk"===d()(o)){if("co"!==i[i.length-2]||"uk"!==d()(i))return!0;o.pop(),i.pop()}return o.pop(),i.pop(),d()(o)!==d()(i)}}]),t}(E),R=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"test",value:function(e,t){return t.domain.indexOf(this.name)>-1}}]),t}(O),P=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.domains=n,o}return o(t,e),y(t,[{key:"test",value:function(e,t){return p(this.domains,e,t)}}]),t}(E)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(56),a=n(130),c=n(45),f=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0).get("detection:fsm:script_network_test"),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"getSchema",value:function(){return a.a.getSchema().addAttribute(f.c.FSM)}},{key:"findDependency",value:function(e){return e.has(f.b.FSM_DATA)}},{key:"testMethod",value:function(e){var t=this.getFSMData(e,c.b).pop(),n=t&&t.script;return l.debug("fsm script network url",n),null==n?this.getSchema().createResult(f.a.NOT_PRESENT,f.f.CANNOT_TEST):a.a.testMethod.call(this,n)}}]),t}(u.a);t.a=p},function(e,t,n){"use strict";var r=n(66),o=n(283);n(0).get("detection:generic_adblocker:index");t.a=[r.a,o.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(66),a=n(2),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=(n(0).get("detection:generic_adblocker:on_load_element_hiding_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,null,[{key:"testMethod",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return"complete"===r.document.readyState?f(t.__proto__||Object.getPrototypeOf(t),"testMethod",this).call(this,e,r,o):new a["default"](function(i){r.addEventListener("load",function(){i(f(t.__proto__||Object.getPrototypeOf(t),"testMethod",n).call(n,e,r,o))})})}}]),t}(u.a));t.a=s},function(e,t,n){"use strict";var r=n(285);n(0).get("detection:interference:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=n(130),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=(n(0).get("detection:interference:script_network_optimizely_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,null,[{key:"testMethod",value:function(){var e=this,n=document.createElement("iframe");return new u["default"](function(r){n.addEventListener("load",function(){r(f(t.__proto__||Object.getPrototypeOf(t),"testMethod",e).call(e,"//cdn3.optimizely.com/js/geo2.js",n.contentWindow))}),document.body.appendChild(n)}).then(function(e){return n.parentElement&&n.parentElement.removeChild(n),e})}}]),t}(a.a));t.a=s},function(e,t,n){"use strict";var r=n(287);n(0).get("detection:private:chrome:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(2),f=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:private:chrome:request_file_system_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"getSchema",value:function(){return new a.a(f.b.PRIVATE,f.c.FEATURE_ACCESS)}},{key:"testMethod",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new c["default"](function(n){t.webkitRequestFileSystem?t.webkitRequestFileSystem(window.TEMPORARY,1,function(){n(e.getSchema().createResult(f.a.NOT_PRESENT,f.f.REQUEST_FILE_SYSTEM_SUCCESS))},function(t){n("SecurityError"===t.name?e.getSchema().createResult(f.a.PRESENT,f.f.REQUEST_FILE_SYSTEM_ERROR,new f.j(t.name)):e.getSchema().createResult(f.a.NOT_PRESENT,f.f.REQUEST_FILE_SYSTEM_ERROR,new f.j(t.name)))}):n(e.getSchema().createResult(f.a.NOT_PRESENT,f.f.NO_REQUEST_FILE_SYSTEM))})}}]),t}(u.b));t.a=l},function(e,t,n){"use strict";var r=n(289);n(0).get("detection:private:firefox:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(2),f=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0).get("detection:private:firefox:indexed_db_open_test"),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"getSchema",value:function(){return new a.a(f.b.PRIVATE,f.c.FEATURE_ACCESS)}},{key:"testMethod",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new c["default"](function(n){if(t.indexedDB){var r=t.indexedDB.open("test");r.onsuccess=function(){n(e.getSchema().createResult(f.a.NOT_PRESENT,f.f.INDEXED_DB_OPEN_SUCCESS))},r.onerror=function(){l.warn("you may see an InvalidStateError this is generated by ff when attempting to open indexed DB in private browsing mode"),n(e.getSchema().createResult(f.a.PRESENT,f.f.INDEXED_DB_OPEN_ERROR))}}else n(e.getSchema().createResult(f.a.NOT_PRESENT,f.f.NO_INDEXED_DB))})}}]),t}(u.b);t.a=p},function(e,t,n){"use strict";var r=n(291);n(0).get("detection:private:internet_explorer:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(1),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(0).get("detection:private:internet_explorer:indexed_db_exists_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,null,[{key:"getSchema",value:function(){return new a.a(c.b.PRIVATE,c.c.FEATURE_ACCESS)}},{key:"testMethod",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).indexedDB?this.getSchema().createResult(c.a.NOT_PRESENT,c.f.INDEXED_DB_EXISTS):this.getSchema().createResult(c.a.PRESENT,c.f.NO_INDEXED_DB)}}]),t}(u.b));t.a=s},function(e,t,n){"use strict";var r=n(293);n(0).get("detection:private:safari:index");t.a=[r.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(1),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(0).get("detection:private:safari:local_storage_set_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,null,[{key:"getSchema",value:function(){return new a.a(c.b.PRIVATE,c.c.FEATURE_ACCESS)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(!e.localStorage)return this.getSchema().createResult(c.a.NOT_PRESENT,c.f.NO_LOCAL_STORAGE);try{return e.localStorage.setItem("sp","1"),e.localStorage.removeItem("sp"),this.getSchema().createResult(c.a.NOT_PRESENT,c.f.LOCAL_STORAGE_SET_SUCCESS)}catch(e){return"QuotaExceededError"===e.name?this.getSchema().createResult(c.a.PRESENT,c.f.LOCAL_STORAGE_SET_ERROR,new c.j(e.name)):this.getSchema().createResult(c.a.NOT_PRESENT,c.f.LOCAL_STORAGE_SET_ERROR,new c.j(e.name))}}}]),t}(u.b));t.a=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return new c["default"](function(e){window.setTimeout(function(){e()},500)})}var a=n(97),c=n(2),f=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)};n(0).get("detection:rerun_test_mixin");t.a=new a.a(function(e){return function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"testMethod",value:function(){for(var e=this,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(n){return n.has(f.a.NOT_PRESENT)?n:u().then(function(){return l(t.__proto__||Object.getPrototypeOf(t),"testMethod",e).apply(e,r)})};return c["default"].resolve(l(t.__proto__||Object.getPrototypeOf(t),"testMethod",this).apply(this,r)).then(function(e){return i(e)}).then(function(e){return i(e)})}}]),t}(e)})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(14),f=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:stand_down:bot_ua_test"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,null,[{key:"getSchema",value:function(){return new a.a(f.b.STAND_DOWN,f.c.USER_AGENT,f.c.BOT)}},{key:"testMethod",value:function(){return c.a.googlebot()?this.getSchema().createResult(f.a.PRESENT,f.f.GOOGLE_BOT_USER_AGENT):c.a.googleweblight()?this.getSchema().createResult(f.a.PRESENT,f.f.GOOGLE_WEB_LIGHT_USER_AGENT):c.a.bingbot()?this.getSchema().createResult(f.a.PRESENT,f.f.BING_BOT_USER_AGENT):c.a.exabot()?this.getSchema().createResult(f.a.PRESENT,f.f.EXA_BOT_USER_AGENT):this.getSchema().createResult(f.a.NOT_PRESENT,f.f.NO_BOT_USER_AGENT)}}]),t}(u.b));t.a=l},function(e,t,n){"use strict";var r=n(295),o=n(297);n(0).get("detection:stand_down:index");t.a=[r.a,o.a]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(3),a=n(4),c=n(1),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(0).get("detection:stand_down:proxy_host_test"),["w","e","b","c","a","c","h","e",".","g","o","o","g","l","e","u","s","e","r","c","o","n","t","e","n","t",".","c","o","m"].join("")),l=["o","p","t","i","m","i","z","e","l","y","p","r","e","v","i","e","w",".","c","o","m"].join(""),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,null,[{key:"getSchema",value:function(){return new a.a(c.b.STAND_DOWN,c.c.PROXY_HOST)}},{key:"testMethod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;return e===s?this.getSchema().createResult(c.a.PRESENT,c.f.GOOGLE_WEBCACHE_PROXY_HOST):e.indexOf(l)>-1?this.getSchema().createResult(c.a.PRESENT,c.f.OPTIMIZELY_PREVIEW_PROXY_HOST):this.getSchema().createResult(c.a.NOT_PRESENT,c.f.NO_PROXY_HOST)}}]),t}(u.b);t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(49),a=n.n(u),c=n(133),f=n(132),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:test_result:index"),["types","tests","reasons","results"]),p=function(e){function t(){var e;r(this,t);for(var i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];var c=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),s=n.i(f.a)(c.attributes);return l.forEach(function(e){if(0===s[e].length)throw new Error("did not provide attribute type: "+e)}),c}return i(t,e),s(t,[{key:"toString",value:function(){var e=n.i(f.a)(this.attributes);return l.concat("info").filter(function(t){return e[t].length>0}).map(function(t){return e[t].slice().sort().join(",")}).join("::")}},{key:"addAttribute",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(t,[null].concat([this.attributes],n)))}},{key:"removeAttribute",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=new(Function.prototype.bind.apply(c.a,[null].concat(n)));return new t(this.attributes.filter(function(e){return!o.attributes.some(function(t){return t.is(e)})}))}},{key:"getData",value:function(e){var t=a()(this.attributes,function(t){return t instanceof e});return t?t.getValue():null}}]),t}(c.a);t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(19),i=n.n(o),u=n(3),a=n(2),c=n(294),f=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("detection:test_runner"),function(){function e(){r(this,e);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];this._tests=i()(n).map(function(e){return e.has(f.c.NETWORK)?c.a.to(e):e}).map(function(e){return new e}),this._running=!1}return s(e,[{key:"run",value:function(){var e=this;if(this._running)throw new Error("already running");this._running=!0,this._tests.forEach(function(t){if(t instanceof u.a){var n=t,r=e._tests.filter(function(e){return e!==n&&n.constructor.findDependency(e.constructor)});a["default"].all(r.map(function(e){return e.waitForResult()})).then(function(e){return t.run(e)})}else t.run()})}},{key:"waitForResultsWhere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return a["default"].all(this._getTestResultsWhere(e))}},{key:"someResultPresentWhere",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return new a["default"](function(n){var r=e._getTestResultsWhere(t);if(0===r.length)return n(!1);var o=!1,i=0;r.forEach(function(e){e.then(function(e){if(!o){if(i++,!e.has(f.a.NOT_PRESENT))return o=!0,void n(!0);i===r.length&&(o=!0,n(!1))}})})})}},{key:"_getTestResultsWhere",value:function(e){return this._tests.filter(function(t){return e(t.constructor)}).map(function(e){return e.waitForResult()})}}]),e}());t.a=l},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return e.consumeCharacters("]"),new s(t)}var a=n(24),c=n(40);t.a=u;var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(0).get("util:dom:get_elements_from_selector:consumers:attribute_consumer:any_value_consumer"),function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.i(c.a)().join(" ")))}return i(t,e),f(t,[{key:"applyToElement",value:function(e){e.setAttribute(this.key,e.hasAttribute(this.key)?e.getAttribute(this.key)||"":this.value)}}]),t}(a.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){e.consumeCharacters("*=");var r=e.consumeRegex(l.f),o=n.i(f.a)(r);return new h(t,o)}var a=n(24),c=n(40),f=n(41),s=n(20),l=n(7);t.a=u;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=(n(0).get("util:dom:get_elements_from_selector:consumers:attribute_consumer:contains_value_consumer"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"applyToElement",value:function(e){if(e.hasAttribute(this.key)){var t=(e.getAttribute(this.key)||"").split(" ");t.splice(n.i(s.a)(0,t.length),0,this.value),e.setAttribute(this.key,t.join(" "))}else{var r=n.i(c.a)().join(" "),o=n.i(s.a)(0,r.length);e.setAttribute(this.key,r.slice(0,o)+this.value+r.slice(o))}}}]),t}(a.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){e.consumeCharacters("$=");var r=e.consumeRegex(s.f),o=n.i(f.a)(r);return new p(t,o)}var a=n(24),c=n(40),f=n(41),s=n(7);t.a=u;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("util:dom:get_elements_from_selector:consumers:attribute_consumer:ends_with_value_consumer"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"applyToElement",value:function(e){var t=e.hasAttribute(this.key)?e.getAttribute(this.key)||"":n.i(c.a)().join(" ");e.setAttribute(this.key,t+" "+this.value)}}]),t}(a.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){e.consumeCharacters("=");var r=e.consumeRegex(f.f),o=n.i(c.a)(r);return new l(t,o)}var a=n(24),c=n(41),f=n(7);t.a=u;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("util:dom:get_elements_from_selector:consumers:attribute_consumer:equals_value_consumer"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"applyToElement",value:function(e){e.setAttribute(this.key,this.value)}}]),t}(a.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){e.consumeCharacters("~=");var r=e.consumeRegex(l.f),o=n.i(f.a)(r);return new h(t,o)}var a=n(24),c=n(40),f=n(41),s=n(20),l=n(7);t.a=u;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=(n(0).get("util:dom:get_elements_from_selector:consumers:attribute_consumer:equals_word_value_consumer"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"applyToElement",value:function(e){var t=e.hasAttribute(this.key)?(e.getAttribute(this.key)||"").split(" "):n.i(c.a)(),r=n.i(s.a)(0,t.length);t.splice(r,0,this.value),e.setAttribute(this.key,t.join(" "))}}]),t}(a.a))},function(e,t,n){"use strict";function r(e){e.consumeCharacters("[");var t=e.consumeRegex(s.b);if(p.indexOf(t)>-1)throw n.i(l.d)(e.getSelector());var r=e.lookAheadRegex(s.e),o=h[r];if(!o)throw n.i(l.a)(e.getSelector());return o(e,t)}var o=n(302),i=n(303),u=n(305),a=n(304),c=n(308),f=n(306),s=n(7),l=n(43);t.a=r;var p=(n(0).get("util:dom:get_elements_from_selector:consumers:attribute_consumer:index"),["src"]),h={"=":u.a,"~=":f.a,"^=":c.a,"$=":a.a,"*=":i.a,"]":o.a}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){e.consumeCharacters("^=");var r=e.consumeRegex(s.f),o=n.i(f.a)(r);return new p(t,o)}var a=n(24),c=n(40),f=n(41),s=n(7);t.a=u;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("util:dom:get_elements_from_selector:consumers:attribute_consumer:starts_with_value_consumer"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"applyToElement",value:function(e){var t=e.hasAttribute(this.key)?e.getAttribute(this.key)||"":n.i(c.a)().join(" ");e.setAttribute(this.key,this.value+" "+t)}}]),t}(a.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.consumeRegex(f.k),new l(n.i(c.a)(e))}var a=n(58),c=n(42),f=n(7);t.a=u;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("util:dom:get_elements_from_selector:consumers:child_element_consumer"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"applyToElementRecord",value:function(e){e.appendChildElementRecord(this.elementRecord)}}]),t}(a.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.consumeCharacters("."),new s(e.consumeRegex(c.b))}var a=n(87),c=n(7);t.a=u;var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(0).get("util:dom:get_elements_from_selector:consumers:class_name_consumer"),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._className=e,n}return i(t,e),f(t,[{key:"applyToElement",value:function(e){e.className=e.className?e.className+" "+this._className:this._className}}]),t}(a.a))},function(e,t,n){"use strict";function r(e){throw e.consumeCharacters(":"),n.i(o.c)(e.getSelector())}var o=n(43);t.a=r;n(0).get("util:dom:get_elements_from_selector:consumers:custom_selector_method_consumer")},function(e,t,n){"use strict";function r(e){var t=new f.a,r=n.i(c.a)(e);t.appendChildElementRecord(r);for(var o=r;!e.isDone();){var i=e.lookAheadRegex(s.a);if(""===i)throw n.i(l.a)(e.getSelector());var u=p[i.trim()];if(!u)throw n.i(l.a)(e.getSelector());var a=u(e);a.applyToElementRecord(o),o=a.getElementRecord()}return t}var o=n(309),i=n(313),u=n(314),a=n(316),c=n(42),f=n(88),s=n(7),l=n(43);t.a=r;var p=(n(0).get("util:dom:get_elements_from_selector:consumers:element_hierarchy_consumer"),{">":o.a,"":i.a,"+":a.a,"~":u.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.consumeRegex(s.j),new p(n.i(c.a)(e))}var a=n(58),c=n(42),f=n(134),s=n(7);t.a=u;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("util:dom:get_elements_from_selector:consumers:grand_child_element_consumer"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"applyToElementRecord",value:function(e){var t=n.i(f.a)();t.push(this.elementRecord),t.forEach(function(e,n){n>0&&t[n-1].appendChildElementRecord(e)}),e.appendChildElementRecord(t[0])}}]),t}(a.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.consumeRegex(s.h),new p(n.i(c.a)(e))}var a=n(58),c=n(42),f=n(134),s=n(7);t.a=u;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(n(0).get("util:dom:get_elements_from_selector:consumers:grand_sibling_element_consumer"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"applyToElementRecord",value:function(e){var t=e.getParentElementRecord(),r=n.i(f.a)();r.push(this.elementRecord),r.forEach(function(e){t.appendChildElementRecord(e)})}}]),t}(a.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.consumeCharacters("#"),new s(e.consumeRegex(c.b))}var a=n(87),c=n(7);t.a=u;var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(0).get("util:dom:get_elements_from_selector:consumers:id_consumer"),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._id=e,n}return i(t,e),f(t,[{key:"applyToElement",value:function(e){e.id=this._id}}]),t}(a.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.consumeRegex(f.i),new l(n.i(c.a)(e))}var a=n(58),c=n(42),f=n(7);t.a=u;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(0).get("util:dom:get_elements_from_selector:consumers:sibling_element_consumer"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"applyToElementRecord",value:function(e){e.getParentElementRecord().appendChildElementRecord(this.elementRecord)}}]),t}(a.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(43),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=(n(0).get("util:dom:get_elements_from_selector:selector_reader"),function(){function e(t){r(this,e),this._selector=t,this._index=0}return i(e,[{key:"lookAheadRegex",value:function(){var e=this._getCharsWithRegex.apply(this,arguments);return this._validateNoSkippedChars(e),e}},{key:"consumeRegex",value:function(){var e=this._getCharsWithRegex.apply(this,arguments);return this._validateConsumed(e),this._advanceReader(e.length),e}},{key:"consumeCharacters",value:function(e){return this._validateConsumed(e),this._advanceReader(e.length),e}},{key:"getSelector",value:function(){return this._selector}},{key:"isDone",value:function(){return this._index>=this._selector.length}},{key:"_getCharsWithRegex",value:function(){for(var e=this._getRemainingCharacters(),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.reduce(function(t,n){return t||n.exec(e)},null);return o?o[0]:""}},{key:"_getRemainingCharacters",value:function(){return this._selector.slice(this._index)}},{key:"_advanceReader",value:function(e){this._index+=e}},{key:"_validateConsumed",value:function(e){if(0===e.length)throw n.i(o.a)(this.getSelector());this._validateNoSkippedChars(e)}},{key:"_validateNoSkippedChars",value:function(e){if(0!==this._getRemainingCharacters().indexOf(e))throw n.i(o.a)(this.getSelector())}}]),e}());t.a=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(136);n(0).get("util:get_network_listener_data");t.a=function(e){return null==e?null:new i(e.load.events.map(function(e){return new o.a(e.src,e.tagName)}),e.error.events.map(function(e){return new o.b(e.src,e.tagName)}))};var i=function e(t,n){r(this,e),this.loadEvents=t,this.errorEvents=n}},function(e,t,n){function r(e){var t=window.document,n=t.addEventListener,r=n?"addEventListener":"attachEvent",o=n?"":"on";window[r](o+"unload",e,!1)}n(0).get("util:unload");e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t){function n(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e){return e.match(r)||[]}var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=n},function(e,t,n){function r(e,t){return e&&o(t,i(t),e)}var o=n(17),i=n(26);e.exports=r},function(e,t,n){function r(e,t){return e&&o(t,i(t),e)}var o=n(17),i=n(37);e.exports=r},function(e,t,n){function r(e,t,n,u,a){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:o(e,t,n,u,r,a))}var o=n(327),i=n(36);e.exports=r},function(e,t,n){function r(e,t,n,r,y,v){var m=f(e),g=f(t),E=m?d:c(e),O=g?d:c(t);E=E==h?_:E,O=O==h?_:O;var w=E==_,T=O==_,S=E==O;if(S&&s(e)){if(!s(t))return!1;m=!0,w=!1}if(S&&!w)return v||(v=new o),m||l(e)?i(e,t,n,r,y,v):u(e,t,E,n,r,y,v);if(!(n&p)){var R=w&&b.call(e,"__wrapped__"),P=T&&b.call(t,"__wrapped__");if(R||P){var k=R?e.value():e,N=P?t.value():t;return v||(v=new o),y(k,N,n,r,v)}}return!!S&&(v||(v=new o),a(e,t,n,r,y,v))}var o=n(70),i=n(334),u=n(335),a=n(336),c=n(77),f=n(10),s=n(72),l=n(103),p=1,h="[object Arguments]",d="[object Array]",_="[object Object]",y=Object.prototype,b=y.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:o(e,t,n)}var o=n(137);e.exports=r},function(e,t,n){function r(e,t){return o(e,i(e),t)}var o=n(17),i=n(337);e.exports=r},function(e,t,n){function r(e,t){return o(e,i(e),t)}var o=n(17),i=n(338);e.exports=r},function(e,t,n){function r(e){return function(t){t=a(t);var n=i(t)?u(t):void 0,r=n?n[0]:t.charAt(0),c=n?o(n,1).join(""):t.slice(1);return r[e]()+c}}var o=n(328),i=n(114),u=n(115),a=n(47);e.exports=r},function(e,t,n){function r(e){return function(t){return o(u(i(t).replace(a,"")),e,"")}}var o=n(321),i=n(348),u=n(352),a=RegExp("[']","g");e.exports=r},function(e,t,n){function r(e,t,n,r){return void 0===e||o(e,i[n])&&!u.call(r,n)?t:e}var o=n(35),i=Object.prototype,u=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,r,f,s){var l=n&a,p=e.length,h=t.length;if(p!=h&&!(l&&h>p))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var _=-1,y=!0,b=n&c?new o:void 0;for(s.set(e,t),s.set(t,e);++_<p;){var v=e[_],m=t[_];if(r)var g=l?r(m,v,_,t,e,s):r(v,m,_,e,t,s);if(void 0!==g){if(g)continue;y=!1;break}if(b){if(!i(t,function(e,t){if(!u(b,t)&&(v===e||f(v,e,n,r,s)))return b.push(t)})){y=!1;break}}else if(v!==m&&!f(v,m,n,r,s)){y=!1;break}}return s["delete"](e),s["delete"](t),y}var o=n(124),i=n(322),u=n(125),a=1,c=2;e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e,t,n,r,u,c){var f=n&i,s=o(e),l=s.length;if(l!=o(t).length&&!f)return!1;for(var p=l;p--;){var h=s[p];if(!(f?h in t:a.call(t,h)))return!1}var d=c.get(e);if(d&&c.get(t))return d==t;var _=!0;c.set(e,t),c.set(t,e);for(var y=f;++p<l;){h=s[p];var b=e[h],v=t[h];if(r)var m=f?r(v,b,h,t,e,c):r(b,v,h,e,t,c);if(!(void 0===m?b===v||u(b,v,n,r,c):m)){_=!1;break}y||(y="constructor"==h)}if(_&&!y){var g=e.constructor,E=t.constructor;g!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof E&&E instanceof E)&&(_=!1)}return c["delete"](e),c["delete"](t),_}var o=n(138),i=1,u=Object.prototype,a=u.hasOwnProperty;e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t){function n(){return[]}e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,o=r.hasOwnProperty;e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t){return t.length<2?e:o(e,i(t,0,-1))}var o=n(75),i=n(137);e.exports=r},function(e,t){function n(e){return e.match(r)||[]}var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=n},function(e,t,n){var r=n(17),o=n(71),i=n(37),u=o(function(e,t,n,o){r(t,i(t),e,o)});e.exports=u},function(e,t,n){function r(e,t){var n;if("function"!=typeof t)throw new TypeError(i);return e=o(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var o=n(119),i="Expected a function";e.exports=r},function(e,t,n){var r=n(347),o=n(332),i=o(function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)});e.exports=i},function(e,t,n){function r(e){return i(o(e).toLowerCase())}var o=n(47),i=n(351);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){var r=n(98),o=n(344),i=n(59),u=n(333),a=i(function(e){return e.push(void 0,u),r(o,void 0,e)});e.exports=a},function(e,t,n){function r(e,t){var n={};return t=u(t,3),i(e,function(e,r,i){o(n,t(e,r,i),e)}),n}var o=n(29),i=n(229),u=n(31);e.exports=r},function(e,t,n){var r=n(331),o=r("toUpperCase");e.exports=o},function(e,t,n){function r(e,t,n){return e=u(e),t=n?void 0:t,void 0===t?i(e)?a(e):o(e):e.match(t)||[]}var o=n(323),i=n(339),u=n(47),a=n(343);e.exports=r},,,,,function(e,t,n){"use strict";function r(){var e=i.a,t=new u["default"](function(t){e=t});return n.i(a.a)("checkState",function(e){t.then(function(t){e(t)})}),e}var o=n(68),i=n.n(o),u=n(2),a=n(11);t.a=r;n(0).get("backwards_compatibility:life_cycle:check_state")},,function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[],n=[],r=o.bind(null,t),i=o.bind(null,n);return e.addEventListener("load",r,!0),e.addEventListener("error",i,!0),{load:{events:t,listener:r},error:{events:n,listener:i}}}function o(e,t){if(t.target){var n="string"==typeof t.target.tagName?t.target.tagName.toLowerCase():"",r="string"==typeof t.target.src?t.target.src:"";"iframe"!==n&&e.push({tagName:n,src:r})}}t.a=r;n(0).get("util:setup_network_listeners")},function(e,t){function n(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var u=e[o];t(r,u,n(u),e)}return r}e.exports=n},,function(e,t){function n(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var u=e[o];t(r,u,n(u),e)}return r}e.exports=n},function(e,t){function n(e,t){return null!=e&&o.call(e,t)}var r=Object.prototype,o=r.hasOwnProperty;e.exports=n},,,function(e,t,n){function r(e,t){return function(n,r){var c=a(n)?o:i,f=t?t():{};return c(n,e,u(r,2),f)}}var o=n(360),i=n(362),u=n(31),a=n(10);e.exports=r},function(e,t,n){function r(e){return o(e,i|u)}var o=n(170),i=1,u=4;e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}var o=n(75);e.exports=r},function(e,t,n){var r=n(29),o=n(366),i=Object.prototype,u=i.hasOwnProperty,a=o(function(e,t,n){u.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=a},function(e,t,n){function r(e,t){return null!=e&&i(e,t,o)}var o=n(363),i=n(108);e.exports=r},function(e,t,n){function r(e,t,n){return null==e?e:o(e,t,n)}var o=n(107);e.exports=r},function(e,t,n){function r(e,t){return null==e||o(e,t)}var o=n(178);e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(12),a=n(11),c=(n(0).get("detection:is_content_blocker_present_feature"),function(e){function t(e){function i(t){e.isContentBlockerPresent().then(function(e){t(e)})}r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.i(a.a)("isContentBlockerPresent",i),n.i(a.a)("rerunDetection",function(){e.rerun()}),n.i(a.a)("isAdblocking",i),n.i(a.a)("isAdBlocking",i),u}return i(t,e),t}(u.b));t["default"]=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(0).get("detection");if(n(214)())n(209).mockApi(["checkState","isAdBlocking","pageChange"]);else{var r=function(){if(window._sp_&&window._sp_.config&&window._sp_.config.runImmediately&&n(215)(),window._sp_&&window._sp_.config){var e=n(207)["default"],t=n(206)["default"];window._sp_.config=e(window._sp_.config),t(window._sp_.config)}var r=n(5)["default"];r.init(r.specs.BASE),(0,n(213)["default"])("detection",[n(205)["default"],n(210)["default"],n(409)["default"],n(211)["default"],n(212)["default"]])};document.getElementById("_sp_override")?r():(0,n(208)["default"])("detection",function(e){if(e)throw new Error("overridden");r()})}}]);

}catch(e){}
}if(typeof initSourcePointLibrary === 'function'){window.initSourcePointLibrary=initSourcePointLibrary};

			
	


		
	


		
	


		
		//Including Bento version 1.13.3: 
		/* BentoJS: v1.13.3 Tue Mar 06 2018 14:28:47 GMT-0500 (Eastern Standard Time) */
function initMoatTracking(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var i=window.location.protocol,a="https:"===i?"z":"js",r=document.createElement("script");n=n||e&&("undefined"!=typeof e.O?e.O.parentNode:document.body)||document.body;var o=[],s={adsManager:e,ids:t,imaSDK:!0,events:[]},l={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&e){var d,c="_moatApi"+Math.floor(1e8*Math.random());for(d in google.ima.AdEvent.Type){var u=function(t){if(s.sendEvent){for(t=o.length-1;t>=0;t--)e.removeEventListener(o[t].type,o[t].func);s.sendEvent(s.events)}else s.events.push({type:l[t.type]||t.type,adVolume:e.getVolume()})};e.addEventListener(google.ima.AdEvent.Type[d],u),o.push({type:google.ima.AdEvent.Type[d],func:u})}}c="undefined"!=typeof c?c:"",window[c]=s,n&&n.appendChild(r),r.src=i+"//"+a+".moatads.com/"+t.partnerCode+"/moatvideo.js#"+c}function Visitor(s,w){function y(e){function t(e,t,n){return n=n?n+="|":n,n+(e+"="+encodeURIComponent(t))}for(var n="",a=0,r=e.length;r>a;a++){var o=e[a],s=o[0],o=o[1];o!=i&&o!==u&&(n=t(s,o,n))}return function(e){var t=m.Ba(),e=e?e+="|":e;return e+("TS="+t)}(n)}if(!s)throw"Visitor requires Adobe Marketing Cloud Org ID";var a=this;a.version="2.0.0";var n=window,l=n.Visitor;l.version=a.version,n.s_c_in||(n.s_c_il=[],n.s_c_in=0),a._c="Visitor",a._il=n.s_c_il,a._in=n.s_c_in,a._il[a._in]=a,n.s_c_in++,a.la={Ja:[]};var v=n.document,i=l.Kb;i||(i=null);var E=l.Lb;E||(E=void 0);var j=l.Ta;j||(j=!0);var k=l.Qa;k||(k=!1),a.ia=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},a.t=function(e,t){var n,i,a="0123456789",r="",s="",l=8,d=10,c=10;if(t===o&&(x.isClientSideMarketingCloudVisitorID=j),1==e){for(a+="ABCDEF",n=0;16>n;n++)i=Math.floor(Math.random()*l),r+=a.substring(i,i+1),i=Math.floor(Math.random()*l),s+=a.substring(i,i+1),l=16;return r+"-"+s}for(n=0;19>n;n++)i=Math.floor(Math.random()*d),r+=a.substring(i,i+1),0==n&&9==i?d=3:(1==n||2==n)&&10!=d&&2>i?d=10:n>2&&(d=10),i=Math.floor(Math.random()*c),s+=a.substring(i,i+1),0==n&&9==i?c=3:(1==n||2==n)&&10!=c&&2>i?c=10:n>2&&(c=10);return r+s},a.Wa=function(){var e;if(!e&&n.location&&(e=n.location.hostname),e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),i=t.length-1,a=i-1;if(i>1&&2>=t[i].length&&(2==t[i-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+t[i]+","))&&a--,a>0)for(e="";i>=a;)e=t[i]+(e?".":"")+e,i--}return e},a.cookieRead=function(e){var e=encodeURIComponent(e),t=(";"+v.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=0>n?n:t.indexOf(";",n+1);return 0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>i?t.length:i))},a.cookieWrite=function(e,t,n){var i,r=a.cookieLifetime,t=""+t,r=r?(""+r).toUpperCase():"";return n&&"SESSION"!=r&&"NONE"!=r?(i=""!=t?parseInt(r?r:0,10):-60)?(n=new Date,n.setTime(n.getTime()+1e3*i)):1==n&&(n=new Date,i=n.getYear(),n.setYear(i+2+(1900>i?1900:0))):n=0,e&&"NONE"!=r?(v.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+n.toGMTString()+";":"")+(a.cookieDomain?" domain="+a.cookieDomain+";":""),a.cookieRead(e)==t):0},a.h=i,a.z=function(e,t){try{"function"==typeof e?e.apply(n,t):e[1].apply(e[0],t)}catch(i){}},a.L=function(e,t){t&&(a.h==i&&(a.h={}),a.h[e]==E&&(a.h[e]=[]),a.h[e].push(t))},a.s=function(e,t){if(a.h!=i){var n=a.h[e];if(n)for(;0<n.length;)a.z(n.shift(),t)}},a.w=function(e,t,n,i){if(n=encodeURIComponent(t)+"="+encodeURIComponent(n),t=m.Bb(e),e=m.sb(e),-1===e.indexOf("?"))return e+"?"+n+t;var a=e.split("?"),e=a[0]+"?",i=m.fb(a[1],n,i);return e+i+t},a.Va=function(e,t){var n=RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);return n&&n.length?decodeURIComponent(n[1]):void 0},a.bb=function(){var e=i,t=n.location.href;try{var r=a.Va(t,p.aa);if(r)for(var e={},o=r.split("|"),t=0,s=o.length;s>t;t++){var l=o[t].split("=");e[l[0]]=decodeURIComponent(l[1])}return e}catch(d){}},a.ea=function(){var e=a.bb();if(e&&e.TS&&!(Math.floor((m.Ba()-e.TS)/60)>p.Oa||e[I]!==s)){var n=e[o],i=a.setMarketingCloudVisitorID;n&&n.match(p.v)&&i(n),a.j(t,-1),e=e[r],n=a.setAnalyticsVisitorID,e&&e.match(p.v)&&n(e)}},a.ab=function(e){function t(e){m.Ea(e)&&a.setCustomerIDs(e)}function n(e){e=e||{},a._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",a._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},a._supplementalDataIDLast=e.supplementalDataIDLast||"",a._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}if(e)try{if(e=m.Ea(e)?e:m.Cb(e),e[a.marketingCloudOrgID]){var i=e[a.marketingCloudOrgID];t(i.customerIDs),n(i.sdid)}}catch(r){throw Error("`serverState` has an invalid format.")}},a.l=i,a.Ya=function(e,t,n,i){t=a.w(t,"d_fieldgroup",e,1),i.url=a.w(i.url,"d_fieldgroup",e,1),i.m=a.w(i.m,"d_fieldgroup",e,1),x.d[e]=j,i===Object(i)&&i.m&&"XMLHttpRequest"===a.na.F.G?a.na.ob(i,n,e):a.useCORSOnly||a.Za(e,t,n)},a.Za=function(e,t,n){var r,o=0,s=0;if(t&&v){for(r=0;!o&&2>r;){try{o=(o=v.getElementsByTagName(r>0?"HEAD":"head"))&&0<o.length?o[0]:0}catch(l){o=0}r++}if(!o)try{v.body&&(o=v.body)}catch(d){o=0}if(o)for(r=0;!s&&2>r;){try{s=v.createElement(r>0?"SCRIPT":"script")}catch(c){s=0}r++}}t&&o&&s?(s.type="text/javascript",s.src=t,o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),o=a.loadTimeout,q.d[e]={requestStart:q.p(),url:t,va:o,ta:q.Aa(),ua:0},n&&(a.l==i&&(a.l={}),a.l[e]=setTimeout(function(){n(j)},o)),a.la.Ja.push(t)):n&&n()},a.Ua=function(e){a.l!=i&&a.l[e]&&(clearTimeout(a.l[e]),a.l[e]=0)},a.ja=k,a.ka=k,a.isAllowed=function(){return!a.ja&&(a.ja=j,a.cookieRead(a.cookieName)||a.cookieWrite(a.cookieName,"T",1))&&(a.ka=j),a.ka},a.b=i,a.c=i;var F=l.bc;F||(F="MC");var o=l.ic;o||(o="MCMID");var I=l.fc;I||(I="MCORGID");var G=l.cc;G||(G="MCCIDH");var L=l.gc;L||(L="MCSYNCS");var J=l.hc;J||(J="MCSYNCSOP");var K=l.dc;K||(K="MCIDTS");var B=l.ec;B||(B="MCOPTOUT");var D=l.$b;D||(D="A");var r=l.Xb;r||(r="MCAID");var C=l.ac;C||(C="AAM");var A=l.Zb;A||(A="MCAAMLH");var t=l.Yb;t||(t="MCAAMB");var u=l.jc;u||(u="NONE"),a.M=0,a.ha=function(){if(!a.M){var e=a.version;a.audienceManagerServer&&(e+="|"+a.audienceManagerServer),a.audienceManagerServerSecure&&(e+="|"+a.audienceManagerServerSecure),a.M=a.ia(e)}return a.M},a.ma=k,a.f=function(){if(!a.ma){a.ma=j;var e,t,n,o,s=a.ha(),l=k,d=a.cookieRead(a.cookieName),c=new Date;if(a.b==i&&(a.b={}),d&&"T"!=d)for(d=d.split("|"),d[0].match(/^[\-0-9]+$/)&&(parseInt(d[0],10)!=s&&(l=j),d.shift()),1==d.length%2&&d.pop(),s=0;s<d.length;s+=2)e=d[s].split("-"),t=e[0],n=d[s+1],1<e.length?(o=parseInt(e[1],10),e=0<e[1].indexOf("s")):(o=0,e=k),l&&(t==G&&(n=""),o>0&&(o=c.getTime()/1e3-60)),t&&n&&(a.e(t,n,1),o>0&&(a.b["expire"+t]=o+(e?"s":""),c.getTime()>=1e3*o||e&&!a.cookieRead(a.sessionCookieName)))&&(a.c||(a.c={}),a.c[t]=j);!a.a(r)&&m.o()&&(d=a.cookieRead("s_vi"))&&(d=d.split("|"),1<d.length&&0<=d[0].indexOf("v1")&&(n=d[1],s=n.indexOf("["),s>=0&&(n=n.substring(0,s)),n&&n.match(p.v)&&a.e(r,n)))}},a._appendVersionTo=function(e){var t="vVersion|"+a.version,n=Boolean(e)?a._getCookieVersion(e):null;return n?m.gb(n,a.version)&&(e=e.replace(p.da,t)):e+=(e?"|":"")+t,e},a.eb=function(){var e,t,n=a.ha();for(e in a.b)!Object.prototype[e]&&a.b[e]&&"expire"!=e.substring(0,6)&&(t=a.b[e],n+=(n?"|":"")+e+(a.b["expire"+e]?"-"+a.b["expire"+e]:"")+"|"+t);n=a._appendVersionTo(n),a.cookieWrite(a.cookieName,n,1)},a.a=function(e,t){return a.b==i||!t&&a.c&&a.c[e]?i:a.b[e]},a.e=function(e,t,n){a.b==i&&(a.b={}),a.b[e]=t,n||a.eb()},a.Xa=function(e,t){var n=a.a(e,t);return n?n.split("*"):i},a.cb=function(e,t,n){a.e(e,t?t.join("*"):"",n)},a.Rb=function(e,t){var n=a.Xa(e,t);if(n){var r,o={};for(r=0;r<n.length;r+=2)o[n[r]]=n[r+1];return o}return i},a.Tb=function(e,t,n){var r,o=i;if(t)for(r in o=[],t)Object.prototype[r]||(o.push(r),o.push(t[r]));a.cb(e,o,n)},a.j=function(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*t),a.b==i&&(a.b={}),a.b["expire"+e]=Math.floor(r.getTime()/1e3)+(n?"s":""),0>t?(a.c||(a.c={}),a.c[e]=j):a.c&&(a.c[e]=k),n&&(a.cookieRead(a.sessionCookieName)||a.cookieWrite(a.sessionCookieName,"1"))},a.ga=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&(e=e.toUpperCase(),"NOTARGET"==e&&(e=u)),!e||e!=u&&!e.match(p.v))&&(e=""),e},a.k=function(e,n){if(a.Ua(e),a.i!=i&&(a.i[e]=k),q.d[e]&&(q.d[e].Ib=q.p(),q.J(e)),x.d[e]&&x.La(e,k),e==F){x.isClientSideMarketingCloudVisitorID!==j&&(x.isClientSideMarketingCloudVisitorID=k);var s=a.a(o);if(!s||a.overwriteCrossDomainMCIDAndAID){if(s="object"==typeof n&&n.mid?n.mid:a.ga(n),!s){if(a.D)return void a.getAnalyticsVisitorID(i,k,j);s=a.t(0,o)}a.e(o,s)}s&&s!=u||(s=""),"object"==typeof n&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&a.k(C,n),a.D&&n.mid&&a.k(D,{id:n.id})),a.s(o,[s])}if(e==C&&"object"==typeof n){s=604800,n.id_sync_ttl!=E&&n.id_sync_ttl&&(s=parseInt(n.id_sync_ttl,10));var l=a.a(A);l||((l=n.d_region)||(l=n.dcs_region),l&&(a.j(A,s),a.e(A,l))),l||(l=""),a.s(A,[l]),l=a.a(t),(n.d_blob||n.blob)&&((l=n.d_blob)||(l=n.blob),a.j(t,s),a.e(t,l)),l||(l=""),a.s(t,[l]),!n.error_msg&&a.C&&a.e(G,a.C)}if(e==D&&(s=a.a(r),s&&!a.overwriteCrossDomainMCIDAndAID||((s=a.ga(n))?s!==u&&a.j(t,-1):s=u,a.e(r,s)),s&&s!=u||(s=""),a.s(r,[s])),a.idSyncDisableSyncs?z.Ca=j:(z.Ca=k,s={},s.ibs=n.ibs,s.subdomain=n.subdomain,z.Db(s)),n===Object(n)){var d;a.isAllowed()&&(d=a.a(B)),d||(d=u,n.d_optout&&n.d_optout instanceof Array&&(d=n.d_optout.join(",")),s=parseInt(n.d_ottl,10),isNaN(s)&&(s=7200),a.j(B,s,j),a.e(B,d)),a.s(B,[d])}},a.i=i,a.u=function(e,n,s,l,d){var c,_="",p=m.ub(e);if(a.isAllowed())if(a.f(),_=a.a(e,M[e]===j),!(!_||a.c&&a.c[e])||a.disableThirdPartyCalls&&!p)_||(e===o?(a.L(e,s),_=a.t(0,o),a.setMarketingCloudVisitorID(_)):e===r?(a.L(e,s),_="",a.setAnalyticsVisitorID(_)):(_="",l=j));else if(e==o||e==B?c=F:e==A||e==t?c=C:e==r&&(c=D),c)return!n||a.i!=i&&a.i[c]||(a.i==i&&(a.i={}),a.i[c]=j,a.Ya(c,n,function(t){a.a(e)||(q.d[c]&&(q.d[c].timeout=q.p(),q.d[c].tb=!!t,q.J(c)),t&&x.La(c,j),t="",e==o?t=a.t(0,o):c==C&&(t={error_msg:"timeout"}),a.k(c,t))},d)),a.L(e,s),_?_:(n||a.k(c,{id:u}),"");return e!=o&&e!=r||_!=u||(_="",l=j),s&&l&&a.z(s,[_]),_},a._setMarketingCloudFields=function(e){a.f(),a.k(F,e)},a.setMarketingCloudVisitorID=function(e){a._setMarketingCloudFields(e)},a.D=k,a.getMarketingCloudVisitorID=function(e,t){if(a.isAllowed()){a.marketingCloudServer&&0>a.marketingCloudServer.indexOf(".demdex.net")&&(a.D=j);var n=a.B("_setMarketingCloudFields");return a.u(o,n.url,e,t,n)}return""},a.$a=function(){a.getAudienceManagerBlob()},l.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},a.A={},a.fa=k,a.C="",a.setCustomerIDs=function(e){if(a.isAllowed()&&e){a.f();var t,n;for(t in e)if(!Object.prototype[t]&&(n=e[t]))if("object"==typeof n){var i={};n.id&&(i.id=n.id),n.authState!=E&&(i.authState=n.authState),a.A[t]=i}else a.A[t]={id:n};var e=a.getCustomerIDs(),i=a.a(G),r="";i||(i=0);for(t in e)Object.prototype[t]||(n=e[t],r+=(r?"|":"")+t+"|"+(n.id?n.id:"")+(n.authState?n.authState:""));a.C=a.ia(r),a.C!=i&&(a.fa=j,a.$a())}},a.getCustomerIDs=function(){a.f();var e,t,n={};for(e in a.A)Object.prototype[e]||(t=a.A[e],n[e]||(n[e]={}),t.id&&(n[e].id=t.id),n[e].authState=t.authState!=E?t.authState:l.AuthState.UNKNOWN);return n},a._setAnalyticsFields=function(e){a.f(),a.k(D,e)},a.setAnalyticsVisitorID=function(e){a._setAnalyticsFields(e)},a.getAnalyticsVisitorID=function(e,t,n){if(!m.o()&&!n)return a.z(e,[""]),"";if(a.isAllowed()){var i="";if(n||(i=a.getMarketingCloudVisitorID(function(){a.getAnalyticsVisitorID(e,j)})),i||n){var s=n?a.marketingCloudServer:a.trackingServer,l="";a.loadSSL&&(n?a.marketingCloudServerSecure&&(s=a.marketingCloudServerSecure):a.trackingServerSecure&&(s=a.trackingServerSecure));var d={};if(s){var s="http"+(a.loadSSL?"s":"")+"://"+s+"/id",i="d_visid_ver="+a.version+"&mcorgid="+encodeURIComponent(a.marketingCloudOrgID)+(i?"&mid="+encodeURIComponent(i):"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":""),c=["s_c_il",a._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"],l=s+"?"+i+"&callback=s_c_il%5B"+a._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields";d.m=s+"?"+i,d.qa=c}return d.url=l,a.u(n?o:r,l,e,t,d)}}return""},a._setAudienceManagerFields=function(e){a.f(),a.k(C,e)},a.B=function(e){var n=a.audienceManagerServer,i="",s=a.a(o),l=a.a(t,j),d=a.a(r),d=d&&d!=u?"&d_cid_ic=AVID%01"+encodeURIComponent(d):"";if(a.loadSSL&&a.audienceManagerServerSecure&&(n=a.audienceManagerServerSecure),n){var c,_,i=a.getCustomerIDs();if(i)for(c in i)Object.prototype[c]||(_=i[c],d+="&d_cid_ic="+encodeURIComponent(c)+"%01"+encodeURIComponent(_.id?_.id:"")+(_.authState?"%01"+_.authState:""));return e||(e="_setAudienceManagerFields"),n="http"+(a.loadSSL?"s":"")+"://"+n+"/id",s="d_visid_ver="+a.version+"&d_rtbd=json&d_ver=2"+(!s&&a.D?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(a.marketingCloudOrgID)+"&d_nsid="+(a.idSyncContainerID||0)+(s?"&d_mid="+encodeURIComponent(s):"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":"")+(l?"&d_blob="+encodeURIComponent(l):"")+d,l=["s_c_il",a._in,e],i=n+"?"+s+"&d_cb=s_c_il%5B"+a._in+"%5D."+e,{url:i,m:n+"?"+s,qa:l}}return{url:i}},a.getAudienceManagerLocationHint=function(e,t){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerLocationHint(e,j)})){var n=a.a(r);if(!n&&m.o()&&(n=a.getAnalyticsVisitorID(function(){a.getAudienceManagerLocationHint(e,j)})),n||!m.o())return n=a.B(),a.u(A,n.url,e,t,n)}return""},a.getLocationHint=a.getAudienceManagerLocationHint,a.getAudienceManagerBlob=function(e,n){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerBlob(e,j)})){var i=a.a(r);if(!i&&m.o()&&(i=a.getAnalyticsVisitorID(function(){a.getAudienceManagerBlob(e,j)})),i||!m.o()){var i=a.B(),o=i.url;return a.fa&&a.j(t,-1),a.u(t,o,e,n,i)}}return""},a._supplementalDataIDCurrent="",a._supplementalDataIDCurrentConsumed={},a._supplementalDataIDLast="",a._supplementalDataIDLastConsumed={},a.getSupplementalDataID=function(e,t){!a._supplementalDataIDCurrent&&!t&&(a._supplementalDataIDCurrent=a.t(1));var n=a._supplementalDataIDCurrent;return a._supplementalDataIDLast&&!a._supplementalDataIDLastConsumed[e]?(n=a._supplementalDataIDLast,a._supplementalDataIDLastConsumed[e]=j):n&&(a._supplementalDataIDCurrentConsumed[e]&&(a._supplementalDataIDLast=a._supplementalDataIDCurrent,a._supplementalDataIDLastConsumed=a._supplementalDataIDCurrentConsumed,a._supplementalDataIDCurrent=n=t?"":a.t(1),a._supplementalDataIDCurrentConsumed={}),n&&(a._supplementalDataIDCurrentConsumed[e]=j)),n},l.OptOut={GLOBAL:"global"},a.getOptOut=function(e,t){if(a.isAllowed()){var n=a.B("_setMarketingCloudFields");return a.u(B,n.url,e,t,n)}return""},a.isOptedOut=function(e,t,n){return a.isAllowed()?(t||(t=l.OptOut.GLOBAL),(n=a.getOptOut(function(n){a.z(e,[n==l.OptOut.GLOBAL||0<=n.indexOf(t)])},n))?n==l.OptOut.GLOBAL||0<=n.indexOf(t):i):k},a.appendVisitorIDsTo=function(e){var t=p.aa,n=y([[o,a.a(o)],[r,a.a(r)],[I,a.marketingCloudOrgID]]);try{return a.w(e,t,n)}catch(i){return e}};var p={r:!!n.postMessage,Pa:1,ca:864e5,aa:"adobe_mc",v:/^[0-9a-fA-F\-]+$/,Oa:5,Ra:/^\d+$/,da:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/};a.Mb=p,a.pa={postMessage:function(e,t,n){var i=1;t&&(p.r?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i++ +"&"+e))},W:function(e,t){var n;try{p.r&&(e&&(n=function(n){return"string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin)?!1:void e(n)}),window.addEventListener?window[e?"addEventListener":"removeEventListener"]("message",n,!1):window[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(i){}}};var m={N:function(){return v.addEventListener?function(e,t,n){e.addEventListener(t,function(e){"function"==typeof n&&n(e)},k)}:v.attachEvent?function(e,t,n){e.attachEvent("on"+t,function(e){"function"==typeof n&&n(e)})}:void 0}(),map:function(e,t){if(Array.prototype.map)return e.map(t);if(void 0===e||e===i)throw new TypeError;var n=Object(e),a=n.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=Array(a),o=0;a>o;o++)o in n&&(r[o]=t.call(t,n[o],o,n));return r},xa:function(e,t){return this.map(e,function(e){return encodeURIComponent(e)}).join(t)},Bb:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},sb:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},fb:function(e,t,n){return e=e.split("&"),n=n!=i?n:e.length,e.splice(n,0,t),e.join("&")},ub:function(e,t,n){return e!==r?k:(t||(t=a.trackingServer),n||(n=a.trackingServerSecure),e=a.loadSSL?n:t,"string"==typeof e&&e.length?0>e.indexOf("2o7.net")&&0>e.indexOf("omtrdc.net"):k)},Ea:function(e){return Boolean(e&&e===Object(e))},vb:function(e,t){return 0>a._compareVersions(e,t)},gb:function(e,t){return 0!==a._compareVersions(e,t)},Hb:function(e){document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},o:function(){return!!a.trackingServer||!!a.trackingServerSecure},Cb:function(a,c){function b(e,t){var n,i,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(i=b(a,n),void 0!==i?a[n]=i:delete a[n]);return c.call(e,t,a)}if("object"==typeof JSON&&"function"==typeof JSON.parse)return JSON.parse(a,c);var e;if(e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a=""+a,e.lastIndex=0,e.test(a)&&(a=a.replace(e,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?b({"":e},""):e;throw new SyntaxError("JSON.parse")},Ba:function(){return Math.round((new Date).getTime()/1e3)}};a.Sb=m,a.na={F:function(){var e="none",t=j;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=k),0<Object.prototype.toString.call(window.Jb).indexOf("Constructor")&&(t=k)),{G:e,Vb:t}}(),pb:function(){return"none"===this.F.G?i:new window[this.F.G]},ob:function(e,t,n){var r=this;t&&(e.T=t);try{var o=this.pb();o.open("get",e.m+"&ts="+(new Date).getTime(),j),"XMLHttpRequest"===this.F.G&&(o.withCredentials=j,o.timeout=a.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){if(4===this.readyState&&200===this.status)e:{var t;try{if(t=JSON.parse(this.responseText),t!==Object(t)){r.n(e,i,"Response is not JSON");break e}}catch(n){r.n(e,n,"Error parsing response as JSON");break e}try{for(var a=e.qa,o=window,s=0;s<a.length;s++)o=o[a[s]];o(t)}catch(l){r.n(e,l,"Error forming callback function")}}}),o.onerror=function(t){r.n(e,t,"onerror")},o.ontimeout=function(t){r.n(e,t,"ontimeout")},o.send(),q.d[n]={requestStart:q.p(),url:e.m,va:o.timeout,ta:q.Aa(),ua:1},a.la.Ja.push(e.m)}catch(s){this.n(e,s,"try-catch")}},n:function(e,t,n){a.CORSErrors.push({Wb:e,error:t,description:n}),e.T&&("ontimeout"===n?e.T(j):e.T(k))}};var z={Sa:3e4,ba:649,Na:k,id:i,V:[],R:i,za:function(e){return"string"==typeof e?(e=e.split("/"),e[0]+"//"+e[2]):void 0},g:i,url:i,qb:function(){var e="http://fast.",t="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(v.location.href);return this.g||(this.g="nosubdomainreturned"),a.loadSSL&&(e=a.idSyncSSLUseAkamai?"https://fast.":"https://"),e=e+this.g+".demdex.net/dest5.html"+t,this.R=this.za(e),this.id="destination_publishing_iframe_"+this.g+"_"+a.idSyncContainerID,e},jb:function(){var e="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(v.location.href);"string"==typeof a.K&&a.K.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+a.idSyncContainerID,this.R=this.za(a.K),this.url=a.K+e)},Ca:i,wa:k,Y:k,H:i,kc:i,Ab:i,lc:i,X:k,I:[],yb:[],zb:[],Fa:p.r?15:100,S:[],wb:[],ra:j,Ia:k,Ha:function(){return!a.idSyncDisable3rdPartySyncing&&(this.wa||a.Ob)&&this.g&&"nosubdomainreturned"!==this.g&&this.url&&!this.Y},P:function(){function e(){i=document.createElement("iframe"),i.sandbox="allow-scripts allow-same-origin",i.title="Adobe ID Syncing iFrame",i.id=n.id,i.style.cssText="display: none; width: 0; height: 0;",i.src=n.url,n.Ab=j,t(),document.body.appendChild(i)}function t(){m.N(i,"load",function(){i.className="aamIframeLoaded",n.H=j,n.q()})}this.Y=j;var n=this,i=document.getElementById(this.id);i?"IFRAME"!==i.nodeName?(this.id+="_2",e()):"aamIframeLoaded"!==i.className?t():(this.H=j,this.Da=i,this.q()):e(),this.Da=i},q:function(e){var t=this;e===Object(e)&&(this.S.push(e),this.Eb(e)),(this.Ia||!p.r||this.H)&&this.S.length&&(this.J(this.S.shift()),this.q()),!a.idSyncDisableSyncs&&this.H&&this.I.length&&!this.X&&(this.Na||(this.Na=j,setTimeout(function(){t.Fa=p.r?15:150},this.Sa)),this.X=j,this.Ka())},Eb:function(e){var t,n,i;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(e=0;n>e;e++)i=t[e],i.syncOnPage&&this.sa(i,"","syncOnPage")},J:function(e){var t,n,i,a,r,o=encodeURIComponent;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(i=0;n>i;i++)a=t[i],r=[o("ibs"),o(a.id||""),o(a.tag||""),m.xa(a.url||[],","),o(a.ttl||""),"","",a.fireURLSync?"true":"false"],a.syncOnPage||(this.ra?this.O(r.join("|")):a.fireURLSync&&this.sa(a,r.join("|")));this.wb.push(e)},sa:function(e,t,n){var i=(n="syncOnPage"===n?j:k)?J:L;a.f();var r=a.a(i),o=k,s=k,l=Math.ceil((new Date).getTime()/p.ca);r?(r=r.split("*"),s=this.Fb(r,e.id,l),o=s.mb,s=s.nb,(!o||!s)&&this.ya(n,e,t,r,i,l)):(r=[],this.ya(n,e,t,r,i,l))},Fb:function(e,t,n){var i,a,r,o=k,s=k;for(a=0;a<e.length;a++)i=e[a],r=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(o=j,r>n?s=j:(e.splice(a,1),a--)):n>=r&&(e.splice(a,1),a--);return{mb:o,nb:s}},xb:function(e){if(e.join("*").length>this.ba)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.ba;)e.shift()},ya:function(e,t,n,r,o,s){var l=this;if(e){if("img"===t.tag){var d,c,u,e=t.url,n=a.loadSSL?"https:":"http:";for(r=0,d=e.length;d>r;r++){c=e[r],u=/^\/\//.test(c);var _=new Image;m.N(_,"load",function(e,t,n,r){return function(){l.V[e]=i,a.f();var s=a.a(o),d=[];if(s){var c,u,_,s=s.split("*");for(c=0,u=s.length;u>c;c++)_=s[c],_.match("^"+t.id+"-")||d.push(_)}l.Ma(d,t,n,r)}}(this.V.length,t,o,s)),_.src=(u?n:"")+c,this.V.push(_)}}}else this.O(n),this.Ma(r,t,o,s)},O:function(e){var t=encodeURIComponent;this.I.push(t(a.Pb?"---destpub-debug---":"---destpub---")+e)},Ma:function(e,t,n,i){e.push(t.id+"-"+(i+Math.ceil(t.ttl/60/24))),this.xb(e),a.e(n,e.join("*"))},Ka:function(){var e,t=this;this.I.length?(e=this.I.shift(),a.pa.postMessage(e,this.url,this.Da.contentWindow),this.yb.push(e),setTimeout(function(){t.Ka()},this.Fa)):this.X=k},W:function(e){var t=/^---destpub-to-parent---/;"string"==typeof e&&t.test(e)&&(t=e.replace(t,"").split("|"),"canSetThirdPartyCookies"===t[0]&&(this.ra="true"===t[1]?j:k,this.Ia=j,this.q()),this.zb.push(e))},Db:function(e){(this.url===i||e.subdomain&&"nosubdomainreturned"===this.g)&&(this.g="string"==typeof a.oa&&a.oa.length?a.oa:e.subdomain||"",this.url=this.qb()),e.ibs instanceof Array&&e.ibs.length&&(this.wa=j),this.Ha()&&(a.idSyncAttachIframeOnWindowLoad?(l.$||"complete"===v.readyState||"loaded"===v.readyState)&&this.P():this.hb()),"function"==typeof a.idSyncIDCallResult?a.idSyncIDCallResult(e):this.q(e),"function"==typeof a.idSyncAfterIDCallResult&&a.idSyncAfterIDCallResult(e)},ib:function(e,t){return a.Qb||!e||t-e>p.Pa},hb:function(){function e(){t.Y||(document.body?t.P():setTimeout(e,30))}var t=this;e()}};a.Nb=z,a.timeoutMetricsLog=[];var q={lb:window.performance&&window.performance.timing?1:0,Ga:window.performance&&window.performance.timing?window.performance.timing:i,Z:i,Q:i,d:{},U:[],send:function(e){if(a.takeTimeoutMetrics&&e===Object(e)){var t,n=[],i=encodeURIComponent;for(t in e)e.hasOwnProperty(t)&&n.push(i(t)+"="+i(e[t]));e="http"+(a.loadSSL?"s":"")+"://dpm.demdex.net/event?d_visid_ver="+a.version+"&d_visid_stg_timeout="+a.loadTimeout+"&"+n.join("&")+"&d_orgid="+i(a.marketingCloudOrgID)+"&d_timingapi="+this.lb+"&d_winload="+this.rb()+"&d_ld="+this.p(),(new Image).src=e,a.timeoutMetricsLog.push(e)}},rb:function(){return this.Q===i&&(this.Q=this.Ga?this.Z-this.Ga.navigationStart:this.Z-l.kb),this.Q},p:function(){return(new Date).getTime()},J:function(e){var t=this.d[e],n={};n.d_visid_stg_timeout_captured=t.va,n.d_visid_cors=t.ua,n.d_fieldgroup=e,n.d_settimeout_overriden=t.ta,t.timeout?t.tb?(n.d_visid_timedout=1,n.d_visid_timeout=t.timeout-t.requestStart,n.d_visid_response=-1):(n.d_visid_timedout="n/a",n.d_visid_timeout="n/a",n.d_visid_response="n/a"):(n.d_visid_timedout=0,n.d_visid_timeout=-1,n.d_visid_response=t.Ib-t.requestStart),n.d_visid_url=t.url,l.$?this.send(n):this.U.push(n),delete this.d[e]},Gb:function(){for(var e=0,t=this.U.length;t>e;e++)this.send(this.U[e])},Aa:function(){return"function"==typeof setTimeout.toString?-1<setTimeout.toString().indexOf("[native code]")?0:1:-1}};a.Ub=q;var x={isClientSideMarketingCloudVisitorID:i,MCIDCallTimedOut:i,AnalyticsIDCallTimedOut:i,AAMIDCallTimedOut:i,d:{},La:function(e,t){switch(e){case F:t===k?this.MCIDCallTimedOut!==j&&(this.MCIDCallTimedOut=k):this.MCIDCallTimedOut=t;break;case D:t===k?this.AnalyticsIDCallTimedOut!==j&&(this.AnalyticsIDCallTimedOut=k):this.AnalyticsIDCallTimedOut=t;break;case C:t===k?this.AAMIDCallTimedOut!==j&&(this.AAMIDCallTimedOut=k):this.AAMIDCallTimedOut=t}}};a.isClientSideMarketingCloudVisitorID=function(){return x.isClientSideMarketingCloudVisitorID},a.MCIDCallTimedOut=function(){return x.MCIDCallTimedOut},a.AnalyticsIDCallTimedOut=function(){return x.AnalyticsIDCallTimedOut},a.AAMIDCallTimedOut=function(){return x.AAMIDCallTimedOut},a.idSyncGetOnPageSyncInfo=function(){return a.f(),a.a(J)},a.idSyncByURL=function(e){var t,n=e||{};t=n.minutesToLive;var i="";if(a.idSyncDisableSyncs&&(i=i?i:"Error: id syncs have been disabled"),"string"==typeof n.dpid&&n.dpid.length||(i=i?i:"Error: config.dpid is empty"),"string"==typeof n.url&&n.url.length||(i=i?i:"Error: config.url is empty"),"undefined"==typeof t?t=20160:(t=parseInt(t,10),(isNaN(t)||0>=t)&&(i=i?i:"Error: config.minutesToLive needs to be a positive number")),t={error:i,mc:t},t.error)return t.error;var r,i=e.url,o=encodeURIComponent,n=z,i=i.replace(/^https:/,"").replace(/^http:/,"");return r=m.xa(["",e.dpid,e.dpuuid||""],","),e=["ibs",o(e.dpid),"img",o(i),t.ttl,"",r],n.O(e.join("|")),n.q(),"Successfully queued"},a.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,a.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},a._compareVersions=function(e,t){if(e===t)return 0;var n,i=e.toString().split("."),a=t.toString().split(".");e:{n=i.concat(a);for(var r=0,o=n.length;o>r;r++)if(!p.Ra.test(n[r])){n=k;break e}n=j}if(!n)return NaN;for(;i.length<a.length;)i.push("0");for(;a.length<i.length;)a.push("0");e:{for(n=0;n<i.length;n++){if(r=parseInt(i[n],10),o=parseInt(a[n],10),r>o){i=1;break e}if(o>r){i=-1;break e}}i=0}return i},a._getCookieVersion=function(e){return e=e||a.cookieRead(a.cookieName),(e=p.da.exec(e))&&1<e.length?e[1]:null},a._resetAmcvCookie=function(e){var t=a._getCookieVersion();(!t||m.vb(t,e))&&m.Hb(a.cookieName)},0>s.indexOf("@")&&(s+="@AdobeOrg"),a.marketingCloudOrgID=s,a.cookieName="AMCV_"+s,a.sessionCookieName="AMCVS_"+s,a.cookieDomain=a.Wa(),a.cookieDomain==n.location.hostname&&(a.cookieDomain=""),a.loadSSL=0<=n.location.protocol.toLowerCase().indexOf("https"),a.loadTimeout=3e4,a.CORSErrors=[],a.marketingCloudServer=a.audienceManagerServer="dpm.demdex.net";var M={};if(M[A]=j,M[t]=j,w&&"object"==typeof w){for(var H in w)!Object.prototype[H]&&(a[H]=w[H]);a.idSyncContainerID=a.idSyncContainerID||0,a.resetBeforeVersion&&a._resetAmcvCookie(a.resetBeforeVersion),a.ea(),a.f(),H=a.a(K);var N=Math.ceil((new Date).getTime()/p.ca);!a.idSyncDisableSyncs&&z.ib(H,N)&&(a.j(t,-1),a.e(K,N)),a.getMarketingCloudVisitorID(),a.getAudienceManagerLocationHint(),a.getAudienceManagerBlob(),a.ab(a.serverState)}else a.ea();if(!a.idSyncDisableSyncs){z.jb(),m.N(window,"load",function(){l.$=j,q.Z=q.p(),q.Gb();var e=z;e.Ha()&&e.P()});try{a.pa.W(function(e){z.W(e.data)},z.R)}catch(O){}}}window.addLegacyVideoReportingLibrary=function(){window.AppMeasurement_Module_Media=function(e){var t=this;t.s=e,e=window,e.s_c_in||(e.s_c_il=[],e.s_c_in=0),t._il=e.s_c_il,t._in=e.s_c_in,t._il[t._in]=t,e.s_c_in++,t._c="s_m",t.list=[],t.open=function(e,n,i,a){var r,o={},s=new Date,l="";if(n||(n=-1),e&&i){if(t.list||(t.list={}),t.list[e]&&t.close(e),a&&a.id&&(l=a.id),l)for(r in t.list)!Object.prototype[r]&&t.list[r]&&t.list[r].R==l&&t.close(t.list[r].name);o.name=e,o.length=n,o.offset=0,o.e=0,o.playerName=t.playerName?t.playerName:i,o.R=l,o.C=0,o.a=0,o.timestamp=Math.floor(s.getTime()/1e3),o.k=0,o.u=o.timestamp,o.c=-1,o.n="",o.g=-1,o.D=0,o.I={},o.G=0,o.m=0,o.f="",o.B=0,o.L=0,o.A=0,o.F=0,o.l=!1,o.v="",o.J="",o.K=0,o.r=!1,o.H="",o.complete=0,o.Q=0,o.p=0,o.q=0,t.list[e]=o}},t.openAd=function(e,n,i,a,r,o,s,l){var d={};t.open(e,n,i,l),(d=t.list[e])&&(d.l=!0,d.v=a,d.J=r,d.K=o,d.H=s)},t.M=function(e){var n=t.list[e];t.list[e]=0,n&&n.monitor&&clearTimeout(n.monitor.interval)},t.close=function(e){t.i(e,0,-1)},t.play=function(e,n,i,a){var r=t.i(e,1,n,i,a);r&&!r.monitor&&(r.monitor={},r.monitor.update=function(){1==r.k&&t.i(r.name,3,-1),r.monitor.interval=setTimeout(r.monitor.update,1e3)},r.monitor.update())},t.click=function(e,n){t.i(e,7,n)},t.complete=function(e,n){t.i(e,5,n)},t.stop=function(e,n){t.i(e,2,n)},t.track=function(e){t.i(e,4,-1)},t.P=function(e,n){var i,a,r="a.media.",o=e.linkTrackVars,s=e.linkTrackEvents,l="m_i",d=e.contextData;if(n.l&&(r+="ad.",n.v&&(d["a.media.name"]=n.v,d[r+"pod"]=n.J,d[r+"podPosition"]=n.K),n.G||(d[r+"CPM"]=n.H)),n.r&&(d[r+"clicked"]=!0,n.r=!1),d["a.contentType"]="video"+(n.l?"Ad":""),d["a.media.channel"]=t.channel,d[r+"name"]=n.name,d[r+"playerName"]=n.playerName,0<n.length&&(d[r+"length"]=n.length),d[r+"timePlayed"]=Math.floor(n.a),0<Math.floor(n.a)&&(d[r+"timePlayed"]=Math.floor(n.a)),n.G||(d[r+"view"]=!0,l="m_s",t.Heartbeat&&t.Heartbeat.enabled&&(l=n.l?t.__primetime?"mspa_s":"msa_s":t.__primetime?"msp_s":"ms_s"),n.G=1),n.f&&(d[r+"segmentNum"]=n.m,d[r+"segment"]=n.f,0<n.B&&(d[r+"segmentLength"]=n.B),n.A&&0<n.a&&(d[r+"segmentView"]=!0)),!n.Q&&n.complete&&(d[r+"complete"]=!0,n.S=1),0<n.p&&(d[r+"milestone"]=n.p),0<n.q&&(d[r+"offsetMilestone"]=n.q),o)for(a in d)Object.prototype[a]||(o+=",contextData."+a);i=d["a.contentType"],e.pe=l,e.pev3=i;var c,u;if(t.contextDataMapping)for(a in e.events2||(e.events2=""),o&&(o+=",events"),t.contextDataMapping)if(!Object.prototype[a]){if(l=a.length>r.length&&a.substring(0,r.length)==r?a.substring(r.length):"",i=t.contextDataMapping[a],"string"==typeof i)for(c=i.split(","),u=0;u<c.length;u++)i=c[u],"a.contentType"==a?(o&&(o+=","+i),e[i]=d[a]):"view"==l||"segmentView"==l||"clicked"==l||"complete"==l||"timePlayed"==l||"CPM"==l?(s&&(s+=","+i),"timePlayed"==l||"CPM"==l?d[a]&&(e.events2+=(e.events2?",":"")+i+"="+d[a]):d[a]&&(e.events2+=(e.events2?",":"")+i)):"segment"==l&&d[a+"Num"]?(o&&(o+=","+i),e[i]=d[a+"Num"]+":"+d[a]):(o&&(o+=","+i),
e[i]=d[a]);else"milestones"!=l&&"offsetMilestones"!=l||(a=a.substring(0,a.length-1),d[a]&&t.contextDataMapping[a+"s"][d[a]]&&(s&&(s+=","+t.contextDataMapping[a+"s"][d[a]]),e.events2+=(e.events2?",":"")+t.contextDataMapping[a+"s"][d[a]]));d[a]&&(d[a]=0),"segment"==l&&d[a+"Num"]&&(d[a+"Num"]=0)}e.linkTrackVars=o,e.linkTrackEvents=s},t.i=function(e,n,i,a,r){var o,s,l,d,c,u={},_=(new Date).getTime()/1e3,p=t.trackVars,h=t.trackEvents,g=t.trackSeconds,f=t.trackMilestones,E=t.trackOffsetMilestones,m=t.segmentByMilestones,T=t.segmentByOffsetMilestones,A=1,v={};if(t.channel||(t.channel=t.s.w.location.hostname),(u=e&&t.list&&t.list[e]?t.list[e]:0)&&(u.l&&(g=t.adTrackSeconds,f=t.adTrackMilestones,E=t.adTrackOffsetMilestones,m=t.adSegmentByMilestones,T=t.adSegmentByOffsetMilestones),0>i&&(i=1==u.k&&0<u.u?_-u.u+u.c:u.c),0<u.length&&(i=i<u.length?i:u.length),0>i&&(i=0),u.offset=i,0<u.length&&(u.e=u.offset/u.length*100,u.e=100<u.e?100:u.e),0>u.c&&(u.c=i),c=u.D,v.name=e,v.ad=u.l,v.length=u.length,v.openTime=new Date,v.openTime.setTime(1e3*u.timestamp),v.offset=u.offset,v.percent=u.e,v.playerName=u.playerName,v.mediaEvent=0>u.g?"OPEN":1==n?"PLAY":2==n?"STOP":3==n?"MONITOR":4==n?"TRACK":5==n?"COMPLETE":7==n?"CLICK":"CLOSE",n>2||n!=u.k&&(2!=n||1==u.k))){if(r||(a=u.m,r=u.f),n){if(1==n&&(u.c=i),(3>=n||n>=5)&&0<=u.g&&(A=!1,p=h="None",u.g!=i)){if(s=u.g,s>i&&(s=u.c,s>i&&(s=i)),l=f?f.split(","):0,0<u.length&&l&&i>=s)for(d=0;d<l.length;d++)(o=l[d]?parseFloat(""+l[d]):0)&&s/u.length*100<o&&u.e>=o&&(A=!0,d=l.length,v.mediaEvent="MILESTONE",u.p=v.milestone=o);if((l=E?E.split(","):0)&&i>=s)for(d=0;d<l.length;d++)(o=l[d]?parseFloat(""+l[d]):0)&&o>s&&i>=o&&(A=!0,d=l.length,v.mediaEvent="OFFSET_MILESTONE",u.q=v.offsetMilestone=o)}if(u.L||!r){if(m&&f&&0<u.length){if(l=f.split(","))for(l.push("100"),d=s=0;d<l.length;d++)(o=l[d]?parseFloat(""+l[d]):0)&&(u.e<o&&(a=d+1,r="M:"+s+"-"+o,d=l.length),s=o)}else if(T&&E&&(l=E.split(",")))for(l.push(""+(0<u.length?u.length:"E")),d=s=0;d<l.length;d++)((o=l[d]?parseFloat(""+l[d]):0)||"E"==l[d])&&((o>i||"E"==l[d])&&(a=d+1,r="O:"+s+"-"+o,d=l.length),s=o);r&&(u.L=!0)}(r||u.f)&&r!=u.f&&(u.F=!0,u.f||(u.m=a,u.f=r),0<=u.g&&(A=!0)),(n>=2||100<=u.e)&&u.c<i&&(u.C+=i-u.c,u.a+=i-u.c),(2>=n||3==n&&!u.k)&&(u.n+=(1==n||3==n?"S":"E")+Math.floor(i),u.k=3==n?1:n),!A&&0<=u.g&&3>=n&&(g=g?g:0)&&u.a>=g&&(A=!0,v.mediaEvent="SECONDS"),u.u=_,u.c=i}(!n||3>=n&&100<=u.e)&&(2!=u.k&&(u.n+="E"+Math.floor(i)),n=0,p=h="None",v.mediaEvent="CLOSE"),7==n&&(A=v.clicked=u.r=!0),(5==n||t.completeByCloseOffset&&(!n||100<=u.e)&&0<u.length&&i>=u.length-t.completeCloseOffsetThreshold)&&(A=v.complete=u.complete=!0),_=v.mediaEvent,"MILESTONE"==_?_+="_"+v.milestone:"OFFSET_MILESTONE"==_&&(_+="_"+v.offsetMilestone),u.I[_]?v.eventFirstTime=!1:(v.eventFirstTime=!0,u.I[_]=1),v.event=v.mediaEvent,v.timePlayed=u.C,v.segmentNum=u.m,v.segment=u.f,v.segmentLength=u.B,t.monitor&&4!=n&&t.monitor(t.s,v),t.Heartbeat&&t.Heartbeat.enabled&&0<=u.g&&(A=!1),0==n&&t.M(e),A&&u.D==c&&(e={contextData:{}},e.linkTrackVars=p,e.linkTrackEvents=h,e.linkTrackVars||(e.linkTrackVars=""),e.linkTrackEvents||(e.linkTrackEvents=""),t.P(e,u),e.linkTrackVars||(e["!linkTrackVars"]=1),e.linkTrackEvents||(e["!linkTrackEvents"]=1),t.s.track(e),u.F?(u.m=a,u.f=r,u.A=!0,u.F=!1):0<u.a&&(u.A=!1),u.n="",u.p=u.q=0,u.a-=Math.floor(u.a),u.g=i,u.D++)}return u},t.O=function(e,n,i,a,r){var o=0;e&&(!t.autoTrackMediaLengthRequired||n&&n>0)&&(t.list&&t.list[e]?o=1:1!=i&&3!=i||(t.open(e,n,"HTML5 Video",r),o=1),o&&t.i(e,i,a,-1,0))},t.attach=function(e){var n,i,a;e&&e.tagName&&"VIDEO"==e.tagName.toUpperCase()&&(t.o||(t.o=function(e,n,i){var a,r;t.autoTrack&&(a=e.currentSrc,(r=e.duration)||(r=-1),0>i&&(i=e.currentTime),t.O(a,r,n,i,e))}),n=function(){t.o(e,1,-1)},i=function(){t.o(e,1,-1)},t.j(e,"play",n),t.j(e,"pause",i),t.j(e,"seeking",i),t.j(e,"seeked",n),t.j(e,"ended",function(){t.o(e,0,-1)}),t.j(e,"timeupdate",n),(a=function(){e.paused||e.ended||e.seeking||t.o(e,3,-1),setTimeout(a,1e3)})())},t.j=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)},void 0==t.completeByCloseOffset&&(t.completeByCloseOffset=1),void 0==t.completeCloseOffsetThreshold&&(t.completeCloseOffsetThreshold=1),t.Heartbeat={},t.N=function(){var e,n;if(t.autoTrack&&(e=t.s.d.getElementsByTagName("VIDEO")))for(n=0;n<e.length;n++)t.attach(e[n])},t.j(e,"load",t.N)}},window.addAppMeasurementLibrary=function(){function e(e){var t,n,i,a,r,o=window.s_c_il,s=e.split(","),l=0;if(o)for(n=0;!l&&n<o.length;){if(t=o[n],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)l=1;else for(i=t.account?t.account:t.oun,i=t.allAccounts?t.allAccounts:i.split(","),a=0;a<s.length;a++)for(r=0;r<i.length;r++)s[a]==i[r]&&(l=1);n++}return l||(t=new AppMeasurement),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function t(){var t,n,i,a=window,r=a.s_giq;if(r)for(t=0;t<r.length;t++)n=r[t],i=e(n.oun),i.setAccount(n.un),i.setTagContainer(n.tagContainerName);a.s_giq=0}window.AppMeasurement=function(){var e=this;e.version="1.8.0";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var n=t.AppMeasurement.Ob;n||(n=null);var i,a,r=t;try{for(i=r.parent,a=r.location;i&&i.location&&a&&""+i.location!=""+a&&r.location&&""+i.location!=""+r.location&&i.location.host==a.host;)r=i,i=r.parent}catch(o){}e.P=function(e){try{console.log(e)}catch(t){}},e.La=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,n){return!e||0>e.indexOf(t)?e:e.split(t).join(n)},e.escape=function(t){var n,i;if(!t)return t;for(t=encodeURIComponent(t),n=0;7>n;n++)i="+~!*()'".substring(n,n+1),0<=t.indexOf(i)&&(t=e.replace(t,i,"%"+i.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=0<=t.indexOf("+")?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(n){}return unescape(t)},e.vb=function(){var n,i=t.location.hostname,a=e.fpCookieDomainPeriods;if(a||(a=e.cookieDomainPeriods),i&&!e.cookieDomain&&!/^[0-9.]+$/.test(i)&&(a=a?parseInt(a):2,a=a>2?a:2,n=i.lastIndexOf("."),n>=0)){for(;n>=0&&a>1;)n=i.lastIndexOf(".",n-1),a--;e.cookieDomain=n>0?i.substring(n):i}return e.cookieDomain},e.c_r=e.cookieRead=function(t){t=e.escape(t);var n=" "+e.d.cookie,i=n.indexOf(" "+t+"="),a=0>i?i:n.indexOf(";",i);return t=0>i?"":e.unescape(n.substring(i+2+t.length,0>a?n.length:a)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,n,i){var a,r=e.vb(),o=e.cookieLifetime;return n=""+n,o=o?(""+o).toUpperCase():"",i&&"SESSION"!=o&&"NONE"!=o&&((a=""!=n?parseInt(o?o:0):-60)?(i=new Date,i.setTime(i.getTime()+1e3*a)):1==i&&(i=new Date,a=i.getYear(),i.setYear(a+5+(1900>a?1900:0)))),t&&"NONE"!=o?(e.d.cookie=e.escape(t)+"="+e.escape(""!=n?n:"[[B]]")+"; path=/;"+(i&&"SESSION"!=o?" expires="+i.toGMTString()+";":"")+(r?" domain="+r+";":""),e.cookieRead(t)==n):0},e.K=[],e.ia=function(t,n,i){if(e.Ea)return 0;e.maxDelay||(e.maxDelay=250);var a=0,r=(new Date).getTime()+e.maxDelay,o=e.d.visibilityState,s=["webkitvisibilitychange","visibilitychange"];if(o||(o=e.d.webkitVisibilityState),o&&"prerender"==o){if(!e.ja)for(e.ja=1,i=0;i<s.length;i++)e.d.addEventListener(s[i],function(){var t=e.d.visibilityState;t||(t=e.d.webkitVisibilityState),"visible"==t&&(e.ja=0,e.delayReady())});a=1,r=0}else i||e.p("_d")&&(a=1);return a&&(e.K.push({m:t,a:n,t:r}),e.ja||setTimeout(e.delayReady,e.maxDelay)),a},e.delayReady=function(){var t,n=(new Date).getTime(),i=0;for(e.p("_d")?i=1:e.xa();0<e.K.length;){if(t=e.K.shift(),i&&!t.t&&t.t>n){e.K.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.Ea=1,e[t.m].apply(e,t.a),e.Ea=0}},e.setAccount=e.sa=function(t){var n,i;if(!e.ia("setAccount",arguments))if(e.account=t,e.allAccounts)for(n=e.allAccounts.concat(t.split(",")),e.allAccounts=[],n.sort(),i=0;i<n.length;i++)0!=i&&n[i-1]==n[i]||e.allAccounts.push(n[i]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,n){var i,a,r,o,s="";for(r=a="",e.lightProfileID?(i=e.O,(s=e.lightTrackVars)&&(s=","+s+","+e.na.join(",")+",")):(i=e.g,(e.pe||e.linkType)&&(s=e.linkTrackVars,a=e.linkTrackEvents,e.pe&&(r=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[r]&&(s=e[r].Mb,a=e[r].Lb))),s&&(s=","+s+","+e.G.join(",")+","),a&&s&&(s+=",events,")),n&&(n=","+n+","),a=0;a<i.length;a++)r=i[a],(o=e[r])&&(!s||0<=s.indexOf(","+r+","))&&(!n||0<=n.indexOf(","+r+","))&&t(r,o)},e.r=function(t,n,i,a,r){var o,s,l,d,c="",u=0;if("contextData"==t&&(t="c"),n){for(o in n)if(!(Object.prototype[o]||r&&o.substring(0,r.length)!=r)&&n[o]&&(!i||0<=i.indexOf(","+(a?a+".":"")+o+","))){if(l=!1,u)for(s=0;s<u.length;s++)o.substring(0,u[s].length)==u[s]&&(l=!0);if(!l&&(""==c&&(c+="&"+t+"."),s=n[o],r&&(o=o.substring(r.length)),0<o.length))if(l=o.indexOf("."),l>0)s=o.substring(0,l),l=(r?r:"")+s+".",u||(u=[]),u.push(l),c+=e.r(s,n,i,a,l);else if("boolean"==typeof s&&(s=s?"true":"false"),s){if("retrieveLightData"==a&&0>r.indexOf(".contextData."))switch(l=o.substring(0,4),d=o.substring(4),o){case"transactionID":o="xact";break;case"channel":o="ch";break;case"campaign":o="v0";break;default:e.La(d)&&("prop"==l?o="c"+d:"eVar"==l?o="v"+d:"list"==l?o="l"+d:"hier"==l&&(o="h"+d,s=s.substring(0,255)))}c+="&"+e.escape(o)+"="+e.escape(s)}}""!=c&&(c+="&."+t)}return c},e.usePostbacks=0,e.yb=function(){var t,i,a,r,o,s,l,d,c="",u="",_="",p=r="";if(e.lightProfileID?(t=e.O,(u=e.lightTrackVars)&&(u=","+u+","+e.na.join(",")+",")):(t=e.g,(e.pe||e.linkType)&&(u=e.linkTrackVars,_=e.linkTrackEvents,e.pe&&(r=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[r]&&(u=e[r].Mb,_=e[r].Lb))),u&&(u=","+u+","+e.G.join(",")+","),_&&(_=","+_+",",u&&(u+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.visitor&&e.visitor.getCustomerIDs){if(r=n,o=e.visitor.getCustomerIDs())for(i in o)Object.prototype[i]||(a=o[i],"object"==typeof a&&(r||(r={}),a.id&&(r[i+".id"]=a.id),a.authState&&(r[i+".as"]=a.authState)));r&&(c+=e.r("cid",r))}for(e.AudienceManagement&&e.AudienceManagement.isReady()&&(c+=e.r("d",e.AudienceManagement.getEventCallConfigParams())),i=0;i<t.length;i++){if(r=t[i],o=e[r],a=r.substring(0,4),s=r.substring(4),!o&&"events"==r&&p&&(o=p,p=""),o&&(!u||0<=u.indexOf(","+r+","))){switch(r){case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",255<o.length&&(e.pageURLRest=o.substring(255),o=o.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",e.ssl&&e.visitorMigrationServerSecure&&(o="");break;case"visitorMigrationServerSecure":r="vmf",!e.ssl&&e.visitorMigrationServer&&(o="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(p&&(o+=(""!=o?",":"")+p),_)for(s=o.split(","),o="",a=0;a<s.length;a++)l=s[a],d=l.indexOf("="),d>=0&&(l=l.substring(0,d)),d=l.indexOf(":"),d>=0&&(l=l.substring(0,d)),0<=_.indexOf(","+l+",")&&(o+=(o?",":"")+s[a]);break;case"events2":o="";break;case"contextData":c+=e.r("c",e[r],u,r),o="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",e.lightProfileID||(o="");break;case"lightIncrementBy":r="mti",e.lightProfileID||(o="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(c+=e.r("mts",e[r],u,r)),o="";break;default:e.La(s)&&("prop"==a?r="c"+s:"eVar"==a?r="v"+s:"list"==a?r="l"+s:"hier"==a&&(r="h"+s,o=o.substring(0,255)))}o&&(c+="&"+r+"="+("pev"!=r.substring(0,3)?e.escape(o):o))}"pev3"==r&&e.e&&(c+=e.e)}return c},e.D=function(e){var t=e.tagName;return"undefined"!=""+e.Rb||"undefined"!=""+e.Hb&&"HTML"!=(""+e.Hb).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.Ha=function(e){var n,i,a,r=t.location,o=e.href?e.href:"";return n=o.indexOf(":"),i=o.indexOf("?"),a=o.indexOf("/"),o&&(0>n||i>=0&&n>i||a>=0&&n>a)&&(i=e.protocol&&1<e.protocol.length?e.protocol:r.protocol?r.protocol:"",n=r.pathname.lastIndexOf("/"),o=(i?i+"//":"")+(e.host?e.host:r.host?r.host:"")+("/"!=o.substring(0,1)?r.pathname.substring(0,0>n?0:n)+"/":"")+o),o},e.L=function(t){var n,i,a=e.D(t),r="",o=0;return a&&(n=t.protocol,i=t.onclick,!t.href||"A"!=a&&"AREA"!=a||i&&n&&!(0>n.toLowerCase().indexOf("javascript"))?i?(r=e.replace(e.replace(e.replace(e.replace(""+i,"\r",""),"\n",""),"	","")," ",""),o=2):"INPUT"==a||"SUBMIT"==a?(t.value?r=t.value:t.innerText?r=t.innerText:t.textContent&&(r=t.textContent),o=3):"IMAGE"==a&&t.src&&(r=t.src):r=e.Ha(t),r)?{id:r.substring(0,100),type:o}:0},e.Pb=function(t){for(var n=e.D(t),i=e.L(t);t&&!i&&"BODY"!=n;)(t=t.parentElement?t.parentElement:t.parentNode)&&(n=e.D(t),i=e.L(t));return i&&"BODY"!=n||(t=0),t&&(n=t.onclick?""+t.onclick:"",0<=n.indexOf(".tl(")||0<=n.indexOf(".trackLink("))&&(t=0),t},e.Gb=function(){var n,i,a,r,o=e.linkObject,s=e.linkType,l=e.linkURL;if(e.oa=1,o||(e.oa=0,o=e.clickObject),o){for(n=e.D(o),i=e.L(o);o&&!i&&"BODY"!=n;)(o=o.parentElement?o.parentElement:o.parentNode)&&(n=e.D(o),i=e.L(o));if(i&&"BODY"!=n||(o=0),o&&!e.linkObject){var d=o.onclick?""+o.onclick:"";(0<=d.indexOf(".tl(")||0<=d.indexOf(".trackLink("))&&(o=0)}}else e.oa=1;if(!l&&o&&(l=e.Ha(o)),l&&!e.linkLeaveQueryString&&(a=l.indexOf("?"),a>=0&&(l=l.substring(0,a))),!s&&l){var c,u=0,_=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(d=l.toLowerCase(),a=d.indexOf("?"),r=d.indexOf("#"),a>=0?r>=0&&a>r&&(a=r):a=r,a>=0&&(d=d.substring(0,a)),a=e.linkDownloadFileTypes.toLowerCase().split(","),r=0;r<a.length;r++)(c=a[r])&&d.substring(d.length-(c.length+1))=="."+c&&(s="d");if(e.trackExternalLinks&&!s&&(d=l.toLowerCase(),e.Ka(d)&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),a=0,e.linkExternalFilters?(a=e.linkExternalFilters.toLowerCase().split(","),u=1):e.linkInternalFilters&&(a=e.linkInternalFilters.toLowerCase().split(",")),a))){for(r=0;r<a.length;r++)c=a[r],0<=d.indexOf(c)&&(_=1);_?u&&(s="e"):u||(s="e")}}e.linkObject=o,e.linkURL=l,e.linkType=s,(e.trackClickMap||e.trackInlineStats)&&(e.e="",o&&(s=e.pageName,l=1,o=o.sourceIndex,s||(s=e.pageURL,l=0),t.s_objectID&&(i.id=t.s_objectID,o=i.type=1),s&&i&&i.id&&n&&(e.e="&pid="+e.escape(s.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(i.id.substring(0,100))+(i.type?"&oidt="+i.type:"")+"&ot="+n+(o?"&oi="+o:""))))},e.zb=function(){var t=e.oa,n=e.linkType,i=e.linkURL,a=e.linkName;if(n&&(i||a)&&(n=n.toLowerCase(),"d"!=n&&"e"!=n&&(n="o"),e.pe="lnk_"+n,e.pev1=i?e.escape(i):"",e.pev2=a?e.escape(a):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats||e.ActivityMap){var r,o,s,n={},i=0,l=e.cookieRead("s_sq"),d=l?l.split("&"):0,l=0;if(d)for(r=0;r<d.length;r++)o=d[r].split("="),a=e.unescape(o[0]).split(","),o=e.unescape(o[1]),n[o]=a;a=e.account.split(","),r={};for(s in e.contextData)s&&!Object.prototype[s]&&"a.activitymap."==s.substring(0,14)&&(r[s]=e.contextData[s],e.contextData[s]="");if(e.e=e.r("c",r)+(e.e?e.e:""),t||e.e){t&&!e.e&&(l=1);for(o in n)if(!Object.prototype[o])for(s=0;s<a.length;s++)for(l&&(d=n[o].join(","),d==e.account&&(e.e+=("&"!=o.charAt(0)?"&":"")+o,n[o]=[],i=1)),r=0;r<n[o].length;r++)d=n[o][r],d==a[s]&&(l&&(e.e+="&u="+e.escape(d)+("&"!=o.charAt(0)?"&":"")+o+"&u=0"),n[o].splice(r,1),i=1);if(t||(i=1),i){l="",r=2,!t&&e.e&&(l=e.escape(a.join(","))+"="+e.escape(e.e),r=1);for(o in n)!Object.prototype[o]&&r>0&&0<n[o].length&&(l+=(l?"&":"")+e.escape(n[o].join(","))+"="+e.escape(o),r--);e.cookieWrite("s_sq",l)}}}return t},e.Ab=function(){if(!e.Kb){var t,n,i=new Date,a=r.location,o=n=t="",s="",l="",d="1.2",c=e.cookieWrite("s_cc","true",0)?"Y":"N",u="",_="";if(i.setUTCDate&&(d="1.3",0..toPrecision&&(d="1.5",i=[],i.forEach))){d="1.6",n=0,t={};try{n=new Iterator(t),n.next&&(d="1.7",i.reduce&&(d="1.8",d.trim&&(d="1.8.1",Date.parse&&(d="1.8.2",Object.create&&(d="1.8.5")))))}catch(p){}}t=screen.width+"x"+screen.height,o=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,s=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,l=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),u=e.b.Qb(a)?"Y":"N"}catch(h){}try{e.b.addBehavior("#default#clientCaps"),_=e.b.connectionType}catch(g){}e.resolution=t,e.colorDepth=n,e.javascriptVersion=d,e.javaEnabled=o,e.cookiesEnabled=c,e.browserWidth=s,e.browserHeight=l,e.connectionType=_,e.homepage=u,e.Kb=1}},e.Q={},e.loadModule=function(n,i){var a=e.Q[n];if(!a){a=t["AppMeasurement_Module_"+n]?new t["AppMeasurement_Module_"+n](e):{},e.Q[n]=e[n]=a,a.cb=function(){return a.hb},a.ib=function(t){(a.hb=t)&&(e[n+"_onLoad"]=t,e.ia(n+"_onLoad",[e,a],1)||t(e,a))};try{Object.defineProperty?Object.defineProperty(a,"onLoad",{get:a.cb,set:a.ib}):a._olc=1}catch(r){a._olc=1}}i&&(e[n+"_onLoad"]=i,e.ia(n+"_onLoad",[e,a],1)||i(e,a))},e.p=function(t){var n,i;for(n in e.Q)if(!Object.prototype[n]&&(i=e.Q[n])&&(i._olc&&i.onLoad&&(i._olc=0,i.onLoad(e,i)),i[t]&&i[t]()))return 1;return 0},e.Cb=function(){var t=Math.floor(1e13*Math.random()),n=e.visitorSampling,i=e.visitorSamplingGroup,i="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(i?"_"+i:""),a=e.cookieRead(i);if(n){if(n*=100,a&&(a=parseInt(a)),!a){if(!e.cookieWrite(i,t))return 0;a=t}if(a%1e4>n)return 0}return 1},e.R=function(t,n){var i,a,r,o,s,l;for(i=0;2>i;i++)for(a=i>0?e.Aa:e.g,r=0;r<a.length;r++)if(o=a[r],(s=t[o])||t["!"+o]){if(!n&&("contextData"==o||"retrieveLightData"==o)&&e[o])for(l in e[o])s[l]||(s[l]=e[o][l]);e[o]=s}},e.Ua=function(t,n){var i,a,r,o;for(i=0;2>i;i++)for(a=i>0?e.Aa:e.g,r=0;r<a.length;r++)o=a[r],t[o]=e[o],n||t[o]||(t["!"+o]=1)},e.ub=function(e){var t,n,i,a,r,o,s=0,l="",d="";if(e&&255<e.length&&(t=""+e,n=t.indexOf("?"),n>0&&(o=t.substring(n+1),t=t.substring(0,n),a=t.toLowerCase(),i=0,"http://"==a.substring(0,7)?i+=7:"https://"==a.substring(0,8)&&(i+=8),n=a.indexOf("/",i),n>0&&(a=a.substring(i,n),r=t.substring(n),t=t.substring(0,n),0<=a.indexOf("google")?s=",q,ie,start,search_key,word,kw,cd,":0<=a.indexOf("yahoo.co")&&(s=",p,ei,"),s&&o)))){if((e=o.split("&"))&&1<e.length){for(i=0;i<e.length;i++)a=e[i],n=a.indexOf("="),n>0&&0<=s.indexOf(","+a.substring(0,n)+",")?l+=(l?"&":"")+a:d+=(d?"&":"")+a;l&&d?o=l+"&"+d:d=""}n=253-(o.length-d.length)-t.length,e=t+(n>0?r.substring(0,n):"")+"?"+o}return e},e.$a=function(t){var n=e.d.visibilityState,i=["webkitvisibilitychange","visibilitychange"];if(n||(n=e.d.webkitVisibilityState),n&&"prerender"==n){if(t)for(n=0;n<i.length;n++)e.d.addEventListener(i[n],function(){var n=e.d.visibilityState;n||(n=e.d.webkitVisibilityState),"visible"==n&&t()});return!1}return!0},e.ea=!1,e.I=!1,e.kb=function(){e.I=!0,e.j()},e.ca=!1,e.V=!1,e.gb=function(t){e.marketingCloudVisitorID=t,e.V=!0,e.j()},e.fa=!1,e.W=!1,e.lb=function(t){e.visitorOptedOut=t,e.W=!0,e.j()},e.Z=!1,e.S=!1,e.Wa=function(t){e.analyticsVisitorID=t,e.S=!0,e.j()},e.ba=!1,e.U=!1,e.Ya=function(t){e.audienceManagerLocationHint=t,e.U=!0,e.j()},e.aa=!1,e.T=!1,e.Xa=function(t){e.audienceManagerBlob=t,e.T=!0,e.j()},e.Za=function(t){return e.maxDelay||(e.maxDelay=250),e.p("_d")?(t&&setTimeout(function(){t()},e.maxDelay),!1):!0},e.da=!1,e.H=!1,e.xa=function(){e.H=!0,e.j()},e.isReadyToTrack=function(){var t,i,a,r=!0,o=e.visitor;return e.ea||e.I||(e.$a(e.kb)?e.I=!0:e.ea=!0),e.ea&&!e.I?!1:(o&&o.isAllowed()&&(e.ca||e.marketingCloudVisitorID||!o.getMarketingCloudVisitorID||(e.ca=!0,e.marketingCloudVisitorID=o.getMarketingCloudVisitorID([e,e.gb]),e.marketingCloudVisitorID&&(e.V=!0)),e.fa||e.visitorOptedOut||!o.isOptedOut||(e.fa=!0,e.visitorOptedOut=o.isOptedOut([e,e.lb]),e.visitorOptedOut!=n&&(e.W=!0)),e.Z||e.analyticsVisitorID||!o.getAnalyticsVisitorID||(e.Z=!0,e.analyticsVisitorID=o.getAnalyticsVisitorID([e,e.Wa]),e.analyticsVisitorID&&(e.S=!0)),e.ba||e.audienceManagerLocationHint||!o.getAudienceManagerLocationHint||(e.ba=!0,e.audienceManagerLocationHint=o.getAudienceManagerLocationHint([e,e.Ya]),e.audienceManagerLocationHint&&(e.U=!0)),e.aa||e.audienceManagerBlob||!o.getAudienceManagerBlob||(e.aa=!0,e.audienceManagerBlob=o.getAudienceManagerBlob([e,e.Xa]),e.audienceManagerBlob&&(e.T=!0)),r=e.ca&&!e.V&&!e.marketingCloudVisitorID,o=e.Z&&!e.S&&!e.analyticsVisitorID,t=e.ba&&!e.U&&!e.audienceManagerLocationHint,i=e.aa&&!e.T&&!e.audienceManagerBlob,a=e.fa&&!e.W,r=!(r||o||t||i||a)),e.da||e.H||(e.Za(e.xa)?e.H=!0:e.da=!0),e.da&&!e.H&&(r=!1),r)},e.o=n,e.u=0,e.callbackWhenReadyToTrack=function(t,i,a){var r;r={},r.pb=t,r.ob=i,r.mb=a,e.o==n&&(e.o=[]),e.o.push(r),0==e.u&&(e.u=setInterval(e.j,100))},e.j=function(){var t;if(e.isReadyToTrack()&&(e.jb(),e.o!=n))for(;0<e.o.length;)t=e.o.shift(),t.ob.apply(t.pb,t.mb)},e.jb=function(){e.u&&(clearInterval(e.u),e.u=0)},e.eb=function(t){var i,a,r=n,o=n;if(!e.isReadyToTrack()){if(i=[],t!=n)for(a in r={},t)r[a]=t[a];return o={},e.Ua(o,!0),i.push(r),i.push(o),e.callbackWhenReadyToTrack(e,e.track,i),!0}return!1},e.wb=function(){var t,n=e.cookieRead("s_fid"),i="",a="";t=8;var r=4;if(!n||0>n.indexOf("-")){for(n=0;16>n;n++)t=Math.floor(Math.random()*t),i+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*r),a+="0123456789ABCDEF".substring(t,t+1),t=r=16;n=i+"-"+a}return e.cookieWrite("s_fid",n,1)||(n=0),n},e.t=e.track=function(n,i){var a,o=new Date,s="s"+Math.floor(o.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=o.getYear(),l="t="+e.escape(o.getDate()+"/"+o.getMonth()+"/"+(1900>l?l+1900:l)+" "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+" "+o.getDay()+" "+o.getTimezoneOffset());e.visitor&&e.visitor.getAuthState&&(e.authState=e.visitor.getAuthState()),e.p("_s"),e.eb(n)||(i&&e.R(i),n&&(a={},e.Ua(a,0),e.R(n)),e.Cb()&&!e.visitorOptedOut&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.wb()),e.Gb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.visitor&&!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,!e.expectSupplementalData)),e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(o.getTime()/1e3)),o=t.location,e.pageURL||(e.pageURL=o.href?o.href:o),e.referrer||e.Va||(e.referrer=r.document.referrer),e.Va=1,e.referrer=e.ub(e.referrer),e.p("_g")),e.zb()&&!e.abort&&(e.Ab(),l+=e.yb(),e.Fb(s,l),e.p("_t"),e.referrer=""))),n&&e.R(a,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=t.s_objectID=e.pe=e.pev1=e.pev2=e.pev3=e.e=e.lightProfileID=0},e.za=[],e.registerPreTrackCallback=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);"function"==typeof t?e.za.push([t,n]):console.logTracking&&e.P("DEBUG: Non function type passed to registerPreTrackCallback")},e.bb=function(t){e.wa(e.za,t)},e.ya=[],e.registerPostTrackCallback=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);"function"==typeof t?e.ya.push([t,n]):console.logTracking&&e.P("DEBUG: Non function type passed to registerPostTrackCallback")},e.ab=function(t){e.wa(e.ya,t)},e.wa=function(t,n){if("object"==typeof t)for(var i=0;i<t.length;i++){var a=t[i][0],r=t[i][1];if(r.unshift(n),"function"==typeof a)try{a.apply(null,r)}catch(o){console.logTracking&&e.P(o.message)}}},e.tl=e.trackLink=function(t,n,i,a,r){return e.linkObject=t,e.linkType=n,e.linkName=i,r&&(e.l=t,e.A=r),e.track(a)},e.trackLight=function(t,n,i,a){return e.lightProfileID=t,e.lightStoreForSeconds=n,e.lightIncrementBy=i,e.track(a)},e.clearVars=function(){var t,n;for(t=0;t<e.g.length;t++)n=e.g[t],("prop"==n.substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(e[n]=void 0)},e.tagContainerMarker="",e.Fb=function(t,n){var i,a=e.trackingServer;i="";var r=e.dc,o="sc.",s=e.visitorNamespace;a?e.trackingServerSecure&&e.ssl&&(a=e.trackingServerSecure):(s||(s=e.account,a=s.indexOf(","),a>=0&&(s=s.substring(0,a)),s=s.replace(/[^A-Za-z0-9]/g,"")),i||(i="2o7.net"),r=r?(""+r).toLowerCase():"d1","2o7.net"==i&&("d1"==r?r="112":"d2"==r&&(r="122"),o=""),a=s+"."+r+"."+o+i),i=e.ssl?"https://":"http://",r=e.AudienceManagement&&e.AudienceManagement.isReady()||0!=e.usePostbacks,i+=a+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(r?"10":"1")+"/JS-"+e.version+(e.Jb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(r?"callback=s_c_il["+e._in+"].doPostbacks&et=1&":"")+n+"&AQE=1",e.bb(i),e.sb(i),e.ka()},e.Ta=/{(%?)(.*?)(%?)}/,e.Nb=RegExp(e.Ta.source,"g"),e.tb=function(t){if("object"==typeof t.dests)for(var n=0;n<t.dests.length;++n){var i=t.dests[n];if("string"==typeof i.c&&"aa."==i.id.substr(0,3))for(var a=i.c.match(e.Nb),r=0;r<a.length;++r){var o=a[r],s=o.match(e.Ta),l="";"%"==s[1]&&"timezone_offset"==s[2]?l=(new Date).getTimezoneOffset():"%"==s[1]&&"timestampz"==s[2]&&(l=e.xb()),i.c=i.c.replace(o,e.escape(l))}}},e.xb=function(){var t=new Date,n=new Date(6e4*Math.abs(t.getTimezoneOffset()));return e.k(4,t.getFullYear())+"-"+e.k(2,t.getMonth()+1)+"-"+e.k(2,t.getDate())+"T"+e.k(2,t.getHours())+":"+e.k(2,t.getMinutes())+":"+e.k(2,t.getSeconds())+(0<t.getTimezoneOffset()?"-":"+")+e.k(2,n.getUTCHours())+":"+e.k(2,n.getUTCMinutes())},e.k=function(e,t){return(Array(e+1).join(0)+t).slice(-e)},e.ta={},e.doPostbacks=function(t){if("object"==typeof t)if(e.tb(t),"object"==typeof e.AudienceManagement&&"function"==typeof e.AudienceManagement.isReady&&e.AudienceManagement.isReady()&&"function"==typeof e.AudienceManagement.passData)e.AudienceManagement.passData(t);else if("object"==typeof t&&"object"==typeof t.dests)for(var n=0;n<t.dests.length;++n){var i=t.dests[n];"object"==typeof i&&"string"==typeof i.c&&"string"==typeof i.id&&"aa."==i.id.substr(0,3)&&(e.ta[i.id]=new Image,e.ta[i.id].alt="",e.ta[i.id].src=i.c)}},e.sb=function(t){e.i||e.Bb(),e.i.push(t),e.ma=e.C(),e.Ra()},e.Bb=function(){e.i=e.Db(),e.i||(e.i=[])},e.Db=function(){var n,i;if(e.ra()){try{(i=t.localStorage.getItem(e.pa()))&&(n=t.JSON.parse(i))}catch(a){}return n}},e.ra=function(){var n=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(n=!1),n},e.Ia=function(){var t=0;return e.i&&(t=e.i.length),e.q&&t++,t},e.ka=function(){if(!e.q||(e.B&&e.B.complete&&e.B.F&&e.B.va(),!e.q))if(e.Ja=n,e.qa)e.ma>e.N&&e.Pa(e.i),e.ua(500);else{var t=e.nb();t>0?e.ua(t):(t=e.Fa())&&(e.q=1,e.Eb(t),e.Ib(t))}},e.ua=function(t){e.Ja||(t||(t=0),e.Ja=setTimeout(e.ka,t))},e.nb=function(){var t;return!e.trackOffline||0>=e.offlineThrottleDelay?0:(t=e.C()-e.Oa,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.Fa=function(){return 0<e.i.length?e.i.shift():void 0},e.Eb=function(t){if(console.logTracking){var n="AppMeasurement Debug: "+t;t=t.split("&");var i;for(i=0;i<t.length;i++)n+="\n	"+e.unescape(t[i]);e.P(n)}},e.fb=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.Y=!1;var s;try{s=JSON.parse('{"x":"y"}')}catch(l){s=null}s&&"y"==s.x?(e.Y=!0,e.X=function(e){return JSON.parse(e)}):t.$&&t.$.parseJSON?(e.X=function(e){return t.$.parseJSON(e)},e.Y=!0):e.X=function(){return null},e.Ib=function(i){var a,r,o;if(e.fb()&&2047<i.length&&("undefined"!=typeof XMLHttpRequest&&(a=new XMLHttpRequest,"withCredentials"in a?r=1:a=0),a||"undefined"==typeof XDomainRequest||(a=new XDomainRequest,r=2),a&&(e.AudienceManagement&&e.AudienceManagement.isReady()||0!=e.usePostbacks)&&(e.Y?a.Ba=!0:a=0)),!a&&e.Sa&&(i=i.substring(0,2047)),!a&&e.d.createElement&&(0!=e.usePostbacks||e.AudienceManagement&&e.AudienceManagement.isReady())&&(a=e.d.createElement("SCRIPT"))&&"async"in a&&((o=(o=e.d.getElementsByTagName("HEAD"))&&o[0]?o[0]:e.d.body)?(a.type="text/javascript",a.setAttribute("async","async"),r=3):a=0),a||(a=new Image,a.alt="",a.abort||"undefined"==typeof t.InstallTrigger||(a.abort=function(){a.src=n})),a.Da=function(){try{a.F&&(clearTimeout(a.F),a.F=0)}catch(e){}},a.onload=a.va=function(){if(e.ab(i),a.Da(),e.rb(),e.ga(),e.q=0,e.ka(),a.Ba){a.Ba=!1;try{e.doPostbacks(e.X(a.responseText))}catch(t){}}},a.onabort=a.onerror=a.Ga=function(){a.Da(),(e.trackOffline||e.qa)&&e.q&&e.i.unshift(e.qb),e.q=0,e.ma>e.N&&e.Pa(e.i),e.ga(),e.ua(500)},a.onreadystatechange=function(){4==a.readyState&&(200==a.status?a.va():a.Ga())},e.Oa=e.C(),1==r||2==r){var s=i.indexOf("?");o=i.substring(0,s),s=i.substring(s+1),s=s.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==r?(a.open("POST",o,!0),a.send(s)):2==r&&(a.open("POST",o),a.send(s))}else if(a.src=i,3==r){if(e.Ma)try{o.removeChild(e.Ma)}catch(l){}o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),e.Ma=e.B}a.F=setTimeout(function(){a.F&&(a.complete?a.va():(e.trackOffline&&a.abort&&a.abort(),a.Ga()))},5e3),e.qb=i,e.B=t["s_i_"+e.replace(e.account,",","_")]=a,(e.useForcedLinkTracking&&e.J||e.A)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.ha=setTimeout(e.ga,e.forcedLinkTrackingTimeout))},e.rb=function(){if(e.ra()&&!(e.Na>e.N))try{t.localStorage.removeItem(e.pa()),e.Na=e.C()}catch(n){}},e.Pa=function(n){if(e.ra()){e.Ra();try{t.localStorage.setItem(e.pa(),t.JSON.stringify(n)),e.N=e.C()}catch(i){}}},e.Ra=function(){if(e.trackOffline)for((!e.offlineLimit||0>=e.offlineLimit)&&(e.offlineLimit=10);e.i.length>e.offlineLimit;)e.Fa()},e.forceOffline=function(){e.qa=!0},e.forceOnline=function(){e.qa=!1},e.pa=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.C=function(){return(new Date).getTime()},e.Ka=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},e.setTagContainer=function(t){var n,i,a;for(e.Jb=t,n=0;n<e._il.length;n++)if((i=e._il[n])&&"s_l"==i._c&&i.tagContainerName==t){if(e.R(i),i.lmq)for(n=0;n<i.lmq.length;n++)a=i.lmq[n],e.loadModule(a.n);if(i.ml)for(a in i.ml)if(e[a])for(n in t=e[a],a=i.ml[a])!Object.prototype[n]&&("function"!=typeof a[n]||0>(""+a[n]).indexOf("s_c_il"))&&(t[n]=a[n]);if(i.mmq)for(n=0;n<i.mmq.length;n++)a=i.mmq[n],e[a.m]&&(t=e[a.m],t[a.f]&&"function"==typeof t[a.f]&&(a.a?t[a.f].apply(t,a.a):t[a.f].apply(t)));if(i.tq)for(n=0;n<i.tq.length;n++)e.track(i.tq[n]);i.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(n,i,a){var r;return i||(i=e.pageURL?e.pageURL:t.location),a||(a="&"),n&&i&&(i=""+i,r=i.indexOf("?"),r>=0&&(i=a+i.substring(r+1)+a,r=i.indexOf(a+n+"="),r>=0&&(i=i.substring(r+a.length+n.length+1),r=i.indexOf(a),r>=0&&(i=i.substring(0,r)),0<i.length)))?e.unescape(i):""}},e.G="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),e.g=e.G.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),e.na="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),
e.O=e.na.slice(0),e.Aa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement".split(" ");for(i=0;250>=i;i++)76>i&&(e.g.push("prop"+i),e.O.push("prop"+i)),e.g.push("eVar"+i),e.O.push("eVar"+i),6>i&&e.g.push("hier"+i),4>i&&e.g.push("list"+i);i="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" "),e.g=e.g.concat(i),e.G=e.G.concat(i),e.ssl=0<=t.location.protocol.toLowerCase().indexOf("https"),e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.Oa=0,e.ma=0,e.N=0,e.Na=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{if(e.Sa=!1,navigator){var d=navigator.userAgent;("Microsoft Internet Explorer"==navigator.appName||0<=d.indexOf("MSIE ")||0<=d.indexOf("Trident/")&&0<=d.indexOf("Windows NT 6"))&&(e.Sa=!0)}}catch(c){}e.ga=function(){e.ha&&(t.clearTimeout(e.ha),e.ha=n),e.l&&e.J&&e.l.dispatchEvent(e.J),e.A&&("function"==typeof e.A?e.A():e.l&&e.l.href&&(e.d.location=e.l.href)),e.l=e.J=e.A=0},e.Qa=function(){e.b=e.d.body,e.b?(e.v=function(n){var i,a,r,o,s;if(!(e.d&&e.d.getElementById("cppXYctnr")||n&&n["s_fe_"+e._in])){if(e.Ca){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.v,!0),void(e.Ca=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.v,!1)}else e.useForcedLinkTracking=0;e.clickObject=n.srcElement?n.srcElement:n.target;try{if(!e.clickObject||e.M&&e.M==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var l=e.M=e.clickObject;if(e.la&&(clearTimeout(e.la),e.la=0),e.la=setTimeout(function(){e.M==l&&(e.M=0)},1e4),r=e.Ia(),e.track(),r<e.Ia()&&e.useForcedLinkTracking&&n.target){for(o=n.target;o&&o!=e.b&&"A"!=o.tagName.toUpperCase()&&"AREA"!=o.tagName.toUpperCase();)o=o.parentNode;if(o&&(s=o.href,e.Ka(s)||(s=0),a=o.target,n.target.dispatchEvent&&s&&(!a||"_self"==a||"_top"==a||"_parent"==a||t.name&&a==t.name))){try{i=e.d.createEvent("MouseEvents")}catch(d){i=new t.MouseEvent}if(i){try{i.initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(c){i=0}i&&(i["s_fe_"+e._in]=i.s_fe=1,n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),n.preventDefault(),e.l=n.target,e.J=i)}}}}}catch(u){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.v):e.b&&e.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&e.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&t.MouseEvent)&&(e.Ca=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.v,!0)),e.b.addEventListener("click",e.v,!1))):setTimeout(e.Qa,30)},e.Qa(),e.loadModule("ActivityMap"),e.getTimeParting=new Function("t","z","var s=this,cy;dc=new Date('1/1/2000');if(dc.getDay()!=6||dc.getMonth()!=0){return'Data Not Available'}else{;z=parseFloat(z);var dsts=new Date(s.dstStart);var dste=new Date(s.dstEnd);fl=dste;cd=new Date();if(cd>dsts&&cd<fl){z=z+1}else{z=z};utc=cd.getTime()+(cd.getTimezoneOffset()*60000);tz=new Date(utc + (3600000*z));thisy=tz.getFullYear();var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];if(thisy!=s.currentYear){return'Data Not Available'}else{;thish=tz.getHours();thismin=tz.getMinutes();thisd=tz.getDay();var dow=days[thisd];var ap='AM';var dt='Weekday';if(thisd==6||thisd==0){dt='Weekend'};var timestring=thish+':00';if(t=='h'){return timestring}if(t=='d'){return dow};if(t=='w'){return dt}}};"),function(e){e.currentYear=(new Date).getFullYear();var t=new Date("03/01/"+e.currentYear).getDay(),n=7-t+7+1,i=new Date("11/01/"+e.currentYear).getDay(),a=(7-i)%7+1;e.dstStart="03/"+n+"/"+e.currentYear,e.dstEnd="11/"+a+"/"+e.currentYear}(e),e.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),e.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a")},AppMeasurement.getInstance=e,window.s_objectID||(window.s_objectID=0),t()},window.addFreewheelLibrary=function(){!function(){var V="SDK_"+"6.18.0.0-6eca892f-201709252014".replace(/[^\w]/g,"_"),A="undefined"!=typeof window?window:"undefined"!=typeof GLOBAL?GLOBAL:this;return A.tv=A.tv||{},A.tv.freewheel=A.tv.freewheel||{},A.tv.freewheel[V]=function(A){var a={version:"js-6.18.0.0-6eca892f-201709252014"};return"undefined"!=typeof window&&(window._fw_admanager=window._fw_admanager||{},window._fw_admanager.version=a.version),a.LOG_LEVEL_QUIET=0,a.LOG_LEVEL_INFO=1,a.LOG_LEVEL_DEBUG=2,a.setLogLevel=function(e){if(a.log=a.log=a.log=function(){},"undefined"!=typeof console){try{window.localStorage&&window.localStorage.getItem("fwLogLevel")&&-1<window.localStorage.getItem("fwLogLevel")&&(e=window.localStorage.getItem("fwLogLevel"))}catch(t){console.log(">FW Common.setLogLevel"+t.description)}e>a.LOG_LEVEL_QUIET&&(a.log=function(){console.log(">FW "+(new Date).toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "))},a.log=function(){console.log(">FW "+(new Date).toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "))},e>a.LOG_LEVEL_INFO&&(a.log=function(){console.log(">FW "+(new Date).toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "))}))}},a.setLogLevel(a.LOG_LEVEL_INFO),console.log("FreeWheel Integration Runtime",a.version),a.proxyUrl=null,a.proxyAuthenticationParameter=null,a.setProxy=function(e){"string"==typeof e?("/"!=e.charAt(e.length-1)&&(e+="/"),a.proxyUrl=e):a.proxyUrl=null},a.setProxyAuthenticationParameter=function(e,t){a.proxyAuthenticationParameter=2<=arguments.length&&e?{key:e,value:t||""}:null},a.checkUserAgent=function(e){a.PLATFORM_IS_WINDOWSPHONE=-1<e.search("windows phone"),a.PLATFORM_IS_IPAD=-1<e.search("ipad"),a.PLATFORM_IS_IPHONE_IPOD=-1<e.search("iphone")||-1<e.search("ipod");var t=function(t){return(t=e.match(t))&&0<t.length?(t=t[0].match(/\d+/g),1*t[0]+.1*t[1]):0};a.PLATFORM_IE_MOBILE_VERSION=t(/iemobile\/\d+\.\d+/),a.PLATFORM_IOS_VERSION=t(/os \d+_\d+/),t=-1<e.indexOf("transformer")?3.2:t(/android \d+\.\d+/),a.PLATFORM_ANDROID_VERSION=t,a.PLATFORM_IS_SAFARI=0<a.PLATFORM_IOS_VERSION&&-1<e.search("applewebkit")||0===a.PLATFORM_ANDROID_VERSION&&0>e.search("chrome")&&-1<e.search("safari"),a.PLATFORM_IS_MOBILE=0<a.PLATFORM_IOS_VERSION||0<a.PLATFORM_ANDROID_VERSION,a.PLATFORM_ID=a.PLATFORM_IS_MOBILE?0<a.PLATFORM_ANDROID_VERSION?"Android"+a.PLATFORM_ANDROID_VERSION:a.PLATFORM_IS_IPAD?"iPad"+a.PLATFORM_IOS_VERSION:a.PLATFORM_IS_IPHONE_IPOD?"iPhone"+a.PLATFORM_IOS_VERSION:"UnknownMobile":"Desktop",console.log("Device:",a.PLATFORM_ID,"PLATFORM_IS_SAFARI:",a.PLATFORM_IS_SAFARI)},a.checkUserAgent(navigator.userAgent.toLowerCase()),a.PLATFORM_EVENT_CLICK=a.PLATFORM_IS_MOBILE?"touchend":"click",a.MOBILE_EVENT_DRAG="touchmove",a.PLATFORM_SEND_REQUEST_BY_FORM=!1,a.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_MOVE_POSITION=3.1<=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_SET_DISPLAY=!0,a.PLATFORM_SUPPORT_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT=a.PLATFORM_IS_IPAD||a.PLATFORM_IS_IPHONE_IPOD,a.PLATFORM_AUTO_SEEK_AFTER_MIDROLL=a.PLATFORM_IS_IPAD,a.PLATFORM_NOT_SUPPORT_OVERLAY_AD=a.PLATFORM_IS_IPHONE_IPOD||0<a.PLATFORM_ANDROID_VERSION&&3.1>a.PLATFORM_ANDROID_VERSION||a.PLATFORM_IS_WINDOWSPHONE,a.PLATFORM_FILL_VIDEO_POOL_FOR_MIDROLL=4.2<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_MIDROLL_AD=2.2<=a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION||9<=a.PLATFORM_IE_MOBILE_VERSION,a.PLATFORM_NOT_SUPPORT_VIDEO_AD=0<a.PLATFORM_ANDROID_VERSION&&2.1>=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_DETECT_FULL_SCREEN_FOR_MIDROLL=a.PLATFORM_IS_IPAD&&4.2<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO=a.PLATFORM_IS_IPHONE_IPOD&&10>a.PLATFORM_IOS_VERSION||a.PLATFORM_IS_WINDOWSPHONE,a.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED=3.1<=a.PLATFORM_ANDROID_VERSION||10<=a.PLATFORM_IOS_VERSION,a.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT=0<a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE=9<=a.PLATFORM_IE_MOBILE_VERSION,a.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL=0<a.PLATFORM_IOS_VERSION&&4.2>a.PLATFORM_IOS_VERSION&&4<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL=!1,a.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT=0===a.PLATFORM_IOS_VERSION||4<=a.PLATFORM_IOS_VERSION&&4.2>a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_OVERLAY_CLICK_WHEN_CONTROLS_IS_TRUE=a.PLATFORM_IS_IPAD,a.RENDERER_STATE_INIT=1,a.RENDERER_STATE_STARTING=2,a.RENDERER_STATE_STARTED=3,a.RENDERER_STATE_COMPLETING=4,a.RENDERER_STATE_COMPLETED=5,a.RENDERER_STATE_FAILED=6,a.TRANSLATOR_STATE_INIT=a.RENDERER_STATE_INIT,a.TRANSLATOR_STATE_STARTING=a.RENDERER_STATE_STARTING,a.TRANSLATOR_STATE_STARTED=a.RENDERER_STATE_STARTED,a.TRANSLATOR_STATE_COMPLETING=a.RENDERER_STATE_COMPLETING,a.TRANSLATOR_STATE_COMPLETED=a.RENDERER_STATE_COMPLETED,a.TRANSLATOR_STATE_FAILED=a.RENDERER_STATE_FAILED,a.EVENT_AD="adEvent",a.EVENT_AD_BUFFERING_START="adBufferingStart",a.EVENT_AD_BUFFERING_END="adBufferingEnd",a.EVENT_SLOT_IMPRESSION="slotImpression",a.EVENT_SLOT_END="slotEnd",a.EVENT_AD_INITIATED="adInitiated",a.EVENT_AD_IMPRESSION="defaultImpression",a.EVENT_AD_IMPRESSION_END="adEnd",a.EVENT_AD_QUARTILE="quartile",a.EVENT_AD_FIRST_QUARTILE="firstQuartile",a.EVENT_AD_MIDPOINT="midPoint",a.EVENT_AD_THIRD_QUARTILE="thirdQuartile",a.EVENT_AD_SKIPPED="adSkipped",a.EVENT_AD_COMPLETE="complete",a.EVENT_AD_CLICK="defaultClick",a.EVENT_AD_MUTE="_mute",a.EVENT_AD_UNMUTE="_un-mute",a.EVENT_AD_COLLAPSE="_collapse",a.EVENT_AD_EXPAND="_expand",a.EVENT_AD_PAUSE="_pause",a.EVENT_AD_RESUME="_resume",a.EVENT_AD_REWIND="_rewind",a.EVENT_AD_ACCEPT_INVITATION="_accept-invitation",a.EVENT_AD_CLOSE="_close",a.EVENT_AD_MINIMIZE="_minimize",a.EVENT_ERROR="_e_unknown",a.EVENT_RESELLER_NO_AD="resellerNoAd",a.EVENT_AD_MEASUREMENT="concreteEvent",a.EVENT_EXTENSION_LOADED="extensionLoaded",a.EVENT_AD_VOLUME_CHANGE="adVolumeChange",a.EVENT_AD_AUTO_PLAY_BLOCKED="videoAutoPlayBlocked",a.INFO_KEY_CUSTOM_ID="customId",a.INFO_KEY_MODULE_TYPE="moduleType",a.MODULE_TYPE_EXTENSION="extension",a.MODULE_TYPE_RENDERER="renderer",a.MODULE_TYPE_TRANSLATOR="translator",a.INFO_KEY_ERROR_CODE="errorCode",a.INFO_KEY_ERROR_INFO="errorInfo",a.INFO_KEY_ERROR_MODULE="errorModule",a.ERROR_IO="_e_io",a.ERROR_TIMEOUT="_e_timeout",a.ERROR_NULL_ASSET="_e_null-asset",a.ERROR_ADINSTANCE_UNAVAILABLE="_e_adinst-unavail",a.ERROR_UNKNOWN="_e_unknown",a.ERROR_MISSING_PARAMETER="_e_missing-param",a.ERROR_NO_AD_AVAILABLE="_e_no-ad",a.ERROR_PARSE="_e_parse",a.ERROR_INVALID_VALUE="_e_invalid-value",a.ERROR_INVALID_SLOT="_e_invalid-slot",a.ERROR_NO_RENDERER="_e_no-renderer",a.ERROR_DEVICE_LIMIT="_e_device-limit",a.ERROR_3P_COMPONENT="_e_3p-comp",a.ERROR_UNSUPPORTED_3P_FEATURE="_e_unsupp-3p-feature",a.ERROR_SECURITY="_e_security",a.ERROR_UNMATCHED_SLOT_SIZE="_e_slot-size-unmatch",a.INFO_KEY_URL="url",a.INFO_KEY_SHOW_BROWSER="showBrowser",a.INFO_KEY_CUSTOM_EVENT_NAME="customEventName",a.INFO_KEY_NEED_EMPTY_CT="needEmptyCT",a.INFO_KEY_CONCRETE_EVENT_ID="concreteEventId",a.EVENT_TYPE_CLICK_TRACKING="CLICKTRACKING",a.EVENT_TYPE_IMPRESSION="IMPRESSION",a.EVENT_TYPE_CLICK="CLICK",a.EVENT_TYPE_STANDARD="STANDARD",a.EVENT_TYPE_GENERIC="GENERIC",a.EVENT_TYPE_ERROR="ERROR",a.EVENT_VIDEO_VIEW="videoView",a.SHORT_EVENT_TYPE_IMPRESSION="i",a.SHORT_EVENT_TYPE_CLICK="c",a.SHORT_EVENT_TYPE_STANDARD="s",a.SHORT_EVENT_TYPE_ERROR="e",a.INIT_VALUE_ZERO="0",a.INIT_VALUE_ONE="1",a.INIT_VALUE_TWO="2",a.INFO_KEY_PARAMETERS="parameters",a.URL_PARAMETER_KEY_ET="et",a.URL_PARAMETER_KEY_CN="cn",a.URL_PARAMETER_KEY_INIT="init",a.URL_PARAMETER_KEY_CT="ct",a.URL_PARAMETER_KEY_METR="metr",a.URL_PARAMETER_KEY_CR="cr",a.URL_PARAMETER_KEY_KEY_VALUE="kv",a.URL_PARAMETER_KEY_ERROR_INFO="additional",a.URL_PARAMETER_KEY_ERROR_MODULE="renderer",a.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID="reid",a.URL_PARAMETER_KEY_CONCRETE_EVENT_ID="creid",a.CAPABILITY_SLOT_TEMPLATE="sltp",a.CAPABILITY_DISPLAY_REFRESH="rfnt",a.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS="emcr",a.CAPABILITY_RECORD_VIDEO_VIEW="exvt",a.CAPABILITY_CHECK_COMPANION="cmpn",a.CAPABILITY_CHECK_TARGETING="targ",a.CAPABILITY_RESET_EXCLUSIVITY="rste",a.CAPABILITY_FALLBACK_UNKNOWN_ASSET="unka",a.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION="unks",a.CAPABILITY_FALLBACK_ADS="fbad",a.CAPABILITY_SLOT_CALLBACK="slcb",a.CAPABILITY_NULL_CREATIVE="nucr",a.CAPABILITY_AUTO_EVENT_TRACKING="aeti",a.CAPABILITY_RENDERER_MANIFEST="rema",a.CAPABILITY_REQUIRE_VIDEO_CALLBACK="vicb",a.CAPABILITY_SKIP_AD_SELECTION="skas",a.SLOT_TYPE_TEMPORAL="temporal",a.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL="videoPlayerNonTemporal",a.SLOT_TYPE_SITESECTION_NONTEMPORAL="siteSectionNonTemporal",a.TIME_POSITION_CLASS_PREROLL="PREROLL",a.TIME_POSITION_CLASS_MIDROLL="MIDROLL",a.TIME_POSITION_CLASS_POSTROLL="POSTROLL",a.TIME_POSITION_CLASS_OVERLAY="OVERLAY",a.TIME_POSITION_CLASS_DISPLAY="DISPLAY",a.TIME_POSITION_CLASS_PAUSE_MIDROLL="PAUSE_MIDROLL",a.EVENT_REQUEST_INITIATED="onRequestInitiated",a.EVENT_REQUEST_COMPLETE="onRequestComplete",a.EVENT_SLOT_STARTED="onSlotStarted",a.EVENT_SLOT_ENDED="onSlotEnded",a.EVENT_CONTENT_VIDEO_PAUSED="contentVideoPaused",a.EVENT_CONTENT_VIDEO_RESUMED="contentVideoResumed",a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST="contentVideoPauseRequest",a.EVENT_CONTENT_VIDEO_RESUME_REQUEST="contentVideoResumeRequest",a.CAPABILITY_STATUS_OFF=0,a.CAPABILITY_STATUS_ON=1,a.PARAMETER_LEVEL_PROFILE=0,a.PARAMETER_LEVEL_GLOBAL=1,a.PARAMETER_LEVEL_OVERRIDE=5,a.PARAMETER_ENABLE_FORM_TRANSPORT="sdk.enableFormTransport",a.PARAMETER_DESIRED_BITRATE="desiredBitrate",a.PARAMETER_VIDEO_POOL_SIZE="sdk.videoPoolSize",a.PARAMETER_PAGE_SLOT_CONTENT_TYPE="sdk.pageSlotContentType",a.PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT="PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT",a.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT="extension.ad.control.clickElement",a.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED="extension.contentVideo.enabled",a.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME="extension.contentVideo.respondPauseResume",a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK="extension.contentVideo.autoSeekBack",a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE="extension.contentVideo.autoSourceRestore",a.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED="extension.videoState.enabled",a.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT="renderer.video.startDetectTimeout",a.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT="renderer.video.progressDetectTimeout",a.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY="renderer.video.android.delay",a.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE="renderer.video.displayControlsWhenPause",a.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION="renderer.video.clickDetection",a.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED="renderer.video.playAfterStalled",a.PARAMETER_EXTENSION_SURVEY_ENABLED="extension.survey.enabled",a.PARAMETER_RENDERER_DISPLAY_COAD_SCRIPT_NAME="renderer.html.coadScriptName",a.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT="renderer.html.isBackgroundTransparent",a.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION="renderer.html.shouldEndAfterDuration",a.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT="renderer.html.adLoadTimeout",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE="renderer.html.placementType",a.PARAMETER_RENDERER_HTML_BOOTSTRAP="renderer.html.bootstrap",a.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR="renderer.html.primaryAnchor",a.PARAMETER_RENDERER_HTML_MARGIN_WIDTH="renderer.html.marginWidth",a.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT="renderer.html.marginHeight",a.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY="renderer.vpaid.creativeTimeoutDelay",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INLINE="inline",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL="interstitial",a.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL="app-interstitial",a.ID_TYPE_FW=1,a.ID_TYPE_CUSTOM=2,a.ID_TYPE_GROUP=3,a.VIDEO_STATE_PLAYING=1,a.VIDEO_STATE_PAUSED=2,a.VIDEO_STATE_STOPPED=3,a.VIDEO_STATE_COMPLETED=4,a.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED=1,a.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED=2,a.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE=3,a.VIDEO_ASSET_AUTO_PLAY_TYPE_NON_AUTO_PLAY=3,a.VIDEO_ASSET_DURATION_TYPE_EXACT="exact",a.VIDEO_ASSET_DURATION_TYPE_VARIABLE="variable",a.ADUNIT_PREROLL="preroll",a.ADUNIT_MIDROLL="midroll",a.ADUNIT_POSTROLL="postroll",a.ADUNIT_OVERLAY="overlay",a.ADUNIT_STREAM_PREROLL="stream_preroll",a.ADUNIT_STREAM_POSTROLL="stream_postroll",a.SLOT_LOCATION_PLAYER="player",a.SLOT_LOCATION_EXTERNAL="external",a.SLOT_OPTION_INITIAL_AD_STAND_ALONE=0,a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL=1,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY=2,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE=3,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE=4,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE=5,a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE=6,a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL=7,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL=8,a.REQUEST_MODE_ON_DEMAND="on-demand",a.REQUEST_MODE_LIVE="live",a.Util={canPlayVideoType:function(e){if(a.PLATFORM_IS_SAFARI&&("video/ogg"==e||"video/webm"==e))return!1;if(1<a.PLATFORM_ANDROID_VERSION&&"video/m4v"==e)return!0;if("video/3gp"==e&&(e="video/3gpp"),3<=a.PLATFORM_ANDROID_VERSION&&"video/3gpp"==e)return!0;var t=document.createElement("video");return t.canPlayType?!(!t.canPlayType(e)&&!t.canPlayType(e.replace("/","/x-"))):!1},str2bool:function(e){return e?(e=a.Util.trim(e).toLowerCase(),"true"==e||"yes"==e||"on"==e||"1"==e):!1},trim:function(e){return"string"!=typeof e?e.toString():e.replace(/^\s+|\s+$/g,"")},isBlank:function(e){return!e||""===a.Util.trim(e)},encodeToHex:function(e){for(var t="",n=0;n<e.length;n++){for(var i=e.charCodeAt(n).toString(16).toUpperCase();4>i.length;)i="0"+i;t+="\\u"+i.toUpperCase()}return t},forEachOnArray:function(e,t,n){var i;if(null==e)throw new TypeError(" array is null or not defined");e=Object(e);var a=e.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(n&&(i=n),n=0;a>n;){if(n in e){var r=e[n];t.call(i,r,n,e)}n++}},mixin:function(e,t){for(var n in t)"undefined"!=typeof t[n]&&(e[n]=t[n]);return e},copy:function(e){return a.Util.mixin({},e)},bind:function(e,t){var n=Array.prototype.slice.call(arguments);return n.shift(),t=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},getObject:function(e,t,n){if(!e)return null;e=e.split("."),t=t||window;for(var i,a=0;t&&(i=e[a]);a++)t=i in t?t[i]:n?t[i]={}:void 0;return t},buildNode:function(b,c,d,f,g){console.log("Util.buildNode"),d||(d=document);var k=null!=navigator.userAgent.match(/Firefox/);b.innerHTML=c||"",b=b.getElementsByTagName("script");var h=d.getElementsByTagName("head")[0];for(c=0;c<b.length;++c)if(k||b[c].src){var l=d.createElement("script");b[c].charset&&(l.charset=b[c].charset),b[c].src&&(l.src=b[c].src),b[c].innerHTML&&(l.innerHTML=b[c].innerHTML),l.onload=l.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||h.removeChild(l)};try{h.appendChild(l)}catch(m){console.log("load script err: "+m)}}else l=b[c].innerHTML,f&&(l=l.replace(/var fw_scope = document;/,"var fw_scope="+f+";")),g&&(l=l.replace(/var fw_scope_window = window;/,"var fw_scope_window="+g+";")),eval(l)},replacePageSlot:function(e,t,n){console.log("Util.replacePageSlot("+Array.prototype.slice.call(arguments).join(",")+")");var i;try{var r=document.getElementById(e)?document:parent.document.getElementById(e)?parent.document:null,o=document.getElementById(e)?"window":parent.document.getElementById(e)?"parent":null}catch(s){o=r=null}if(!r)for(var l=0;l<window.frames.length;l++)try{window.frames[l].document.getElementById(e)&&(r=window.frames[l].document,o="window.frames["+l+"]")}catch(s){console.log(s)}if(o&&(i=o+".document"),console.log("replacing slot "+e+" in frame "+i),!r)throw"Slot element not found: "+e;l=n?r.getElementById(n):r.getElementById("_fw_container_"+e),a.Util.buildNode(l,t,r,i,o)},transformUrlToProxy:function(e){if(null===a.proxyUrl)return e;var t=a.proxyUrl.replace("$","$$");return e=e.replace(/https?:\/\//,t),a.proxyAuthenticationParameter&&(e=a.Util.setParameterInURL(e,a.proxyAuthenticationParameter.key,a.proxyAuthenticationParameter.value)),e},pingURLWithImage:function(e){new Image(1,1).src=a.Util.transformUrlToProxy(e)},pingURLWithForm:function(e,t,n){n=n?"_fw_request":"_fw_cb",null==t&&(t=Math.random());var i=document.createElement("iframe");i.name=n+"_iframe_"+t,i.id=n+"_iframe_"+t,i.style.position="absolute",i.style.left="-10000px",i.style.width="1px",i.style.visibility="hidden";var r=document.createElement("form");r.action=a.Util.transformUrlToProxy(e),r.id=n+"_form_"+t,r.target=i.id,r.method="post",r.style.position="absolute",r.style.left="-10000px",r.style.width="1px",r.style.visibility="hidden",document.body&&(document.body.appendChild(i),document.body.appendChild(r),r.submit(),document.body.removeChild(r))},pingURLWithScript:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.src=a.Util.transformUrlToProxy(e),n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||t.removeChild(n)},t.appendChild(n)},pingURL:function(e){console.log("send callback: "+e),e&&(a.PLATFORM_SEND_REQUEST_BY_FORM?a.Util.pingURLWithForm(e,null,!1):a.Util.pingURLWithImage(e))},pingURLs:function(e){for(var t=0;t<e.length;t++)a.Util.pingURL(e[t])},setParameterInURL:function(e,t,n){if(!e||!t||null==n)return null;var i=!1;if(e=e.split("?"),n=encodeURIComponent(n),e[1]){for(var a=e[1].split("&"),r=0;r<a.length;++r){var o=a[r].split("=");if(o[0]==t){a[r]=o[0]+"="+n,i=!0;break}}o=a.join("&"),i||(o=t+"="+n+"&"+o)}else o=t+"="+n;return o=e[0]+"?"+o},getParameterInURL:function(e,t){if(!e||!t)return null;if(e=e.split("?"),e[1]){e=e[1].split("&");for(var n=0;n<e.length;++n){var i=e[n].split("=");if(i[0]==t&&!a.Util.isBlank(i[1]))return decodeURIComponent(i[1])}}return null},isParameterInURL:function(e,t){if(!e||!t)return!1;if(e=e.split("?"),e[1]){e=e[1].split("&");for(var n=0;n<e.length;++n)if(e[n].split("=")[0]==t)return!0}return!1},flashVersion:function(){var e="0,0,0,0";if(null!=navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])try{var t=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),n=t[2].split("."),i=n[0],a=n[1],r=t[3];""==r&&(r=t[4]),"d"==r[0]?r=r.substring(1):"r"==r[0]&&(r=r.substring(1),0<r.indexOf("d")&&(r=r.substring(0,r.indexOf("d")))),e=i+","+a+","+r+",0"}catch(o){console.log("Flash detection failed on navigator method")}}else try{var s=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),l=s.GetVariable("$version").split(" ")[1].split(",");3==l.length?e=l.join(",")+",0":4==l.length&&(e=l.join(","))}catch(o){console.log("Flash detection failed on ActiveX method")}return e},xmlToJson:function(e){var t={};if(!e)return null;if(1===e.nodeType){if(0<e.attributes.length){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@attributes"][i.nodeName]=i.nodeValue}}}else 3===e.nodeType?t=e.nodeValue:4===e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes()){for(n=0;n<e.childNodes.length;n++){i=e.childNodes.item(n);var r=i.nodeName;if("undefined"==typeof t[r])t[r]=a.Util.xmlToJson(i);else{if("undefined"==typeof t[r].length||"string"==typeof t[r]){var o=t[r];t[r]=[],t[r].push(o)}t[r].push(a.Util.xmlToJson(i))}}"undefined"!=typeof t["#cdata-section"]?(t.value=t["#cdata-section"],t.value.constructor===Array&&(t.value=t.value.join(""))):t["#text"]&&(t.value=t["#text"])}return t},lazyJavaScriptLoad:function(e,t){var n=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.type="text/javascript",i.src=e,t&&(i.attachEvent&&!window.opera?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(n.removeChild(i),i.onreadystatechange=null,t())}:i.addEventListener("load",function(){n.removeChild(i),t()},!1)),n.insertBefore(i,n.firstChild)},getViewport:function(){var e=0,t=0;return"undefined"!=typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.getElementsByTagName("body")&&document.getElementsByTagName("body")[0]&&(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{width:e,height:t,offsetX:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,offsetY:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},getAbsoluteUrl:function(e,t){if(e=a.Util.trim(e),t=a.Util.trim(t),-1!==t.indexOf("://"))return t;var n=e.substring(0,e.indexOf("://"));if(0===t.indexOf("//"))return n+":"+t;n=e.indexOf("/",e.indexOf("://")+5);var i=e;return-1!==n&&(i=e.substring(0,n)),0==t.indexOf("/")?i+t:(n=e.lastIndexOf("#"),i=e,-1!==n&&(i=e.substring(0,n)),0==t.indexOf("#")?i+t:(i=e.indexOf("?"),n=e,-1!==i&&(n=e.substring(0,i)),0==t.indexOf("?")?n+t:(i=-1===i?e.lastIndexOf("/"):n.lastIndexOf("/"),n=-1!==i?e.substring(0,i+1):n+"/",n+t)))}},a.MediaState=function(){},a.MediaState.prototype={},a.MediaState.prototype.constructor=a.MediaState,a.Util.mixin(a.MediaState.prototype,{play:function(e){console.log(this._name+" play("+e+")")},pause:function(e){console.log(this._name+" pause("+e+")")},complete:function(e){console.log(this._name+" complete("+e+")")}}),a.MediaInitState=function(){this._name="MediaInitState"},a.MediaInitState.prototype=new a.MediaState,a.MediaInitState.prototype.constructor=a.MediaInitState,a.Util.mixin(a.MediaInitState.prototype,{play:function(e){console.log(this._name+" play("+e+")"),e.setMediaState(a.MediaPlayingState.instance),"function"==typeof e.onStartPlaying&&e.onStartPlaying()}}),a.MediaInitState.instance=new a.MediaInitState,a.MediaPlayingState=function(){this._name="MediaPlayingState"},a.MediaPlayingState.prototype=new a.MediaState,a.MediaPlayingState.prototype.constructor=a.MediaPlayingState,a.Util.mixin(a.MediaPlayingState.prototype,{pause:function(e){console.log(this._name+" pause("+e+")"),e.setMediaState(a.MediaPausedState.instance),"function"==typeof e.onPausePlaying&&e.onPausePlaying()},complete:function(e){console.log(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompletePlaying&&e.onCompletePlaying()}}),a.MediaPlayingState.instance=new a.MediaPlayingState,a.MediaPausedState=function(){this._name="MediaPausedState"},a.MediaPausedState.prototype=new a.MediaState,a.MediaPausedState.prototype.constructor=a.MediaPausedState,a.Util.mixin(a.MediaPausedState.prototype,{play:function(e){console.log(this._name+" play("+e+")"),e.setMediaState(a.MediaPlayingState.instance),"function"==typeof e.onResumePlaying&&e.onResumePlaying()},complete:function(e){console.log(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompletePlaying&&e.onCompletePlaying()}}),a.MediaPausedState.instance=new a.MediaPausedState,a.MediaReplayingState=function(){this._name="MediaReplayingState"},a.MediaReplayingState.prototype=new a.MediaState,a.MediaReplayingState.prototype.constructor=a.MediaReplayingState,a.Util.mixin(a.MediaReplayingState.prototype,{pause:function(e){console.log(this._name+" pause("+e+")"),e.setMediaState(a.MediaReplayPausedState.instance),"function"==typeof e.onPausePlaying&&e.onPausePlaying()},complete:function(e){console.log(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompleteReplaying&&e.onCompleteReplaying()}}),a.MediaReplayingState.instance=new a.MediaReplayingState,a.MediaReplayPausedState=function(){this._name="MediaReplayPausedState"},a.MediaReplayPausedState.prototype=new a.MediaState,a.MediaReplayPausedState.prototype.constructor=a.MediaReplayPausedState,a.Util.mixin(a.MediaReplayPausedState.prototype,{play:function(e){console.log(this._name+" play("+e+")"),e.setMediaState(a.MediaReplayingState.instance),"function"==typeof e.onResumePlaying&&e.onResumePlaying()},complete:function(e){console.log(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompleteReplaying&&e.onCompleteReplaying()}}),a.MediaReplayPausedState.instance=new a.MediaReplayPausedState,a.MediaEndState=function(){this._name="MediaEndState"},a.MediaEndState.prototype=new a.MediaState,a.MediaEndState.prototype.constructor=a.MediaEndState,a.Util.mixin(a.MediaEndState.prototype,{play:function(e){console.log(this._name+" play("+e+")"),e.setMediaState(a.MediaReplayingState.instance),"function"==typeof e.onStartReplaying&&e.onStartReplaying()}}),a.MediaEndState.instance=new a.MediaEndState,a.RendererState=function(){},a.RendererState.prototype={},a.RendererState.prototype.constructor=a.RendererState,a.Util.mixin(a.RendererState.prototype,{start:function(e){console.log(this._name+" start()")},notifyStarted:function(e){console.log(this._name+" notifyStarted()")},stop:function(e){console.log(this._name+" stop()")},complete:function(e){console.log(this._name+" complete()")},notifyCompleted:function(e){console.log(this._name+" notifyCompleted()")},fail:function(e){console.log(this._name+" fail()"),e.setRendererState(a.RendererFailedState.instance),e.getAdInstance().complete()}}),a.RendererInitState=function(){this._name="RendererInitState"},a.RendererInitState.prototype=new a.RendererState,a.RendererInitState.prototype.constructor=a.RendererInitState,a.RendererInitState.instance=new a.RendererInitState,a.Util.mixin(a.RendererInitState.prototype,{start:function(e){console.log(this._name+" start()"),e.setRendererState(a.RendererStartingState.instance),e.getRenderer().start(e)},stop:function(e){console.log(this._name+" stop()"),e.setRendererState(a.RendererCompletingState.instance),e.getRendererState().notifyCompleted(e)}}),a.RendererStartingState=function(){this._name="RendererStartingState"},a.RendererStartingState.prototype=new a.RendererState,a.RendererStartingState.prototype.constructor=a.RendererStartingState,a.RendererStartingState.instance=new a.RendererStartingState,a.Util.mixin(a.RendererStartingState.prototype,{notifyStarted:function(e){console.log(this._name+" notifyStarted()"),e.setRendererState(a.RendererStartedState.instance),e.getAdInstance().play()},stop:function(e){console.log(this._name+" stop()"),"function"==typeof e.getRenderer().stop&&(e.setRendererState(a.RendererCompletingState.instance),e.getRenderer().stop())}}),a.RendererStartedState=function(){this._name="RendererStartedState"},a.RendererStartedState.prototype=new a.RendererState,a.RendererStartedState.prototype.constructor=a.RendererStartedState,
a.RendererStartedState.instance=new a.RendererStartedState,a.Util.mixin(a.RendererStartedState.prototype,{complete:function(e){console.log(this._name+" complete()"),e.setRendererState(a.RendererCompletingState.instance)},stop:function(e){console.log(this._name+" stop()"),"function"==typeof e.getRenderer().stop&&(e.setRendererState(a.RendererCompletingState.instance),!1===e.getRenderer().stop()&&e.getAdInstance().fakeComplete())}}),a.RendererCompletingState=function(){this._name="RendererCompletingState"},a.RendererCompletingState.prototype=new a.RendererState,a.RendererCompletingState.prototype.constructor=a.RendererCompletingState,a.RendererCompletingState.instance=new a.RendererCompletingState,a.Util.mixin(a.RendererCompletingState.prototype,{notifyCompleted:function(e){console.log(this._name+" notifyCompleted()"),e.setRendererState(a.RendererCompletedState.instance),e.getAdInstance().complete()}}),a.RendererCompletedState=function(){this._name="RendererCompletedState"},a.RendererCompletedState.prototype=new a.RendererState,a.RendererCompletedState.prototype.constructor=a.RendererCompletedState,a.RendererCompletedState.instance=new a.RendererCompletedState,a.RendererFailedState=function(){this._name="RendererFailedState"},a.RendererFailedState.prototype=new a.RendererState,a.RendererFailedState.prototype.constructor=a.RendererFailedState,a.RendererFailedState.instance=new a.RendererFailedState,a.HTMLRenderer=function(){},a.HTMLRenderer.prototype={start:function(e){this.rendererController=e,e.getAdInstance().getSlot().getBase()?this._setupParameters()&&(this._render(),e.handleStateTransition(a.RENDERER_STATE_STARTED)):e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_SLOT,errorInfo:"slot base is empty"})},pause:function(){console.log("pause"),this.shouldEndAfterDuration&&this.timer&&this.timer.pause()},resume:function(){console.log("resume"),this.shouldEndAfterDuration&&this.timer&&this.timer.start()},stop:function(){return console.log("stop isMRAIDAd:"+this.isMRAIDAd+" tpc:"+this._tpc+" interstitial:"+this.shouldKeepInterstitial),this._stop()},_stop:function(){return console.log("_stop isMRAIDAd:"+this.isMRAIDAd+" tpc:"+this._tpc+" interstitial:"+this.shouldKeepInterstitial),this.isMRAIDAd||this._tpc!=a.TIME_POSITION_CLASS_DISPLAY||this.shouldKeepInterstitial?(this._cleanup(),void this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED)):!1},resize:function(){var e=this.rendererController.getAdInstance(),t=e.getSlot().getBase();e.getSlot().getTimePositionClass()==a.TIME_POSITION_CLASS_OVERLAY?!this.isMRAIDAd||this.isMRAIDAd&&this.mraid.state==this.mraid.STATEDEFAULT?(e="_fw_ad_container_html_"+e.getSlot().getCustomId()+"_",e=document.getElementById(e),e.style.width=t.style.width||"100%",e.style.height=t.style.height||"100%",this._layoutOverlayAd(this.defaultAdElement)):console.log("Cannot resize an MRAID ad that is not in the default state"):console.log("Cannot resize a non-overlay ad")},_cleanup:function(){if(console.log("_cleanup"),this.timer&&(this.timer.stop(),this.timer=null),this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null),window.removeEventListener?(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),window.removeEventListener("message",this.messageHandlerFunc,!1),window.removeEventListener("resize",this.viewportChangeFunc,!1),window.removeEventListener("scroll",this.viewportChangeFunc,!1)):window.detachEvent&&(window.detachEvent("onmessage",this.messageHandlerFunc),window.detachEvent("onresize",this.viewportChangeFunc),window.detachEvent("onscroll",this.viewportChangeFunc)),this.isMRAIDAd&&(this.mraid.inExpandedState()&&(console.log("stopping with expanded state, invoke close()"),this._mraidClose()),this.mraid.inDefaultState()))return console.log("stopping with default state, invoke close()"),void this._mraidClose();if(this.expandedAdElement){var e=this.expandedAdElement.parentNode;this.expandedAdElement._fw_closeButton&&e.removeChild(this.expandedAdElement._fw_closeButton),e.removeChild(this.expandedAdElement),this.expandedAdElement===this.defaultAdElement&&(this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null),this.defaultAdElement=null),this.expandedAdElement=null}if(this.expandedLightbox&&(e=this.expandedLightbox.parentNode,e.removeChild(this.expandedLightbox),this.expandedLightbox=null),this.rendererController.getAdInstance().getSlot().getTimePositionClass(),this.defaultAdElement){e=this.defaultAdElement.parentNode;var t=this.defaultAdElement;t.style.display="none",e!==this.rendererController.getAdInstance().getSlot().getBase()&&window.setTimeout(function(){for(var n=e&&e.childNodes||[],i=0;i<n.length;i++){var a=n[i];a===t&&e.removeChild(a)}},200),this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null),this.defaultAdElement=null}this.defaultAdElementContainer&&(e=this.defaultAdElementContainer.parentNode,e.removeChild(this.defaultAdElementContainer),this.defaultAdElementContainer=null),(this.shouldPauseContentWhenStart||this.isInterstitialNow&&!this.isMRAIDAd)&&this.rendererController.requestContentStateChange(!1)},_setupParameters:function(){var e=this.rendererController,t=e.getAdInstance(),n=t.getSlot().getTimePositionClass();this._tpc=n;var i=t.getActiveCreativeRendition();t=i.getBaseUnit(),i=i.getCreativeApi();var r;if(a.PLATFORM_NOT_SUPPORT_OVERLAY_AD&&n===a.TIME_POSITION_CLASS_OVERLAY)return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Overlay not supported on this device."}),!1;if(a.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&(n===a.TIME_POSITION_CLASS_MIDROLL||n===a.TIME_POSITION_CLASS_PAUSE_MIDROLL))return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Midroll, pause_midroll not supported on this device."}),!1;if(a.PLATFORM_IS_IPHONE_IPOD)switch(n){case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_PAUSE_MIDROLL:case a.TIME_POSITION_CLASS_OVERLAY:return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Midroll, pause_midroll and overlay ads are not supported on iPod, iPhone."}),!1;case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF)}if(this.adLoadTimeout=5,(r=e.getParameter(a.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT))&&(this.adLoadTimeout=0<Number(r)?Number(r):this.adLoadTimeout),this.shouldKeepInterstitial=!1,(r=e.getParameter(a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE))?this.shouldKeepInterstitial=r===a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL:"string"==typeof t&&(this.shouldKeepInterstitial=t.toLowerCase()===a.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL),this.isInterstitialNow=this.shouldKeepInterstitial,this.shouldPauseContentWhenStart=!1,this.shouldPauseContentWhenExpandOrClick=!this.shouldKeepInterstitial&&(n===a.TIME_POSITION_CLASS_DISPLAY||n===a.TIME_POSITION_CLASS_OVERLAY),this.shouldBackgroundTransparent=!1,r=e.getParameter(a.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT),"undefined"!=typeof r&&null!==r&&(this.shouldBackgroundTransparent=a.Util.str2bool(r)),this.shouldEndAfterDuration=n!==a.TIME_POSITION_CLASS_DISPLAY||this.shouldKeepInterstitial,r=e.getParameter(a.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION),"undefined"!=typeof r&&null!==r&&(this.shouldEndAfterDuration=a.Util.str2bool(r)),this.coadScriptName=e.getParameter(a.PARAMETER_RENDERER_DISPLAY_COAD_SCRIPT_NAME),this.coadScriptName||(this.coadScriptName=e.getParameter("coad_script_name")),this.primaryAnchor=e.getParameter(a.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR)||"bc",this.marginWidth=e.getParameter(a.PARAMETER_RENDERER_HTML_MARGIN_WIDTH)||0,this.marginHeight=e.getParameter(a.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT)||0,this.bootstrap=e.getParameter(a.PARAMETER_RENDERER_HTML_BOOTSTRAP),t=a.Util.getViewport(),this.defaultExpandWidth=t.width,this.defaultExpandHeight=t.height,this.isMRAIDAd="MRAID-1.0"===i,this.mraid=new function(e){this.STATELOADING="loading",this.STATEDEFAULT="default",this.STATEEXPANDED="expanded",this.STATEHIDDEN="hidden",this._renderer=e,this._state=this.STATELOADING,this._useCustomClose=!1,this.viewable=this.expandIsModal=!0,this._baseUrlExpanded=this._baseUrlDefault="",e=Object.defineProperty||function(e,t,n){n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set)},e(this,"baseUrl",{get:function(){return this.inExpandedState()?this._baseUrlExpanded||this._baseUrlDefault:this._baseUrlDefault},set:function(e){this.inExpandedState()?this._baseUrlExpanded=e:(this._baseUrlDefault=e,this._baseUrlExpanded="")}}),e(this,"useCustomClose",{get:function(){return this._useCustomClose},set:function(e){this._useCustomClose===!e&&(this._useCustomClose=!!e,this.pushData())}}),e(this,"placementType",{get:function(){return this._renderer.shouldKeepInterstitial?"interstitial":"inline"}}),e(this,"expandWidth",{get:function(){return this._renderer.requestedExpandWidth&&this._renderer.requestedExpandWidth<this._renderer.defaultExpandWidth?this._renderer.requestedExpandWidth:this._renderer.defaultExpandWidth}}),e(this,"expandHeight",{get:function(){return this._renderer.requestedExpandHeight&&this._renderer.requestedExpandHeight<this._renderer.defaultExpandHeight?this._renderer.requestedExpandHeight:this._renderer.defaultExpandHeight}}),e(this,"state",{get:function(){return this._state},set:function(e){console.log("mraid.state change "+this.state+" => "+e),this.state!==e&&(this._renderer.shouldPauseContentWhenExpandOrClick&&(e===this.STATEEXPANDED?this._renderer.rendererController.requestContentStateChange(!0):this.inExpandedState()&&this._renderer.rendererController.requestContentStateChange(!1)),e===this.STATEEXPANDED?(this._renderer.expandedAdElement?this._renderer.rendererController.processEvent({name:a.EVENT_AD_ACCEPT_INVITATION}):(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer.rendererController.processEvent({name:a.EVENT_AD_EXPAND})),this._renderer.presentInterstitial(),this._renderer.shouldEndAfterDuration&&this._renderer.timer.pause()):e===this.STATEDEFAULT&&(this._renderer.shouldKeepInterstitial?(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer.presentInterstitial()):(this.inExpandedState()&&(this._renderer.expandedAdElement!==this._renderer.defaultAdElement?this._renderer.rendererController.processEvent({name:a.EVENT_AD_CLOSE}):this._renderer.rendererController.processEvent({name:a.EVENT_AD_COLLAPSE})),this._renderer.expandedAdElement=null,this._renderer.presentInline()),this._renderer.shouldEndAfterDuration&&this._renderer.timer.start()),this._state=e,this.pushData(),e===this.STATEHIDDEN&&this._renderer.stop())}}),this.inLoadingState=function(){return this.state===this.STATELOADING},this.inDefaultState=function(){return this.state===this.STATEDEFAULT},this.inExpandedState=function(){return this.state===this.STATEEXPANDED},this.inHiddenState=function(){return this.state===this.STATEHIDDEN},this.pushData=function(){var e='mraid._Update("'+this.state+'", '+this.viewable+', "'+this.placementType+'", '+this.expandWidth+", "+this.expandHeight+", "+this.useCustomClose+", "+this.expandIsModal+")";console.log("mraid.pushData: going to invoke on iframe with "+e),this._renderer.defaultAdElement?(this._renderer.defaultAdElement.contentWindow.postMessage("fwsdk-bounce:"+e,"*"),this._renderer.expandedAdElement&&this._renderer.expandedAdElement!==this._renderer.defaultAdElement&&this._renderer.expandedAdElement.contentWindow.postMessage("fwsdk-bounce:"+e,"*")):console.log("_mraidPushData: no iframe suitable to send "+e)},a.log=function(e){console.log(e)},a.log=function(e){console.log(e)}}(this),this.onLoadFunc=a.Util.bind(this,function(){this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null),this.timer&&this.shouldEndAfterDuration&&this.timer.start()}),this.touchMoveDisabler=function(e){e.preventDefault()},console.log("setting parameters, adLoadTimeout: "+this.adLoadTimeout+", isMRAIDAd: "+this.isMRAIDAd+", shouldKeepInterstitial: "+this.shouldKeepInterstitial+", shouldEndAfterDuration: "+this.shouldEndAfterDuration+", shouldPauseContentWhenStart: "+this.shouldPauseContentWhenStart+", shouldPauseContentWhenExpandOrClick: "+this.shouldPauseContentWhenExpandOrClick+", shouldBackgroundTransparent: "+this.shouldBackgroundTransparent+", defaultExpandWidth: "+this.defaultExpandWidth+", defaultExpandHeight: "+this.defaultExpandHeight+", coadScriptName: "+this.coadScriptName+", primaryAnchor: "+this.primaryAnchor+", marginWidth: "+this.marginWidth+", marginHeight: "+this.marginHeight+", bootstrap: "+this.bootstrap),this.shouldKeepInterstitial){if(n===a.TIME_POSITION_CLASS_OVERLAY)return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_SLOT,errorInfo:"Interstitial ad is not supported on overlay slot."}),!1}else!this.isMRAIDAd||a.PLATFORM_IS_IPHONE_IPOD&&n!==a.TIME_POSITION_CLASS_DISPLAY||(e.setCapability(a.EVENT_AD_ACCEPT_INVITATION,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_CLOSE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_COLLAPSE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_EXPAND,a.CAPABILITY_STATUS_ON));return!0},_render:function(){console.log("_render");var b=this.rendererController,c=b.getAdInstance(),d=c.getSlot(),f=d.getTimePositionClass(),g=d.getBase(),k=c.getActiveCreativeRendition(),h=k.getDuration(),l=k.getPrimaryCreativeRenditionAsset();c=l.getUrl();var m=l.getContent();if(f===a.TIME_POSITION_CLASS_DISPLAY&&(g.innerHTML=""),this.timer=new a.Timer(h,a.Util.bind(this,this._stop)),this.coadScriptName&&"function"==typeof window[this.coadScriptName])this.defaultAdElement=window[this.coadScriptName](m,c,k.getHeight(),k.getWidth(),l.getMimeType(),d.getCustomId()),this.timer&&this.shouldEndAfterDuration&&this.timer.start();else{if(h=document.createElement("span"),h.id="_fw_ad_container_html_"+d.getCustomId()+"_",h.style.position="relative"===g.style.position?"absolute":"relative",h.style.display="inline-block",h.style.margin="0px",h.style.padding="0px",h.style.width=g.style.width||"100%",h.style.height=g.style.height||"100%",h.style.top=h.style.left="0px",g.appendChild(h),this.defaultAdElementContainer=h,!c&&!m)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),void this._stop();if("text/html_lit_nowrapper"==k.getContentType()||"text/html_lit_js_wc_nw"==k.getContentType()){if(this.isMRAIDAd||this.isInterstitialNow)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_VALUE}),void this._stop();if(!m)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),void this._stop();this.defaultAdElement=h,this.defaultAdElement.innerHTML=m,d=this.defaultAdElement.getElementsByTagName("script");var q=document.getElementsByTagName("head")[0];for(g=0;g<d.length;++g)if(d[g].src){var r=document.createElement("script");d[g].charset&&(r.charset=d[g].charset),d[g].src&&(r.src=d[g].src),d[g].innerHTML&&(r.innerHTML=d[g].innerHTML),r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||q.removeChild(r)},q.appendChild(r)}else r=d[g].innerHTML,eval(r);return this.presentInline(),void this.onLoadFunc()}k=document.createElement("iframe"),k.id="_fw_ad_container_iframe_"+d.getCustomId()+"_"+Math.random(),k.attachEvent?k.attachEvent("onload",this.onLoadFunc):k.onload=this.onLoadFunc,this.defaultAdElement=k,this.defaultAdElementContainer.appendChild(k),this._fillAdNode(k,c,m),this.isMRAIDAd&&(this.adLoadTimeoutTimer=new a.Timer(this.adLoadTimeout,a.Util.bind(this,function(){b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_TIMEOUT,errorModule:"HTMLRenderer",errorInfo:"Loading element timeout"}),f!==a.TIME_POSITION_CLASS_DISPLAY&&this.isMRAIDAd&&!this.mraid.inLoadingState()?this._mraidClose():this._stop()})),this.adLoadTimeoutTimer.start())}this.defaultAdElement||(d=g.getElementsByTagName("iframe"))&&0<d.length&&(this.defaultAdElement=d[d.length-1]),this.defaultAdElement?(this.defaultAdElement.frameBorder="0",this.shouldBackgroundTransparent&&(this.defaultAdElement.allowTransparency="true",this.defaultAdElement.style["background-color"]="rgba(255,255,255,0)"),this.isInterstitialNow?(this.expandedAdElement=this.defaultAdElement,this.presentInterstitial()):this.presentInline(),this.messageHandlerFunc=a.Util.bind(this,this._onWindowMessageReceived),this.viewportChangeFunc=a.Util.bind(this,function(){this.viewportChangeFuncTimer&&window.clearTimeout(this.viewportChangeFuncTimer),this.viewportChangeFuncTimer=window.setTimeout(a.Util.bind(this,this._onViewportResizeScroll),200)}),window.addEventListener?(window.addEventListener("message",this.messageHandlerFunc,!1),window.addEventListener("resize",this.viewportChangeFunc,!1),window.addEventListener("scroll",this.viewportChangeFunc,!1)):window.attachEvent&&(window.attachEvent("onmessage",this.messageHandlerFunc),window.attachEvent("onresize",this.viewportChangeFunc),window.attachEvent("onscroll",this.viewportChangeFunc))):this.isMRAIDAd&&(b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_UNKNOWN,errorModule:"HTMLRenderer",errorInfo:"Failed to find iframe in slotBase for MRAID ad"}),this._stop())},_layoutOverlayAd:function(e){console.log("_layoutOverlayAd");var t=this.rendererController.getAdInstance(),n=t.getSlot(),i=n.getVideoDisplaySize().width;n=n.getVideoDisplaySize().height;var a=t.getActiveCreativeRendition();switch(t=a.getWidth()||240,a=a.getHeight()||50,e.style.width=Math.min(t,i)+"px",e.style.height=Math.min(a,n)+"px",e.style.left=e.style.top=e.style.right=e.style.bottom="",this.primaryAnchor){case"tl":case"lt":e.style.top=this.marginHeight+"px",e.style.left=this.marginWidth+"px";break;case"tr":case"rt":e.style.top=this.marginHeight+"px",e.style.right=this.marginWidth+"px";break;case"bl":case"lb":e.style.bottom=this.marginHeight+"px",e.style.left=this.marginWidth+"px";break;case"br":case"rb":e.style.bottom=this.marginHeight+"px",e.style.right=this.marginWidth+"px";break;case"tc":case"ct":e.style.top=this.marginHeight+"px",e.style.left=.5*Math.max(0,i-t)+"px";break;case"lm":case"ml":e.style.left=this.marginWidth+"px",e.style.top=.5*Math.max(0,n-a)+"px";break;case"rm":case"mr":e.style.right=this.marginWidth+"px",e.style.top=.5*Math.max(0,n-a)+"px";break;case"mc":case"cm":case"c":case"m":e.style.left=.5*Math.max(0,i-t)+"px",e.style.top=.5*Math.max(0,n-a)+"px";break;default:case"bc":case"cb":e.style.bottom=this.marginHeight+"px",e.style.left=.5*Math.max(0,i-t)+"px"}},_fillAdNode:function(e,t,n){console.log("_fillAdNode, url:"+t+", content:"+(n?"<omited>":"<empty>"));var i=this.rendererController;if(t)e.src=t;else{if(!n)return i.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),!1;e=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument,e.open(),e.write(n),e.close()}return!0},presentInline:function(){console.log("presentInline"),this.isInterstitialNow=!1;var e=this.defaultAdElement;if(e){var t=this.rendererController.getAdInstance(),n=t.getSlot(),i=n.getTimePositionClass(),r=n.getWidth(),o=n.getHeight(),s=n.getVideoDisplaySize().width;n=n.getVideoDisplaySize().height;var l=t.getActiveCreativeRendition();switch(t=l.getWidth(),l=l.getHeight(),e.scrolling="no",e.style.overflow="hidden",i){case a.TIME_POSITION_CLASS_DISPLAY:e.style.position="",e.style.background=this.shouldBackgroundTransparent?"transparent":"",e.style.left="0px",e.style.top="0px",e.style.width=(t?t:r)+"px",e.style.height=(l?l:o)+"px";break;case a.TIME_POSITION_CLASS_OVERLAY:e.style.position="absolute",e.style.background=this.shouldBackgroundTransparent?"transparent":"white",this._layoutOverlayAd(e);break;default:e.style.position="absolute",e.style.background=this.shouldBackgroundTransparent?"transparent":"white",e.style.left="0px",e.style.top="0px",e.style.width=s+"px",e.style.height=n+"px"}}},presentInterstitial:function(){if(console.log("presentInterstitial, defaultExpandWidth: "+this.defaultExpandWidth+", defaultExpandHeight: "+this.defaultExpandHeight+", this.mraid.expandWidth: "+this.mraid.expandWidth+", this.mraid.expandHeight: "+this.mraid.expandHeight+", (Math.max(0, this.defaultExpandWidth - this.mraid.expandWidth) / 2) = "+Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+", (Math.max(0, this.defaultExpandHeight - this.mraid.expandHeight) / 2) = "+Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2),this.expandedAdElement){this.isInterstitialNow=!0,document.addEventListener&&(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),document.addEventListener("touchmove",this.touchMoveDisabler,!1));var e=this.expandedAdElement.parentNode;if(this.expandedLightbox||(this.expandedLightbox=document.createElement("div"),this.expandedLightbox.style.background="black",this.expandedLightbox.style.opacity=.8,this.expandedLightbox.style.position="fixed",this.expandedLightbox.style.top="0px",this.expandedLightbox.style.left="0px",this.expandedLightbox.style.zIndex=this.expandedLightbox.style["z-index"]=9999,e.appendChild(this.expandedLightbox)),this.expandedLightbox.style.width=this.defaultExpandWidth+"px",this.expandedLightbox.style.height=this.defaultExpandHeight+"px",this.expandedAdElement.frameBorder="0",this.expandedAdElement.scrolling="no",this.expandedAdElement.style.position="fixed",this.expandedAdElement.style.overflow="hidden",this.expandedAdElement.style.top=this.expandedAdElement.top=Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2+"px",this.expandedAdElement.style.left=this.expandedAdElement.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+"px",this.expandedAdElement.style.width=this.expandedAdElement.width=this.mraid.expandWidth+"px",this.expandedAdElement.style.height=this.expandedAdElement.height=this.mraid.expandHeight+"px",this.expandedAdElement.style.zIndex=this.expandedAdElement.style["z-index"]=1e4,console.log("presentInterstitial, expanded ad element size: (top, left, width, height) = ("+this.expandedAdElement.top+", "+this.expandedAdElement.left+", "+this.expandedAdElement.width+", "+this.expandedAdElement.height+")"),this.isMRAIDAd){var t=this.expandedAdElement._fw_closeButton;t||(t=document.createElement("div"),t.addEventListener?t.addEventListener("click",a.Util.bind(this,function(){this._mraidClose()})):t.attachEvent&&t.attachEvent("onclick",a.Util.bind(this,function(){this._mraidClose()})),t.style.position="fixed",t.style.margin="0px",t.style.padding="0px",t.style.width="25px",t.style.height="25px",t.style.zIndex=t.style["z-index"]=10001,e.appendChild(t),this.expandedAdElement._fw_closeButton=t),t.style.top=this.expandedAdElement.style.top,t.style.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+this.mraid.expandWidth-25+"px",t.innerHTML=this.mraid.useCustomClose?0<a.PLATFORM_ANDROID_VERSION?"   ":"":0<a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION?'<img style="width:25px; height:25px; border:0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4xJREFUeNrMmjFv2kAUxw/IUAZUw4AqJjIxMAQJ9sIHgDYLUqfSBTowJBudAmOnNCNeAitLyVgxxNlBgk+QTKgb6UQHhr7nniNj8PmM3zk86XQZOPt+ee/e+9+dI4zQms1mGTpsb6EVXH42h/YHmqHrukH17kjAiWvQfYT2gfeH2BjaHfYA9hwqCABkobvik9eI/qkIMYB2A0BPSkG4By44hErrQfvhx0MRn/F/Cy3LwjH0yhfZdRSThOhyCI2FZ/iuRrFYjMxmMyMwCEDc8nB6LSsDTBZg7g4GAYj7ANmI0gpeMDEPTxwDhBRMzAXiGrqv7PgMYTSA+eWZtQACvfCTHbedQzYbu4LwOvHolp3q9TorlUpsuVyyfr/P1us16ezi8TirVqtmP5lMzPcIiuepvc5EHT+4doPIZDImhPV3q9UyX0hl+MxOp2O+I5/Ps1qt5pWat4py1CE7Gm4jnf99Sph9z5Lw9gWf845HhLJjtVqx0WhEDuMGgaElYVdbWYuTDbxGYcwiELreskQiwXK5HFssFmyz2ZBA4PoTrA9nFhtCFnu2PCJdL6bTKYlnCCCYfe4WyGc/I4PCEEK8zD3Cw+rxkPjGDIMp2Rl+otRMDGHZaZRvTQ8yv55RBGEKSwQ5C/IEWRiFEGhnMVj1naCbJa9slk6nVUKg/T2h2iyhZywZ4/RCMplUCWFW+hPBsQ0ZjFMhEEOY9SRKLUv3rRnFEHtFI4nhRPelX1xH2FQYOYjf9EsJ8qQSQqVqth8dkYGI6oQK1awExKvYUQlNL5CFSghq1exiCwQxVEOEAGPEYFPyG2QKniS+CWNTRL05w7DSdf2blX7HYe7siD0ztteRm7B3doQww5c9Ow+vspcKRvHXbrfJBCBBmOH13XdnZe95jcKzJmoVK/KMhPV2JAq/UDG8TgJVCEA3GAlvGG5a61JGpmM4UKtYJ4zEs7fmuu8Qu8vU3xEK12EqlXJV0FZIgTe6QhAOcx/kUEKxYUhVZGX8Oft/sX9sNudz2zHXW13wCm6B71m4F6AiwyuECnhj7mtjxQdUKPcrQdStCELoEZtnNO6ZwiuGU8Xr4wE/HwzgJVDY19T49cOlzA9jsk/EC0iQMQ/cM+9C8MIngOjLDjj0o5oGrzVZBWsBa8TA78Cgnznh3QQe6we9j0cpPnTe1IYG4kgIZR5273mvCdIohg6G6TzI5O32T4ABAPsBS28k7apdAAAAAElFTkSuQmCC">':'<img style="width:25px; height:25px; border:0" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAwcHgiIGhlaWdodD0iNDAwcHgiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48Y2lyY2xlIGZpbGw9IiM2NjY2NjYiIGN4PSIyMDAuMTM5IiBjeT0iMTk5Ljg2IiByPSIxOTcuODYiLz48cGF0aCBmaWxsPSIjRjBGMEYwIiBzdHJva2U9IiNGMEYwRjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTExNC44NjUsMzAzLjY0NGMtNi4yMjYsNi4yMjctMTUuMzYzLDcuMTg2LTIwLjQwNywyLjE0NGwtMC41MjItMC41MjJjLTUuMDQzLTUuMDQzLTQuMDgzLTE0LjE4LDIuMTQ0LTIwLjQwN0wyODQuODYsOTYuMDc4YzYuMjI2LTYuMjI3LDE1LjM2Mi03LjE4NiwyMC40MDUtMi4xNDRsMC41MjIsMC41MjFjNS4wNDMsNS4wNDIsNC4wODMsMTQuMTc5LTIuMTQ0LDIwLjQwOEwxMTQuODY1LDMwMy42NDR6Ii8+PHBhdGggZmlsbD0iI0YwRjBGMCIgc3Ryb2tlPSIjRjBGMEYwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0zMDcuODE5LDI4OC42NjZjNS4xNTMsNS4xNTgsNS4wNDgsMTMuNjI0LTAuMjQxLDE4LjkxMWwwLDBjLTUuMjg4LDUuMjg5LTEzLjc1Miw1LjM5My0xOC45MDksMC4yNEw5MS45MDYsMTExLjA1NWMtNS4xNTYtNS4xNTYtNS4wNDgtMTMuNjIzLDAuMjQtMTguOTFsMCwwYzUuMjktNS4yODksMTMuNzU1LTUuMzk2LDE4LjkxMS0wLjI0MUwzMDcuODE5LDI4OC42NjZ6Ii8+PC9zdmc+">'}this.isMRAIDAd||this.rendererController.requestContentStateChange(!0)}},_onWindowMessageReceived:function(e){if(this.defaultAdElement&&(e.source===this.defaultAdElement.contentWindow||this.expandedAdElement&&e.source===this.expandedAdElement.contentWindow)){console.log("_onWindowMessageReceived, event.data:"+e.data+", event.origin:"+e.origin);var t=e.data.toString().split(":");if(t&&2<=t.length&&"fwsdk-invoke"===t[0]){var n=t[1];if((t=t.slice(2))&&0<t.length){for(var i=0;i<t.length;i++)t[i]=decodeURIComponent(t[i]);1===t.length&&(t=t[0])}else t=null;"iframe_ready"===n?(this.onLoadFunc&&e.source===this.defaultAdElement.contentWindow&&this.defaultAdElement!==this.expandedAdElement&&this.onLoadFunc(),t&&(t=a.Util.trim(t))&&this.isMRAIDAd&&(this.mraid.baseUrl=t),this.bootstrap&&e.source.postMessage("fwsdk-bounce:"+this.bootstrap,e.origin),e.source.postMessage('fwsdk-bounce:mraid._messagingModel = "postMessage"',e.origin),this.isMRAIDAd&&(e.source===this.defaultAdElement.contentWindow&&this.shouldPauseContentWhenStart&&this.rendererController.requestContentStateChange(!0),this.mraid.inLoadingState()?this.mraid.state=this.mraid.STATEDEFAULT:this.expandedAdElement&&e.source===this.expandedAdElement.contentWindow&&this.mraid.pushData())):this.isMRAIDAd?this._mraidMethods(n,t):"close"===n&&this._stop()}}},_mraidMethods:function(e,t){if(e&&this.isMRAIDAd)switch(console.log("_mraidMethods("+e+", "+t+")"),e){case"open":"string"==typeof t?this._mraidOpen(t):2<=t.length&&this._mraidOpen(t[0],a.Util.str2bool(t[1]));break;case"close":this._mraidClose();break;case"expand":this._mraidExpand(t);break;case"useCustomClose":t&&0<t.length?this.mraid.useCustomClose=a.Util.str2bool(t):console.log("Invalid parameter to useCustomClose");break;case"setExpandProperties":if(!t)break;this.requestedExpandWidth=Number(t[0]),this.requestedExpandHeight=Number(t[1]),this.requestedExpandWidth&&this.requestedExpandHeight&&(this.requestedExpandWidth!==this.defaultExpandWidth||this.requestedExpandHeight!==this.defaultExpandHeight)||(this.requestedExpandHeight=this.requestedExpandWidth=0),this.mraid.useCustomClose=a.Util.str2bool(t[2]),this.requestedExpandWidth===this.mraid.expandWidth&&this.requestedExpandHeight===this.mraid.expandHeight||this.mraid.pushData();break;case"log":console.log("MRAID log:"+t);break;default:console.log("Unknown MRAID function call: "+e+" with param:"+t)}},_mraidOpen:function(e,t){console.log("_mraidOpen("+e+"), baseUrl:"+this.mraid.baseUrl+", absolute Url"+(e=a.Util.getAbsoluteUrl(this.mraid.baseUrl,e)));var n=this.rendererController;n.getAdInstance(),e&&"string"==typeof e&&0<e.length?((t||"undefined"==typeof t)&&window.open(e),n.processEvent({name:a.EVENT_AD_CLICK,info:{showBrowser:!1,url:e}})):console.log("_mraidOpen: url required for open")},_mraidClose:function(){if(console.log("_mraidClose, current state: "+this.mraid.state),this.mraid.inExpandedState()){window.removeEventListener&&document.removeEventListener("touchmove",this.touchMoveDisabler,!1);var e=this.expandedAdElement,t=this.expandedAdElement._fw_closeButton;this.expandedAdElement._fw_closeButton=null;var n=this.expandedAdElement.parentNode;this.mraid.state=this.mraid.STATEDEFAULT,this.expandedLightbox&&(n.removeChild(this.expandedLightbox),this.expandedLightbox=null),e!==this.defaultAdElement&&(e.style.display="hidden",window.setTimeout(function(){n.removeChild(e)},50)),n.removeChild(t)}else this.mraid.inDefaultState()?this.mraid.state=this.mraid.STATEHIDDEN:console.log("_mraidClose: close() is only valid when in expanded/default state")},_mraidExpand:function(e){if(console.log("_mraidExpand, current state: "+this.mraid.state),this.mraid.inDefaultState())if(this.shouldKeepInterstitial)console.log("_mraidExpand: expand() is only valid for inline ad");else{if(e){var t=document.createElement("iframe");this.shouldBackgroundTransparent&&(t.allowTransparency="true",t.style["background-color"]="rgba(255,255,255,0)"),(this.defaultAdElementContainer||this.defaultAdElement.parentNode).appendChild(t),this.expandedAdElement=t,console.log("_mraidExpand("+e+"), baseUrl:"+this.mraid.baseUrl+", absolute Url"+(e=a.Util.getAbsoluteUrl(this.mraid.baseUrl,e))),this._fillAdNode(t,e,null)}this.mraid.state=this.mraid.STATEEXPANDED,this.isInterstitialNow=!0,this._onViewportResizeScroll()}else console.log("_mraidExpand: expand() is only valid when in default state")},_onViewportResizeScroll:function(){var e=a.Util.getViewport();this.defaultExpandWidth=e.width,this.defaultExpandHeight=e.height,this.isInterstitialNow&&this.presentInterstitial()},log:function(e){var t=this.rendererController.getAdInstance().getSlot();console.log("HTMLRenderer["+t+"]	"+e)},warn:function(e){var t=this.rendererController.getAdInstance().getSlot();console.log("HTMLRenderer["+t+"]	"+e)},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){return this.timer?this.timer.getPlayheadTime():-1},getDuration:function(){return this.timer?this.timer.getDuration():-1}},a.HTMLRenderer.prototype.constructor=a.HTMLRenderer,a.Ad=function(){var e=null,t=[],n=!1,i=null,r=!1;return{isRequiredToShow:function(){return r},parse:function(o){if(o){e=o.adId||null,n=o.noLoad,i=o.adUnit,o.hasOwnProperty("required")&&(r=o.required);var s=0;for(o=o.creatives||[];s<o.length;s++){var l=o[s],d=new a.Creative;d.parse(l),t.push(d)}}},getSoAdUnit:function(){return i},getId:function(){return e},getNoLoad:function(){return n},getCreative:function(e){for(var n=0;n<t.length;n++)if(t[n].getId()===e)return t[n];return null},addCreativeRendition:function(){var e=new a.Creative;return t.push(e),e}}},a.Creative=function(){var e=null,t=null,n=null,i={},r=[];return{getId:function(){return e},getBaseUnit:function(){return t},getDuration:function(){return n},getParameter:function(e){return i[e]},setParameter:function(e,t){null==t?delete i[e]:i[e]=t},parse:function(o){
if(o){if(e=o.creativeId||null,t=o.baseUnit||null,n=1*o.duration,o.parameters)if(o.parameters.constructor===Array)for(var s=0,l=o.parameters||[];s<l.length;s++){var d=l[s];i[d.name]=d.value}else"object"==typeof o.parameters&&(i=a.Util.copy(o.parameters));for(s=0,l=o.creativeRenditions||[];s<l.length;s++){d=l[s],o=new a.CreativeRendition,o.parse(d),o.setDuration(n),o.setBaseUnit(t);for(name in i)o.setParameter(name,i[name]);r.push(o)}}},getAllCreativeRenditions:function(){return r},addCreativeRendition:function(e){r.push(e)},getEligibleCreativeRenditionsForAdInstance:function(e){var t,n=[],i=[];for(t=0;t<r.length;t++){var a=r[t];a.getId()==e._creativeRenditionId&&a.getReplicaId()==e._replicaId&&n.push(a),""==a.getReplicaId()&&i.push(a)}return 0==n.length?i:n},cloneForTranslation:function(){var r=new a.Creative;return r.parse({creativeId:e,baseUnit:t,duration:n,parameters:a.Util.copy(i)}),r}}},a.CreativeRendition=function(){var e=null,t="None",n=null,i="",r=null,o=null,s=null,l=null,d=null,c=null,u={},_=null,p=[],h=null,g=null;return{getId:function(){return e},getCreativeApi:function(){return t},setCreativeApi:function(e){t=e||"None"},getReplicaId:function(){return i},getContentType:function(){return r?r:_&&_.getContentType()?_.getContentType():null},setContentType:function(e){r=e},getWrapperType:function(){return o},setWrapperType:function(e){o=e},getWrapperUrl:function(){return s},setWrapperUrl:function(e){s=e},getBaseUnit:function(){return n},setBaseUnit:function(e){n=e},getPreference:function(){return l},setPreference:function(e){l=e},getWidth:function(){return d},setWidth:function(e){d=e},getHeight:function(){return c},setHeight:function(e){c=e},getDuration:function(){return h},setDuration:function(e){h=e},getParameter:function(e){return u[e]},setParameter:function(e,t){null==t?delete u[e]:u[e]=t},getUniversalAdId:function(){return g},setUniversalAdId:function(e){g=e},getPrimaryCreativeRenditionAsset:function(){return _},getOtherCreativeRenditionAssets:function(){return p.slice()},addCreativeRenditionAsset:function(e,t){var n=new a.CreativeRenditionAsset;return n.setName(e),t?_=n:p.push(n),n},parse:function(n){if(n){e=n.creativeRenditionId||null,t=n.creativeApi||"None",i=n.hasOwnProperty("adReplicaId")?n.adReplicaId:"",r=n.contentType||null,o=n.wrapperType||null,s=n.wrapperUrl||null,l=1*n.preference,d=1*n.width,c=1*n.height;for(var h,g=0,f=n.parameters||[];g<f.length;g++)h=f[g],u[h.name]=h.value;for(_=new a.CreativeRenditionAsset,_.parse(n.asset),g=0,f=n.otherAssets||[];g<f.length;g++)h=f[g],n=new a.CreativeRenditionAsset,n.parse(h),p.push(n)}}}},a.CreativeRenditionAsset=function(){var e=null,t=null,n=null,i=null,a=null,r=null;return{getName:function(){return e},setName:function(t){e=t},getUrl:function(){return t},setUrl:function(e){t=e},getContent:function(){return n},setContent:function(e){n=e},getContentType:function(){return i},setContentType:function(e){i=e},getMimeType:function(){return a},setMimeType:function(e){a=e},getBytes:function(){return r},setBytes:function(e){r=e},parse:function(o){o&&(e=o.name||null,t=o.url||null,n=o.content||null,i=o.contentType||null,a=o.mimeType||null,r=1*o.bytes)}}},a.AdInstance=function(e){this._context=e,this._creativeRenditionId=this._creativeId=this._soAdUnit=this._adId=this._slot=null,this._replicaId="",this._primaryCreativeRendition=this._creative=null,this._creativeRenditions=[],this._noLoad=!1,this._companionAdInstances=[],this._eventCallbacks=[],this._externalEventCallbackUrlsDictionary={},this._rendererController=new a.RendererController(e,this),this._timer=new a.Timer,this._metr=0,this._state=a.MediaInitState.instance,this._isStartSuccessfully=this._translated=this._isImpressionSent=this._isInitiatedSent=!1,this._lastDurationFromRenderer=-1,this._slotCustomId=this._parentAdInstancesGroup=null,this._isSkipped=!1},a.AdInstance.prototype={},a.AdInstance.prototype.constructor=a.AdInstance,a.METR_MASK_QUARTILE=0,a.METR_MASK_MIDPOINT=1,a.METR_MASK_COMPLETE=2,a.METR_MASK_VOLUME=3,a.METR_MASK_SIZE=4,a.METR_MASK_CONTROL=5,a.METR_MASK_REWIND=6,a.METR_MASK_ACCEPT_INVITATION=7,a.METR_MASK_CLOSE=8,a.METR_MASK_MINIMIZE=9,a.METR_MASK_CLICK=10,a.AdInstance._metrDictionary={},a.AdInstance._metrDictionary[a.EVENT_AD_FIRST_QUARTILE]=a.AdInstance._metrDictionary[a.EVENT_AD_THIRD_QUARTILE]=a.AdInstance._metrDictionary[a.EVENT_AD_QUARTILE]=1<<a.METR_MASK_QUARTILE|1<<a.METR_MASK_MIDPOINT|1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_MIDPOINT]=1<<a.METR_MASK_MIDPOINT|1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_COMPLETE]=1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_MUTE]=1<<a.METR_MASK_VOLUME,a.AdInstance._metrDictionary[a.EVENT_AD_UNMUTE]=1<<a.METR_MASK_VOLUME,a.AdInstance._metrDictionary[a.EVENT_AD_COLLAPSE]=1<<a.METR_MASK_SIZE,a.AdInstance._metrDictionary[a.EVENT_AD_EXPAND]=1<<a.METR_MASK_SIZE,a.AdInstance._metrDictionary[a.EVENT_AD_PAUSE]=1<<a.METR_MASK_CONTROL,a.AdInstance._metrDictionary[a.EVENT_AD_RESUME]=1<<a.METR_MASK_CONTROL,a.AdInstance._metrDictionary[a.EVENT_AD_REWIND]=1<<a.METR_MASK_REWIND,a.AdInstance._metrDictionary[a.EVENT_AD_ACCEPT_INVITATION]=1<<a.METR_MASK_ACCEPT_INVITATION,a.AdInstance._metrDictionary[a.EVENT_AD_CLOSE]=1<<a.METR_MASK_CLOSE,a.AdInstance._metrDictionary[a.EVENT_AD_MINIMIZE]=1<<a.METR_MASK_MINIMIZE,a.AdInstance._metrDictionary[a.EVENT_AD_CLICK]=1<<a.METR_MASK_CLICK,a.Util.mixin(a.AdInstance.prototype,{getAdId:function(){return this._adId},getUniversalAdId:function(){return this.getActiveCreativeRendition()?this.getActiveCreativeRendition().getUniversalAdId():null},getSoAdUnit:function(){return this._soAdUnit},getEventCallbackUrls:function(e,t){var n=[],i=t===a.EVENT_TYPE_CLICK,r=t===a.EVENT_TYPE_CLICK_TRACKING;return(e=a.EventCallback.getEventCallback(this._eventCallbacks,e,r?a.EVENT_TYPE_CLICK:t))?(t={},t[a.INFO_KEY_NEED_EMPTY_CT]=!0,i?e._showBrowser&&n.push(e.getUrl(t)):r?e._showBrowser||n.push(e.getUrl(t)):n.push(e.getUrl(t)),i||(n=n.concat(e.getTrackingUrls())),n):n},addEventCallbackUrls:function(e,t,n){n&&this._isValidEventNameAndType(e,t)&&(this._externalEventCallbackUrlsDictionary[t+"-"+e]=this.getExternalEventCallbackUrls(e,t).concat(n||[]))},setClickThroughUrl:function(e,t){t&&this._isValidEventNameAndType(e,a.EVENT_TYPE_CLICK)&&(e=this.getEventCallback(e,a.EVENT_TYPE_CLICK))&&(a.Util.isParameterInURL(e._url,a.URL_PARAMETER_KEY_CR)||(e._url=e._url+"&"+a.URL_PARAMETER_KEY_CR+"="),e._url=a.Util.setParameterInURL(e._url,a.URL_PARAMETER_KEY_CR,t),e._showBrowser=!0)},addCreativeRendition:function(){var e=new a.CreativeRendition;return e.parse({creativeRenditionId:this._creativeRenditionId,adReplicaId:this._replicaId,preference:0}),e.setBaseUnit(this._creative.getBaseUnit()),e.setDuration(this._creative.getDuration()),this._creativeRenditions.push(e),this.isPlaceholder()&&(this._noLoad=!1),e},getRendererController:function(){return this._rendererController},getSlot:function(){return this._slot||(this._slot=this._context._adResponse.getSlotByCustomId(this._slotCustomId)),this._slot},getCompanionSlots:function(){for(var e=[],t=0;t<this._companionAdInstances.length;t++)e.push(this._companionAdInstances[t]._slot);return e},getActiveCreativeRendition:function(){return this._primaryCreativeRendition},setActiveCreativeRendition:function(e){e?(-1==this._creativeRenditions.indexOf(e)&&this._creativeRenditions.push(cr),this._primaryCreativeRendition=e,this._creativeRenditionId=e.getId()):console.log("AdInstance.setActiveCreativeRendition","rendition is null")},getAllCreativeRenditions:function(){var e=this._creativeRenditions.slice();e.sort(function(e,t){return t.getPreference()-e.getPreference()});var t=e.indexOf(this._primaryCreativeRendition);return t>-1&&(e.splice(t,1),e.unshift(this._primaryCreativeRendition)),e},getRenderableCreativeRenditions:function(){var e=this._creativeRenditions.slice().sort(function(e,t){return t.getPreference()-e.getPreference()}).filter(function(e){return this._rendererController.rendererMatch(e)},this),t=e.indexOf(this._primaryCreativeRendition);return t>-1&&(e.splice(t,1),e.unshift(this._primaryCreativeRendition)),e},getPlayheadTime:function(){var e=-1;if(this._rendererController.getRenderer()&&"function"==typeof this._rendererController.getRenderer().getPlayheadTime)try{e=this._rendererController.getRenderer().getPlayheadTime()}catch(t){console.log("AdInstance.getPlayheadTime",t.description)}return e},getDuration:function(){var e=-1;return this._rendererController.getRenderer()&&"function"==typeof this._rendererController.getRenderer().getDuration&&(this._lastDurationFromRenderer=e=this._rendererController.getRenderer().getDuration()),-1===e&&(e=-1<this._lastDurationFromRenderer?this._lastDurationFromRenderer:this.getActiveCreativeRendition().getDuration()),e},parse:function(e){if(e){this._adId=e.adId||null,this._creativeId=e.creativeId||null,this._creativeRenditionId=e.creativeRenditionId||null,this._replicaId=e.hasOwnProperty("replicaId")?e.replicaId:"",this._noLoad=this._context._adResponse.getAd(this._adId).getNoLoad(),this._soAdUnit=this._context._adResponse.getAd(this._adId).getSoAdUnit(),this._creative=this._context._adResponse.getCreative(this._adId,this._creativeId),this._creativeRenditions=this._creative.getEligibleCreativeRenditionsForAdInstance(this);var t,n=0;for(t=e.eventCallbacks||[];n<t.length;n++){iter=t[n];var i=a.EventCallback.newEventCallback(this._context,iter.name,iter.type);i&&(i._adInstance=this,i.parse(iter),this._eventCallbacks.push(i))}for(n=0,t=e.companionAds||[];n<t.length;++n)(iter=t[n])&&iter.adSlotCustomId&&(i=new a.AdInstance(this._context),i._slotCustomId=iter.adSlotCustomId,i.parse(iter),this._companionAdInstances.push(i));for(n=0,t=e.fallbackAds||[];n<t.length;++n)iter=t[n],i=new a.AdInstance(this._context),this._parentAdInstancesGroup.push(i),i._slot=this._slot,i._parentAdInstancesGroup=this._parentAdInstancesGroup,i.parse(iter);0<this._creativeRenditions.length&&(this._primaryCreativeRendition=this._creativeRenditions[0])}},play:function(){if(console.log("AdInstance.play "+this._slotCustomId),this._timer.tick(),this.processEvent(a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION),this._isStartSuccessfully||(a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(a.EVENT_AD_IMPRESSION,{adInstance:this,slotCustomId:this._slotCustomId}),this._isStartSuccessfully=!0),this._state.play(this),this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]===a.MODULE_TYPE_RENDERER)for(var e=0;e<this._companionAdInstances.length;e++)this._companionAdInstances[e].isPlaceholder()||this._companionAdInstances[e].getSlot().playCompanionAds(this._companionAdInstances[e])},pause:function(){console.log("AdInstance.pause "+this._slotCustomId),this._isStartSuccessfully?this._rendererController&&this._rendererController.pause():console.log("Ad hasn't started yet. Ignore.")},resume:function(){console.log("AdInstance.resume"+this._slotCustomId),this._isStartSuccessfully?this._rendererController&&this._rendererController.resume():console.log("Ad hasn't started yet. Ignore.")},skip:function(){console.log("AdInstance.skip"),"VPAID"!=this.getActiveCreativeRendition().getCreativeApi()?(this._isSkipped=!0,this.processEvent(a.EVENT_AD_SKIPPED,a.EVENT_TYPE_GENERIC),this.stop()):console.log("VPAID creative, skip has been implemented inside of VPAID")},stop:function(){console.log("AdInstance.stop"),this._rendererController.stop()},fakeComplete:function(){this._slot.getTimePositionClass()===a.TIME_POSITION_CLASS_DISPLAY&&(this._isStartSuccessfully=!1,this._slot.playNextAdInstance())},complete:function(){this._isStartSuccessfully&&(this.processEvent(a.EVENT_AD_IMPRESSION_END,a.EVENT_TYPE_IMPRESSION),a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(a.EVENT_AD_IMPRESSION_END,{adInstance:this})),this._state.complete(this),this._rendererController._restorePlaceholdersForHybrid(),this._rendererController.setRenderer(null),this._isStartSuccessfully=!1,this._slot.playNextAdInstance()},isStarted:function(){return this._isStartSuccessfully},onStartPlaying:function(){a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]?this._isImpressionSent=!0:this._translated=!0},onCompletePlaying:function(){},onStartReplaying:function(){},onCompleteReplaying:function(){},getEventCallback:function(e,t){return a.EventCallback.getEventCallback(this._eventCallbacks,e,t)},processEvent:function(e,t,n,i){var r=!0;return t=this.getEventCallback(e,t),e===a.EVENT_AD_IMPRESSION&&this._isStartSuccessfully&&(t=this.getEventCallback(a.EVENT_ERROR,a.EVENT_TYPE_ERROR),n={errorInfo:"Trying to send defaultImpression multiple times"},r=!1),t?i||t.process(n):r=!1,e===a.EVENT_AD_CLICK&&this._context.dispatchEvent(a.EVENT_AD_CLICK,{adInstance:this}),(e!=a.EVENT_AD_IMPRESSION&&e!=a.EVENT_AD_IMPRESSION_END||a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE])&&(i={subType:e,adInstance:this,slot:this._slot},e===a.EVENT_ERROR&&(i[a.INFO_KEY_ERROR_CODE]=n[a.INFO_KEY_ERROR_CODE],i[a.INFO_KEY_ERROR_INFO]=n[a.INFO_KEY_ERROR_INFO],i[a.INFO_KEY_ERROR_MODULE]=n[a.INFO_KEY_ERROR_MODULE]),e===a.EVENT_AD_MEASUREMENT&&(i[a.INFO_KEY_CONCRETE_EVENT_ID]=n[a.INFO_KEY_CONCRETE_EVENT_ID]),this._context.dispatchEvent(a.EVENT_AD,i)),r},setVolume:function(e){console.log("AdInstance.setVolume("+e+")"),this.isStarted()&&"function"==typeof this._rendererController.getRenderer().setVolume&&this._rendererController.getRenderer().setVolume(e)},setMetr:function(e,t){var n=a.AdInstance._metrDictionary[e];n&&(e===a.EVENT_AD_CLICK&&(t=!t),this._metr=t===a.CAPABILITY_STATUS_ON||!0===t?this._metr|n:this._metr&~n)},getExternalEventCallbackUrls:function(e,t){return(this._externalEventCallbackUrlsDictionary[t+"-"+e]||[]).slice()},reset:function(){this._rendererController.reset();for(var e=0;e<this._companionAdInstances.length;e++){var t=this._companionAdInstances[e];t._state!==a.MediaPlayingState.instance&&t._state!==a.MediaReplayingState.instance||t.stop(),t._rendererController.reset()}},cloneForTranslation:function(){var e=new a.AdInstance(this._context);e._parent=this,e._adId=this._adId,e._creativeId=this._creativeId,e._creative=this._creative.cloneForTranslation(),e._creativeRenditionId=this._creativeRenditionId,e._isInitiatedSent=this._isInitiatedSent,e._noLoad=this._noLoad,e._slot=this.getSlot(),e._soAdUnit=this.getSoAdUnit(),e._replicaId=this._replicaId;for(var t=0;t<this._eventCallbacks.length;t++){var n=this._eventCallbacks[t].copy();n._adInstance=e,e._eventCallbacks.push(n)}for(e._externalEventCallbackUrlsDictionary=a.Util.copy(this._externalEventCallbackUrlsDictionary),t=0;t<this._companionAdInstances.length;t++)this._companionAdInstances[t].isPlaceholder()?e._companionAdInstances.push(this._companionAdInstances[t].cloneForTranslation()):e._companionAdInstances.push(this._companionAdInstances[t]);return e},isPlaceholder:function(){return this._noLoad},setMediaState:function(e){this._state=e},_isValidEventNameAndType:function(e,t){return a.Util.isBlank(e)||a.Util.isBlank(t)?!1:t===a.EVENT_TYPE_CLICK||t===a.EVENT_TYPE_CLICK_TRACKING||t===a.EVENT_TYPE_IMPRESSION&&(e===a.EVENT_AD_IMPRESSION||e===a.EVENT_AD_FIRST_QUARTILE||e===a.EVENT_AD_MIDPOINT||e===a.EVENT_AD_THIRD_QUARTILE||e===a.EVENT_AD_COMPLETE)||t===a.EVENT_TYPE_STANDARD&&(e===a.EVENT_AD_PAUSE||e===a.EVENT_AD_RESUME||e===a.EVENT_AD_REWIND||e===a.EVENT_AD_MUTE||e===a.EVENT_AD_UNMUTE||e===a.EVENT_AD_COLLAPSE||e===a.EVENT_AD_EXPAND||e===a.EVENT_AD_MINIMIZE||e===a.EVENT_AD_CLOSE||e===a.EVENT_AD_ACCEPT_INVITATION)||t===a.EVENT_TYPE_ERROR&&e===a.EVENT_ERROR},isPlayable:function(){var e=!(this._rendererController.getRendererState()==a.RendererFailedState.instance&&!this._isImpressionSent);return e?((e=e&&!this._translated)||console.log("AdInstance.isPlayable returning false translated:",this._translated),e):(console.log("AdInstance.isPlayable returning false isImpressionSent:",this._isImpressionSent),e)},toString:function(){return"[AdInstance "+this._adId+"]"},getCompanionAdInstances:function(){for(var e=[],t=0;t<this._companionAdInstances.length;++t)this._companionAdInstances[t].isPlaceholder()||e.push(this._companionAdInstances[t]);return e},isRequiredToShow:function(){return this._context._adResponse.getAd(this._adId).isRequiredToShow()}}),a.AdManager=function(){var e=this;this._context=this.newContext(),this._context.addEventListener(a.EVENT_REQUEST_COMPLETE,function(t){e.onRequestComplete(t)}),this._networkId=this._serverURL="",this._onRequestComplete=this._location=null},a.AdManager.prototype={getVersion:function(){if(a.version){var e=a.version.match(/^js-(\d)\.(\d)\.(\d).(\d)/)||a.version.match(/^js-(\d)\.(\d)\.(\d)/)||a.version.match(/^js-(\d)\.(\d)/);if(null!=e&&0<e.length){for(var t=0,n=0;n<e.length-1;n++)t+=e[e.length-n-1]<<(n<<3);return t}if(0===a.version.indexOf("js-master"))return 4294967295}return 0},setNetwork:function(e){if(console.log("AdManager.setNetwork("+Array.prototype.slice.call(arguments).join(",")+")"),1*e>0){this._networkId=1*e;for(var t in a._instanceQueue)if(a._instanceQueue.hasOwnProperty(t)){var n=a._instanceQueue[t];n&&n._videoAsset._videoPlayPending&&n._videoAsset.play()}}else console.log("AdManager.setNetwork","valid networkId required")},setServerURL:function(e){console.log("AdManager.setServerURL("+Array.prototype.slice.call(arguments).join(",")+")"),console.log("AdManager.setServerURL method is DEPRECATED, use AdManager.setServer instead."),this.setServer(e)},setServer:function(e){if(console.log("AdManager.setServer("+Array.prototype.slice.call(arguments).join(",")+")"),e&&"string"==typeof e){this._serverURL=e;for(var t in a._instanceQueue)if(a._instanceQueue.hasOwnProperty(t)){var n=a._instanceQueue[t];n&&n._videoAsset._videoPlayPending&&n._videoAsset.play()}}else console.log("AdManager.setServer","server url required")},setLocation:function(e){console.log("AdManager.setLocation("+Array.prototype.slice.call(arguments).join(",")+")"),this._location=e},newContext:function(){return console.log("AdManager.newContext("+Array.prototype.slice.call(arguments).join(",")+")"),new a.Context(this)},newContextWithContext:function(e){console.log("AdManager.newContextWithContext("+Array.prototype.slice.call(arguments).join(",")+")");var t=this.cloneContext(e);t._temporalSlotBase=e._temporalSlotBase,e.getContentVideoElement()&&(t.setContentVideoElement(e.getContentVideoElement()),delete t._temporalSlotBase["_fw_contentVideo_"+e._instanceId]),t._videoDisplaySize=e._videoDisplaySize,t._overriddenAdRenderers=e._overriddenAdRenderers,t._currentContentPlayheadTime=e._currentContentPlayheadTime,t.startSubsession(e._adRequest._subsessionToken),t.setRequestMode(e._adRequest._requestMode),t._adRequest._compatibleDimensions=e._adRequest._compatibleDimensions,t._videoAsset._state=e._videoAsset._state,t._videoAsset._callbackTimer=e._videoAsset._callbackTimer,t._videoAsset._videoPlayPending=e._videoPlayPending,t._videoAsset._requestedVideoViewUrl=e._videoAsset._requestedVideoViewUrl,t._videoAsset._delay=e._videoAsset._delay,t._videoAsset._durationType=e._videoAsset._durationType;var n,i=e._extensionManager.extensions;for(n in i)t.loadExtension(i[n]);return this._context=t},setParameter:function(e,t,n){console.log("AdManager.setParameter("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setParameter(e,t,n)},getParameter:function(e){return this._context.getParameter(e)},submitRequest:function(e,t){console.log("AdManager.submitRequest()"),e&&"function"==typeof e?this._onRequestComplete=e:console.log("AdManager.submitRequest(): callback function required"),this._context.submitRequest(t/1e3)},onRequestComplete:function(e){console.log("AdManager.onRequestComplete("+Array.prototype.slice.call(arguments).join(",")+")"),this._onRequestComplete&&(this._onRequestComplete({success:e.success,response:e.response}),this._onRequestComplete=null)},registerVideoDisplayBase:function(e){console.log("AdManager.registerVideoDisplayBase("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.registerVideoDisplayBase(e)},setVideoAsset:function(e,t){console.log("AdManager.setVideoAsset("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setVideoAsset(e,t)},setSiteSection:function(e){console.log("AdManager.setSiteSection("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setSiteSection(e)},addKeyValue:function(e,t){console.log("AdManager.addKeyValue("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.addKeyValue(e,t)},setVideoDisplayCompatibleSizes:function(e){console.log("AdManager.setVideoDisplayCompatibleSizes("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setVideoDisplayCompatibleSizes(e)},playSlots:function(e,t){console.log("AdManager.playSlots() has DEPRECATED, use tv.freewheel.SDK.Slot.Play() instead"),console.log("AdManager.playSlots("+e+")"),"string"==typeof e&&(e=e.toUpperCase()),this._playSlots(e,t)},_playSlots:function(e,t){if("function"!=typeof t&&(t=function(){}),this._context._adResponse){for(var n=[],i=this._context.getTemporalSlots(),r=0;r<i.length;++r){var o=i[r];(.1>Math.abs(o.getTimePosition()-e)||e===o.getTimePositionClass())&&n.push(o)}if(0===n.length)console.log("AdManager.playSlots","no slot matches",e),t();else if(e===a.TIME_POSITION_CLASS_OVERLAY)for(r=0;r<n.length;r++)(function(e){if(!e._onContentVideoTimeUpdate){var t=this._context.getContentVideoElement(),n=e._onContentVideoTimeUpdate=function(i){!t.paused&&!0!==t._fw_videoAdPlaying&&0<=t.currentTime-e.getTimePosition()&&1>t.currentTime-e.getTimePosition()&&(t.removeEventListener("timeupdate",n,!1),e._play(function(){var i=setInterval(function(){!t.paused&&2<Math.abs(t.currentTime-e.getTimePosition())&&(t.addEventListener("timeupdate",n,!1),clearInterval(i))},1e3)}))};t.addEventListener("timeupdate",n,!1)}})(n[r]);else(function(){var e=n.shift();e?e._play(t):t()})()}else console.log("AdManager._playSlots","request is not completed"),t()},dispose:function(){console.log("AdManager.dispose()"),this._context.dispose(),this._onRequestComplete=null},cloneContext:function(e){var t,n=this.newContext(),i=e._adRequest._capabilities._capabilities;for(t in i)i.hasOwnProperty(t)&&n.setCapability(t,i[t]);return n.setProfile(e._adRequest._playerProfile),n.setSiteSection(e._ss_id,e._ss_networkId,e._ss_pageViewRandom,e._ss_idType,e._ss_fallbackId),n.setVideoAsset(e._va_id,e._va_duration,e._va_networkId,e._va_location,e._va_autoPlayType,e._va_viewRandom,e._va_idType,e._va_fallbackId,e._va_durationType),n.setVisitor(e._adRequest._visitorCustomId,e._adRequest._visitorIpV4Address),n}},a.AdManager.prototype.constructor=a.AdManager,a.AdRequest=function(e){this._context=e,this._capabilities=new a.Capabilities,this._keyValues=[],this._playerProfile="",this._compatibleDimensions=null,this._temporalSlots=[],this._siteSectionId=this._siteSectionCustomId="",this._siteSectionNetworkId=0,this._siteSectionFallbackId="",this._siteSectionViewRandom=0,this._requestMode=this._visitorIpV4Address=this._visitorCustomId="",this._subsessionToken=this._requestDuration=0,this._candidateAdIds=[],this._slotScanner=new a.PageSlotScanner(e),this._urlParams={},this._urlKeyValues=[],this._customInfo=""},a.AdRequest.prototype={setCapability:function(e,t){this._capabilities.setCapability(e,t)},addKeyValue:function(e,t){"string"!=typeof e||"string"!=typeof t||0===e.length?console.log("AdRequest.addKeyValue:","key and value required"):(e=encodeURIComponent(e)+"="+encodeURIComponent(t),0>this._keyValues.indexOf(e)&&this._keyValues.push(e))},setProfile:function(e){"string"!=typeof e?console.log("AdRequest.setProfile:","player profile required"):this._playerProfile=e},setVideoDisplayCompatibleSizes:function(e){if(e&&e.length){for(var t=[],n={},i=0;i<e.length;++i)if(console.log("dimension is:",e[i].width,"X",e[i].height),0<e[i].width&&0<e[i].height){var a=e[i].width+","+e[i].height;null==n[a]&&(n[a]="",t.push(a))}0<t.length&&(this._compatibleDimensions=t.join("|"))}else console.log("AdRequest.setVideoDisplayCompatibleSizes:","compatible dimensions required")},setSiteSection:function(e,t,n,i,r){if(e){switch(i){case a.ID_TYPE_FW:this._siteSectionId=e;break;case a.ID_TYPE_GROUP:this._siteSectionId="g"+e;break;default:this._siteSectionCustomId=e}1*t>0&&(this._siteSectionNetworkId=1*t),1*n>0&&(this._siteSectionViewRandom=1*n),"number"==typeof r&&r>0?this._siteSectionFallbackId=""+r:"string"==typeof r&&(this._siteSectionFallbackId=r.trim())}else console.log("AdRequest.setSiteSection: id required")},setVisitor:function(e,t){"string"!=typeof e?console.log("AdRequest.setVisitor:","customId required"):(this._visitorCustomId=e,"string"==typeof t&&""!==t&&(this._visitorIpV4Address=t))},setRequestMode:function(e){e!==a.REQUEST_MODE_ON_DEMAND&&e!==a.REQUEST_MODE_LIVE?console.log("AdRequest.setRequestMode:","unknown mode: "+e):(this._requestMode=e,this._requestMode==a.REQUEST_MODE_LIVE&&0==this._subsessionToken&&this.setSubsessionToken(1e4*Math.random()+1))},setRequestDuration:function(e){"number"!=typeof e?console.log("AdRequest.setRequestDuration:","request duration required"):(0>e&&(console.log("AdRequest.setRequestDuration:","requestDuration is negative, reset it to 0"),e=0),this._requestDuration=e)},addCandidateAd:function(e){"number"!=typeof e?console.log("AdRequest.addCandidateAd:","candidate ad ID required"):0>e?console.log("AdRequest.addCandidateAd","invalid ad ID, ignore"):this._candidateAdIds.push(e)},addTemporalSlot:function(e,t,n,i,r,o,s,l){if(a.Util.isBlank(e)||a.Util.isBlank(t)||0>n)console.log("AdRequest.addTemporalSlot:","invalid parameters");else{for(var d=0;d<this._temporalSlots.length;d++)if(this._temporalSlots[d].getCustomId()===e)return void console.log("AdRequest.addTemporalSlot:","slot is already existed, ignored");d=new a.Slot(this._context),d.setCustomId(e),d.setAdUnit(t),d.setTimePosition(n),d.setSlotProfile(i),d.setCuepointSequence(1*r),d.setMaxDuration(o),d.setMinDuration(s),d.setAcceptContentType(l),this._temporalSlots.push(d)}},setSubsessionToken:function(e){this._subsessionToken=e},scanPageSlots:function(){this._slotScanner.scanPageSlots()},generateTypeBRequestUrl:function(){var e=this._context._adManager._serverURL.split("?"),t=e[0],n=[/fwmrm\.net$/,/fwmrm\.net\/$/,/fwmrm\.net\/ad$/,/fwmrm\.net\/ad\/$/,/fwmrm\.net\/ad\/g$/,/fwmrm\.net\/ad\/g\/$/,/fwmrm\.net\/ad\/g\/1$/];if(0===t.indexOf("http://")||0===t.indexOf("https://"))for(var i=0;i<n.length;++i)if(t.match(n[i])){t=t.slice(0,t.indexOf("fwmrm.net")+9)+"/ad/g/1";break}return this.parseQueryStr(e.slice(1).join("?")),e=this.generateGlobalParametersQueryStr()+";"+this.generateKeyValuesStr()+";",this._capabilities.getCapability(a.CAPABILITY_SKIP_AD_SELECTION)&&1==this._capabilities.getCapability(a.CAPABILITY_SKIP_AD_SELECTION)||(e+=this.generateSlotsTypeBStr()),a.Util.isBlank(this._customInfo)||(e+=";"+this._customInfo),t+"?"+e},generateVideoViewRequestUrlWithDummyContextInstanceId:function(e){this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_ON),this._context.setCapability(a.CAPABILITY_SKIP_AD_SELECTION,a.CAPABILITY_STATUS_ON);var t=this.generateTypeBRequestUrl();return t=a.Util.setParameterInURL(t,"cbfn","tv.freewheel.SDK._instanceQueue['Context_"+e+"']._videoAsset.requestComplete"),console.log("generateVideoViewRequestUrlWithDummyContextInstanceId():"+t),this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_UNSET),this._context.setCapability(a.CAPABILITY_SKIP_AD_SELECTION,a.CAPABILITY_STATUS_UNSET),t},parseQueryStr:function(e){if(console.log("AdRequest.parseQueryStr("+Array.prototype.slice.call(arguments).join(",")+")"),this._urlParams={},this._urlKeyValues=[],this._customInfo="",e){";"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1));var t,n=e.split(";");if(n[0]){var i=n[0].split("&");for(t=0;t<i.length;++t){var a=i[t].split("=");2===a.length&&(this._urlParams[a[0]]=a[1])}}if(n[1])for(i=n[1].split("&"),t=0;t<i.length;++t)this._urlKeyValues.push(i[t]);n[2]&&(this._customInfo=n.slice(2).join(";"))}},generateGlobalParametersQueryStr:function(){console.log("AdRequest.generateGlobalParametersQueryStr");var e=this._context.getParameter("wrapperVersion");e=[["prof",this._playerProfile,"string"],["nw",this._context._adManager._networkId,"number"],["caid",this._context._videoAsset._customId,"string"],["asid",this._context._videoAsset._id,"string"],["vdur",this._context._videoAsset._duration,"number"],["asnw",this._context._videoAsset._networkId,"number"],["asml",this._context._videoAsset._location,"string"],["vprn",this._context._videoAsset._viewRandom,"number"],["afid",this._context._videoAsset._fallbackId,"string"],["vdty",this._context._videoAsset._durationType,"string"],["vtpo",this._context._videoAsset._currentTpos,"number"],["csid",this._siteSectionCustomId,"string"],["ssid",this._siteSectionId,"string"],["ssnw",this._siteSectionNetworkId,"number"],["pvrn",this._siteSectionViewRandom,"number"],["sfid",this._siteSectionFallbackId,"string"],["vcid",this._visitorCustomId,"string"],["mode",this._requestMode,"string"],["vrdu",this._requestDuration,"number"],["ssto",this._subsessionToken,"number"],["cd",this._compatibleDimensions||this.detectScreenDimension(),"string"],["vclr",a.version+(e?","+e:""),"string"],["resp",a.PLATFORM_SEND_REQUEST_BY_FORM?"json2":"json","string"],["orig",window.location.protocol+"//"+window.location.host,"string"],["cbfn","tv.freewheel.SDK._instanceQueue['Context_"+this._context._instanceId+"'].requestComplete","string"],["vip",this._visitorIpV4Address,"string"],["cana",this._candidateAdIds.join(","),"string"]];for(var t=0;t<e.length;t++){var n=e[t];switch(n[2]){case"string":a.Util.isBlank(n[1])||(this._urlParams[n[0]]=encodeURIComponent(n[1]));break;case"number":0<n[1]&&(this._urlParams[n[0]]=n[1])}}e="";for(var i in this._urlParams)this._urlParams.hasOwnProperty(i)&&(e+=i+"="+this._urlParams[i]+"&");switch(e=e.substring(0,e.length-1),0<this._slotScanner._candidateAds.length&&(null==this._capabilities._capabilities[a.CAPABILITY_CHECK_COMPANION]&&this._capabilities.setCapability(a.CAPABILITY_CHECK_COMPANION,a.CAPABILITY_STATUS_ON),null==this._capabilities._capabilities[a.CAPABILITY_CHECK_TARGETING]&&this._capabilities.setCapability(a.CAPABILITY_CHECK_TARGETING,a.CAPABILITY_STATUS_OFF)),this._context._videoAsset._eventCallback||this._context._videoAsset._requestedVideoViewUrl||!this._context._videoAsset._id&&!this._context._videoAsset._customId||this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_ON),this._capabilities._capabilities[a.CAPABILITY_DISPLAY_REFRESH]&&this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_OFF),e=this._capabilities.parseCapabilities(e),this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_UNSET),this._context._videoAsset._autoPlayType){case a.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED:i="+play+uapl";break;case a.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE:i="-play";break;default:i="+play-uapl"}return e=e.replace(/flag=/,"flag="+encodeURIComponent(i))},generateKeyValuesStr:function(){console.log("AdRequest.generateKeyValuesStr");var e=a.Util.flashVersion();e=this._keyValues.concat(["_fw_h_x_flash_version="+encodeURIComponent(e),"_fw_dpr="+(void 0===window.devicePixelRatio?"1":window.devicePixelRatio.toFixed(2).toString())]);for(var t=0;t<this._urlKeyValues.length;t++){var n=this._urlKeyValues[t];0>e.indexOf(n)&&e.push(n)}return(t=this._context._adManager._location)&&e.push("ltlg="+encodeURIComponent(Math.round(1e4*t.coords.latitude)/1e4+","+Math.round(1e4*t.coords.longitude)/1e4)),e.join("&")},generateSlotsTypeBStr:function(){console.log("AdRequest.generateSlotsTypeBStr");for(var e="",t=[],n=0;n<this._temporalSlots.length;n++){var i=this._temporalSlots[n];i=[["slid",i.getCustomId(),"string"],["slau",i.getAdUnit(),"string"],["ptgt","a","string"],["tpos",i.getTimePosition(),"number"],["cpsq",i.getCuepointSequence(),"number"],["envp",i.getSlotProfile(),"string"],["maxd",i.getMaxDuration(),"number"],["mind",i.getMinDuration(),"number"],["prct",i.getAcceptContentType(),"string"]];
for(var r=[],o=0;o<i.length;o++){var s=i[o];switch(s[2]){case"string":a.Util.isBlank(s[1])||r.push(s[0]+"="+encodeURIComponent(s[1]));break;case"number":-1<["cpsq","maxd","mind"].indexOf(s[0])?0<s[1]&&r.push(s[0]+"="+s[1]):0<=s[1]&&r.push(s[0]+"="+s[1])}}t.push(r.join("&"))}return 0<t.length&&(e=t.join(";")+";"),e+=this._slotScanner.slotsToTypeBStr()},detectScreenDimension:function(){return console.log("AdRequest.detectScreenDimension:",screen.width+","+screen.height),screen.width+","+screen.height}},a.AdResponse=function(e){this._context=e},a.AdResponse.prototype={},a.AdResponse.prototype.constructor=a.AdResponse,a.Util.mixin(a.AdResponse.prototype,{parse:function(e,t){this._data=e,this._temporalSlots=[],this._videoPlayerNonTemporalSlots=[],this._siteSectionNonTemporalSlots=[],this._profileParameters={},this._ads=[],this._siteSectionCustomId=a.Util.getObject("siteSection.customId",e)||"",this._adRenderers=[];var n,i=a.Util.getObject("parameters",e)||[];for(n=0;n<i.length;++n){var r=i[n];this._profileParameters[r.name]=r.value}for(this._adRenderers=a.Util.getObject("rendererManifest.adRenderers.adRenderer",e)||[],n=0;n<this._adRenderers.length;n++)"undefined"!=typeof this._adRenderers[n].adUnit&&(this._adRenderers[n].baseUnit=this._adRenderers[n].adUnit,delete this._adRenderers[n].adUnit);for(i=a.Util.getObject("ads.ads",e)||[],n=0;n<i.length;++n)r=new a.Ad(this._context),r.parse(i[n]),this._ads.push(r);for(i=a.Util.getObject("siteSection.videoPlayer.videoAsset.adSlots",e)||[],n=0;n<i.length;++n)r=new a.Slot(this._context),r.setType(a.SLOT_TYPE_TEMPORAL),r.setBase(t),r.parse(i[n]),this._temporalSlots.push(r);for(i=a.Util.getObject("siteSection.videoPlayer.adSlots",e)||[],n=0;n<i.length;++n)r=new a.Slot(this._context),r.setType(a.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL),r.setTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),r.parse(i[n]),this._initSlotData(r),this._videoPlayerNonTemporalSlots.push(r);for(i=a.Util.getObject("siteSection.adSlots",e)||[],n=0;n<i.length;++n)r=new a.Slot(this._context),r.setType(a.SLOT_TYPE_SITESECTION_NONTEMPORAL),r.setTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),r.parse(i[n]),this._initSlotData(r),this._siteSectionNonTemporalSlots.push(r);e=a.Util.getObject("siteSection.videoPlayer.videoAsset",e)||{},this._context._videoAsset.parse(e)},getCreative:function(e,t){return(e=this.getAd(e))?e.getCreative(t):null},getAd:function(e){for(var t=0;t<this._ads.length;t++){var n=this._ads[t];if(n.getId()===e)return n}return null},getTemporalSlots:function(){return this._temporalSlots},getSiteSectionNonTemporalSlots:function(){return this._siteSectionNonTemporalSlots},getVideoPlayerNonTemporalSlots:function(){return this._videoPlayerNonTemporalSlots},getSiteSectionCustomId:function(){return this._siteSectionCustomId},getSlotByCustomId:function(e){for(var t=0;t<this._temporalSlots.length;++t)if(this._temporalSlots[t].getCustomId()===e)return this._temporalSlots[t];for(t=0;t<this._videoPlayerNonTemporalSlots.length;++t)if(this._videoPlayerNonTemporalSlots[t].getCustomId()===e)return this._videoPlayerNonTemporalSlots[t];for(t=0;t<this._siteSectionNonTemporalSlots.length;++t)if(this._siteSectionNonTemporalSlots[t].getCustomId()===e)return this._siteSectionNonTemporalSlots[t];return console.log("getSlotByCustomId(): not found",e),null},_initSlotData:function(e){for(var t=!1,n=0;n<this._context._adRequest._slotScanner._knownSlots.length;n++){var i=this._context._adRequest._slotScanner._knownSlots[n];if(e.getCustomId()===i.id&&i.element){e.setWidth(i.width),e.setHeight(i.height),e.setBase(i.element),e.setAcceptCompanion(i.acceptCompanion),e.setInitialAdOption(i.initialAdOption),t=!0;break}}return t||console.log("Failed to init slot "+e.getCustomId()),t}}),a.Capabilities=function(e){this._capabilities={},this.init()},a.Capabilities.prototype={init:function(){for(var e=[a.CAPABILITY_SLOT_TEMPLATE,a.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS,a.CAPABILITY_FALLBACK_UNKNOWN_ASSET,a.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION,a.CAPABILITY_FALLBACK_ADS,a.CAPABILITY_SLOT_CALLBACK,a.CAPABILITY_NULL_CREATIVE,a.CAPABILITY_AUTO_EVENT_TRACKING,a.CAPABILITY_RENDERER_MANIFEST],t=0;t<e.length;t++)this._capabilities[e[t]]=a.CAPABILITY_STATUS_ON},setCapability:function(e,t){this._capabilities[e]=t},getCapability:function(e){return this._capabilities[e]},parseCapabilities:function(e){var t,n="";for(t in this._capabilities)if(this._capabilities.hasOwnProperty(t)){switch(this._capabilities[t]){case a.CAPABILITY_STATUS_ON:n+="+"+t;break;case a.CAPABILITY_STATUS_OFF:n+="-"+t}e=e.replace(new RegExp("(%2B|-|\\+)"+t,"g"),"")}return n=encodeURIComponent(n),e=-1<e.indexOf("flag=")?e.replace(/flag=/,"flag="+n):e+("&flag="+n)}},a.ContentVideoExtension=function(){this.autoSourceRestore=this.respondPauseResume=!0,this._originalTime=0,this._contentVideoControls=this._contentVideoSrc=null},a.ContentVideoExtension.prototype={_isEnabled:function(){var e=this._context.getParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED);return(null===e||!0===a.Util.str2bool(e))&&null!==this._context.getContentVideoElement()},_getBooleanParameter:function(e,t){return e=this._context.getParameter(e),null==e&&(e=t),a.Util.str2bool(e)},init:function(e){console.log("ContentVideoExtension.init(context)"),this._context=e,this._fixContentVideoCurrentTime=a.Util.bind(this,function(e){if(!(0>=this._context.getContentVideoElement().currentTime||0>=this._context.getContentVideoElement().seekable.length)&&(this._context.getContentVideoElement().removeEventListener("timeupdate",this._fixContentVideoCurrentTime,!1),0<this._context.getContentVideoElement().currentTime&&1>this._context.getContentVideoElement().currentTime&&1<this._originalTime)){console.log("ContentVideoExtension: seeking to original time",this._originalTime);try{this._context.getContentVideoElement().currentTime=this._originalTime}catch(t){console.log("ContentVideoExtension: seek error")}}}),this._pause=a.Util.bind(this,function(e){this._isEnabled()?this._respondPauseResume()&&(console.log("ContentVideoExtension: EVENT_CONTENT_VIDEO_PAUSE_REQUEST pausing content video",this._context.getContentVideoElement().src),this._originalTime=this._context.getContentVideoElement().currentTime,this._context.getContentVideoElement().pause()):console.log("ContentVideoExtension: extension is not enabled, do nothing.")}),this._resume=a.Util.bind(this,function(e){this._isEnabled()?this._respondPauseResume()&&(console.log("ContentVideoExtension: EVENT_CONTENT_VIDEO_RESUME_REQUEST resume content video",this._context.getContentVideoElement().src),!this._context._videoAsset||null!=this._context._videoAsset._state&&this._context._videoAsset._state!==a.VIDEO_STATE_COMPLETED?(console.log("ContentVideoExtension: resume content video"),this._context.getContentVideoElement().play(),a.PLATFORM_AUTO_SEEK_AFTER_MIDROLL&&!0===this._getBooleanParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK,!0)&&this._context.getContentVideoElement().addEventListener("timeupdate",this._fixContentVideoCurrentTime,!1)):console.log("ContentVideoExtension: video state is uninitialized or completed, skip resume.")):console.log("ContentVideoExtension: extension is not enabled, do nothing.")}),this._onAttach=a.Util.bind(this,function(e){if(this._isEnabled()){if(this._autoSourceRestore())switch(e.slot.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:console.log("ContentVideoExtension: store current content video src",this._context.getContentVideoElement().src),this._contentVideoSrc=this._context.getContentVideoElement().src,this._contentVideoControls=this._context.getContentVideoElement().controls,this._context.getContentVideoElement().paused||this._context.getContentVideoElement().pause()}}else console.log("ContentVideoExtension: extension is not enabled, do nothing.")}),this._onDetach=a.Util.bind(this,function(e){if(this._isEnabled()){if(this._autoSourceRestore())switch(e=e.slot.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:console.log("ContentVideoExtension: restore content video src to",this._contentVideoSrc),this._context.getContentVideoElement().src!==this._contentVideoSrc&&(this._context.getContentVideoElement().src=this._contentVideoSrc),this._context.getContentVideoElement().controls=this._contentVideoControls,e===a.TIME_POSITION_CLASS_PREROLL&&this._context.getContentVideoElement().load()}}else console.log("ContentVideoExtension: extension is not enabled, do nothing.")}),console.log("ContentVideoExtension: enabling content video pause resume request handling."),this._context.addEventListener(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this._pause),this._context.addEventListener(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this._resume),console.log("ContentVideoExtension: enabling content video source management."),this._context.addEventListener(a.EVENT_SLOT_STARTED,this._onAttach),this._context.addEventListener(a.EVENT_SLOT_ENDED,this._onDetach)},_respondPauseResume:function(){return this._getBooleanParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME,!0)},_autoSourceRestore:function(){return this._getBooleanParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!0)},dispose:function(){console.log("ContentVideoExtension.dispose()"),this._context&&(this._context.removeEventListener(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this._pause),this._context.removeEventListener(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this._resume),this._context.removeEventListener(a.EVENT_SLOT_STARTED,this._onAttach),this._context.removeEventListener(a.EVENT_SLOT_ENDED,this._onDetach),this._context=null)}},a.ContentVideoExtension.prototype.constructor=a.ContentVideoExtension,a._instanceCounter=0,a._instanceQueue={},a.Context=function(e){this._adManager=e,this._eventDispatcher=new a.EventDispatcher,this._adRequest=new a.AdRequest(this),this._adResponse=null,this._videoAsset=new a.VideoAsset(this),this._temporalSlotBase=null,this._videoDisplaySize={},this._globalLevelParameterDictionary={},this._overrideLevelParameterDictionary={},this._rendererManifest={},this._overriddenAdRenderers=[],this._extensionManager=new a.ExtensionManager(this),this._totalSetDisplaySizeCount=this._autoSetDisplaySizeCount=this._requestState=0,this._instanceId=a._instanceCounter,a._instanceQueue["Context_"+a._instanceCounter]=this,a._instanceCounter++,this._contentVideoAttached=!1,this._currentContentPlayheadTime=0,this._ss_id="",this._ss_networkId=this._ss_pageViewRandom=0,this._ss_idType=a.ID_TYPE_CUSTOM,this._va_location=this._va_networkId=this._va_duration=this._va_id=this._ss_fallbackId="",this._va_autoPlayType=a.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED,this._va_fallbackId="",this._va_viewRandom=0,this._va_idType=a.ID_TYPE_CUSTOM,this._va_durationType=a.VIDEO_ASSET_DURATION_TYPE_EXACT,this._isRefreshRequest=!1,this._refreshSlots=[],this._adVolume=1,this._onVolumeChange=this.__onVolumeChange.bind(this)},a.Context.prototype={getAdVolume:function(e){return this._adVolume},setAdVolume:function(e){if(console.log("Context.setAdVolume",e),this.getContentVideoElement())if("number"!=typeof e||0>e||e>1)console.log("Invalid volume: "+e);else if((a.PLATFORM_IS_IPHONE_IPOD||a.PLATFORM_IS_IPAD)&&e>0&&1>e)console.log("iOS doesn't allow volume values other than 0 and 1, ignore.");else if(e==this._adVolume)console.log("Volume did not change, ignore.");else{this._adVolume=e,e=this.getTemporalSlots();for(var t=0;t<e.length;++t){var n=e[t];if(n.getType()==a.SLOT_TYPE_TEMPORAL&&n.getState()!==a.MediaInitState.instance&&n.getState()!==a.MediaEndState.instance&&(n=n.getCurrentAdInstance())){n.setVolume(this._adVolume);break}}}else console.log("No video element set, ignore.")},__onVolumeChange:function(e){console.log("Context._onVolumeChange(): video element is muted: "+this.getContentVideoElement().muted),0==this._adVolume?this.setAdVolume(this.getContentVideoElement().volume):this.setAdVolume(this.getContentVideoElement().muted?0:this.getContentVideoElement().volume)},addRenderer:function(e,t,n,i,a,r,o){this._overriddenAdRenderers.push({url:e,baseUnit:t,contentType:n,creativeApi:r,slotType:i,soAdUnit:a,parameter:o})},setCapability:function(e,t){console.log("Context.setCapability",e,t),this._adRequest.setCapability(e,t)},addKeyValue:function(e,t){console.log("Context.addKeyValue",e,t),this._adRequest.addKeyValue(e,t)},setParameter:function(e,t,n){if(console.log("Context.setParameter",e,t,n),n===a.PARAMETER_LEVEL_GLOBAL)n=this._globalLevelParameterDictionary;else{if(n!==a.PARAMETER_LEVEL_OVERRIDE)return;n=this._overrideLevelParameterDictionary}null==t?delete n[e]:n[e]=t},getParameter:function(e){return e?this._overrideLevelParameterDictionary.hasOwnProperty(e)?this._overrideLevelParameterDictionary[e]:this._adResponse&&this._adResponse._profileParameters.hasOwnProperty(e)?this._adResponse._profileParameters[e]:this._globalLevelParameterDictionary.hasOwnProperty(e)?this._globalLevelParameterDictionary[e]:null:null},setVideoState:function(e){console.log("Context.setVideoState",e),this._videoAsset.setVideoState(e)},registerVideoDisplayBase:function(e){if(console.log("Context.registerVideoDisplayBase",e),e&&"string"==typeof e){if(this._temporalSlotBase&&this._temporalSlotBase.id===e){console.log("Context.registerVideoDisplayBase","register the same display base, will only change size");var t=this._temporalSlotBase.getElementsByTagName("video")}else{if(this._temporalSlotBase=document.getElementById(e),!this._temporalSlotBase)return void console.log("Context.registerVideoDisplayBase","could not get element",e);if(t=this._temporalSlotBase.getElementsByTagName("video"),0===t.length)return console.log("Context.registerVideoDisplayBase","could not get video element from",e),void(this._temporalSlotBase=null);this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=t[0],this.getContentVideoElement().addEventListener("volumechange",this._onVolumeChange),this._adVolume=t[0].muted?0:t[0].volume}this._setVideoDisplaySizeByContentVideo(t[0])}else console.log("Context.registerVideoDisplayBase","id required")},setContentVideoElement:function(e){console.log("Context.setContentVideoElement()"),e&&e.parentNode?(this._temporalSlotBase=e.parentNode,this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]===e?console.log("Context.setContentVideoElement","set the same video in same div, will only change size"):(this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=e,this.getContentVideoElement().addEventListener("volumechange",this._onVolumeChange),this._adVolume=this.getContentVideoElement().muted?0:this.getContentVideoElement().volume),this._setVideoDisplaySizeByContentVideo(e)):console.log("Context.setContentVideoElement","contentVideo and contentVideo.parentNode is required")},getContentVideoElement:function(){return this._temporalSlotBase?this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]:(console.log("SlotBase is null"),null)},setVideoDisplaySize:function(e,t,n,i,r){console.log("Context.setVideoDisplaySize("+Array.prototype.slice.call(arguments).join(",")+")"),this._totalSetDisplaySizeCount++,this._videoDisplaySize={left:e,top:t,width:n,height:i,position:r};for(var o=this.getTemporalSlots(),s=0;s<o.length;++s){var l=o[s];if(l.getState()===a.MediaPlayingState.instance||l.getState()===a.MediaReplayingState.instance){(o=l.getCurrentAdInstance())&&((o=o.getRendererController().getRenderer())&&o.resize?o.resize():console.log("renderer do not support resize"));break}}},getVideoDisplaySize:function(){function e(e){return e=parseInt(e,10),isNaN(e)&&(e=0),e}return this._videoDisplaySize.left=e(this._videoDisplaySize.left),this._videoDisplaySize.right=e(this._videoDisplaySize.right),this._videoDisplaySize.width=e(this._videoDisplaySize.width),this._videoDisplaySize.height=e(this._videoDisplaySize.height),this._videoDisplaySize},setVideoDisplayCompatibleSizes:function(e){console.log("Context.setVideoDisplayCompatibleSizes",e),this._adRequest.setVideoDisplayCompatibleSizes(e)},setProfile:function(e){console.log("Context.setProfile",e),this._adRequest.setProfile(e)},setVideoAsset:function(e,t,n,i,a,r,o,s,l){console.log("Context.setVideoAsset("+Array.prototype.slice.call(arguments).join(",")+")"),this._videoAsset.setVideoAsset(e,t,n,i,a,r,o,s,l),this._va_id=e,this._va_duration=t,this._va_networkId=n,this._va_location=i,this._va_autoPlayType=a,this._va_viewRandom=r,this._va_idType=o,this._va_fallbackId=s,this._va_durationType=l},setVideoAssetCurrentTimePosition:function(e){console.log("Context.setVideoAssetCurrentTimePosition("+e+")"),this._videoAsset.setVideoAssetCurrentTimePosition(e)},setSiteSection:function(e,t,n,i,a){console.log("Context.setSiteSection("+Array.prototype.slice.call(arguments).join(",")+")"),this._adRequest.setSiteSection(e,t,n,i,a),this._ss_id=e,this._ss_networkId=t,this._ss_pageViewRandom=n,this._ss_idType=i,this._ss_fallbackId=a},setVisitor:function(e,t){console.log("Context.setVisitor("+Array.prototype.slice.call(arguments).join(",")+")"),this._adRequest.setVisitor(e,t)},startSubsession:function(e){console.log("Context.startSubsession("+e+")"),this._adRequest.setSubsessionToken(e)},setRequestMode:function(e){console.log("Context.setRequestMode("+e+")"),this._adRequest.setRequestMode(e)},setRequestDuration:function(e){console.log("Context.setRequestDuration("+e+")"),this._adRequest.setRequestDuration(e)},addCandidateAd:function(e){console.log("Context.addCandidateAd("+e+")"),this._adRequest.addCandidateAd(e)},addTemporalSlot:function(e,t,n,i,a,r,o,s){console.log("Context.addTemporalSlot("+Array.prototype.slice.call(arguments).join(",")+")"),this._adRequest.addTemporalSlot(e,t,n,i,a,r,o,s)},getTemporalSlots:function(){return this._adResponse?this._adResponse._temporalSlots.slice():[]},getSlotByCustomId:function(e){return this._adResponse?this._adResponse.getSlotByCustomId(e):null},getSlotsByTimePositionClass:function(e){var t=[];if(this._adResponse){for(var n=0;n<this._adResponse._temporalSlots.length;n++)this._adResponse._temporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._temporalSlots[n]);for(n=0;n<this._adResponse._siteSectionNonTemporalSlots.length;n++)this._adResponse._siteSectionNonTemporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._siteSectionNonTemporalSlots[n]);for(n=0;n<this._adResponse._videoPlayerNonTemporalSlots.length;n++)this._adResponse._videoPlayerNonTemporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._videoPlayerNonTemporalSlots[n])}return t},submitRequest:function(e){if(console.log("Context.submitRequest",e),this.dispatchEvent(a.EVENT_REQUEST_INITIATED,{}),this._requestState)console.log("Context.submitRequest: request already submitted");else if(a.Util.isBlank(this._adManager._serverURL))console.log("Context.submitRequest: serverURL is not set");else{if(this._requestState=1,this._adRequest.scanPageSlots(),this._isRefreshRequest){for(var t={},n=[],i=0;i<this._refreshSlots.length;i++){var r=this._refreshSlots[i];if(void 0!=this._adRequest._slotScanner._slots[r]){t[r]=this._adRequest._slotScanner._slots[r];for(var o=t[r].split("&"),s=0;s<o.length;s++)-1!==o[s].search("flag")&&(o[s]="flag=-cmpn");t[r]=o.join("&")}for(s=0;s<this._adRequest._slotScanner._knownSlots.length;s++)this._adRequest._slotScanner._knownSlots[s].id==r&&(o=this._adRequest._slotScanner._knownSlots[s],o.acceptCompanion=!1,o.initialAdOption=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,n.push(o))}this._adRequest._slotScanner._slots=t,this._adRequest._slotScanner._knownSlots=n}this.getParameter(a.PARAMETER_ENABLE_FORM_TRANSPORT)&&(console.log("Context.submitRequest: enabling Safari transport mechanism globally"),a.PLATFORM_SEND_REQUEST_BY_FORM=!0),t=this._adManager._serverURL,".js"!==t.substring(t.length-3,t.length)&&(t=this._adRequest.generateTypeBRequestUrl());var l=this;("number"!=typeof e||0>=e||!e)&&(e=5),setTimeout(function(){1===l._requestState&&(console.log("Context.submitRequest: request timeout"),l.requestComplete(null))},1e3*e),console.log("Context.submitRequest: sending request to",t,"timeout",e),a.PLATFORM_SEND_REQUEST_BY_FORM?(console.log("Context.submitRequest:","use json2"),a.Util.pingURLWithForm(t,this._instanceId,!0),l._onMessagePosted=function(e){"object"==typeof e.data&&e.data.hasOwnProperty("cbfn")&&-1<e.data.cbfn.indexOf("['Context_"+l._instanceId+"']")&&l.requestComplete(e.data.response)},window.addEventListener("message",l._onMessagePosted,!1)):a.Util.pingURLWithScript(t)}},requestComplete:function(e){if(1!==this._requestState)console.log("ad request complete after timeout"),this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!1});else{if(this._requestState=2,console.log("Context.requestComplete"),a.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);var t=document.getElementById("_fw_request_iframe_"+this._instanceId);document.body.removeChild(t)}if(null!==e){a._instanceQueue["Context_"+this._instanceId]=null,this._adResponse=new a.AdResponse(this),this._adResponse.parse(e,this._temporalSlotBase),console.log("Ad request succeeded"),t=(this._adResponse._profileParameters.autoloadExtensions||"").split(",");for(var n=0;n<t.length;n++){var i=t[n].trim();console.log("Loading extension: "+i),this.loadExtension(i)}for(this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!0,response:e}),t=this._adResponse.getSiteSectionNonTemporalSlots(),e=0;e<t.length;++e)console.log("Auto play site section nonTemporal slots"),t[e].play();for(t=this._adResponse.getVideoPlayerNonTemporalSlots(),e=0;e<t.length;++e)console.log("Auto play video player nonTemporal slots"),t[e].play()}else console.log("Ad request failed"),this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!1})}},addEventListener:function(e,t){console.log("Context.addEventListener",e),this._eventDispatcher.addEventListener(e,t)},removeEventListener:function(e,t){console.log("Context.removeEventListener",e),this._eventDispatcher.removeEventListener(e,t)},dispatchEvent:function(e,t){if(console.log("Context.dispatchEvent",e),e===a.EVENT_SLOT_STARTED){var n=t.slot.getTimePositionClass();n!==a.TIME_POSITION_CLASS_PREROLL&&n!==a.TIME_POSITION_CLASS_MIDROLL&&n!==a.TIME_POSITION_CLASS_POSTROLL||(this._contentVideoAttached=!0,this._markCurrentContentPlayheadTime())}else e===a.EVENT_SLOT_ENDED&&(n=t.slot.getTimePositionClass(),n===a.TIME_POSITION_CLASS_PREROLL||n===a.TIME_POSITION_CLASS_MIDROLL||n===a.TIME_POSITION_CLASS_POSTROLL)&&(this._contentVideoAttached=!1);t=t||{},t.type=e,t.target=this,this._eventDispatcher.dispatchEvent(t)},dispose:function(){if(console.log("Context.dispose"),this.setVideoState(a.VIDEO_STATE_STOPPED),this._adResponse){if(this._temporalSlotBase){for(var e=0,t=this._adResponse._temporalSlots||[];e<t.length;++e){var n=t[e];if(n._onContentVideoTimeUpdate){var i=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId];i&&i.removeEventListener("timeupdate",n._onContentVideoTimeUpdate,!1),n._onContentVideoTimeUpdate=null}}this.getContentVideoElement().removeEventListener("volumechange",this._onVolumeChange),this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=null}this._isRefreshRequest=!1,this._refreshSlots=[],this._extensionManager.dispose(),this._extensionManager=null}},loadExtension:function(e){this._extensionManager.load(e,this)},_markCurrentContentPlayheadTime:function(){var e=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime;e>0&&(this._currentContentPlayheadTime=e)},_getContentPlayheadTime:function(){var e=-1;return this._contentVideoAttached||(e=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime),e>0?e:this._currentContentPlayheadTime},_requestContentVideoToPauseBySlot:function(e){this._videoAsset.requestPauseBySlot(e)},_requestContentVideoToResumeBySlot:function(e){this._videoAsset.requestResumeBySlot(e)},_setVideoDisplaySizeByContentVideo:function(e){if(this._autoSetDisplaySizeCount===this._totalSetDisplaySizeCount){var t=e.style.left,n=e.style.top,i=e.offsetWidth?e.offsetWidth:e.style.pixelWidth,a=e.offsetHeight?e.offsetHeight:e.style.pixelHeight;e=e.style.position,this._autoSetDisplaySizeCount++,this.setVideoDisplaySize(t,n,i,a,e)}},_replacePageSlot:function(b,c){navigator.userAgent.match(/MSIE/);var d=null!=navigator.userAgent.match(/Firefox/);console.log("fw replace %s",b);var f;try{var g=document.getElementById(b)?document:parent.document.getElementById(b)?parent.document:null,k=document.getElementById(b)?"window":parent.document.getElementById(b)?"parent":null}catch(q){k=g=null}if(!g)for(var h=0;h<window.frames.length;h++)try{window.frames[h].document.getElementById(b)&&(g=window.frames[h].document,k="window.frames["+h+"]")}catch(q){console.log(q)}if(k&&(f=k+".document"),console.log("fw replacing slot %s in frame %s",b,f),!g)throw"Slot element not found: "+b;h=g.getElementById("_fw_container_"+b),h.innerHTML=c,c=h.getElementsByTagName("script");var l=g.getElementsByTagName("head")[0];for(h=0;h<c.length;++h)if(d||c[h].src){var m=g.createElement("script");c[h].charset&&(m.charset=c[h].charset),c[h].src&&(m.src=c[h].src),c[h].innerHTML&&(m.innerHTML=c[h].innerHTML),m.onload=m.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||l.removeChild(m)},console.log("fw append script for %s",b),l.appendChild(m)}else m=c[h].innerHTML,m=m.replace(/var fw_scope = document;/,"var fw_scope="+f+";"),m=m.replace(/var fw_scope_window = window;/,"var fw_scope_window="+k+";"),console.log("fw eval in %s for %s, %s",f,b,m),eval(m);console.log("fw finish replace %s",b)}},a.Context.prototype.constructor=a.Context,a.DisplayRefreshExtension=function(){this.REFRESH_TYPE_NONE="refresh_none",this.REFRESH_TYPE_AD="refresh_ad",this.REFRESH_TYPE_TIME="refresh_time",this.REPLACE_TYPE_NONE="replace_none",this.REPLACE_TYPE_BLANK="replace_blank",this.REPLACE_TYPE_AD="replace_ad",this._subContext=null,this._displaySlots=[],this._companionSlots=[],this._keyValues=[],this._globalParameters=[],this._overrideParameters=[],this._refreshType=this.REFRESH_TYPE_NONE,this._replaceType=this.REPLACE_TYPE_NONE,this._refreshInterval=0,this._refreshTimer=null,this._firstTemporalAd=!0,this._REQUEST_TIME_OUT=5},a.DisplayRefreshExtension.prototype={init:function(e){this._context=e,console.log("DisplayRefreshExtension.init(context)"),this._onRendererEvent=a.Util.bind(this,function(e){console.log("DisplayRefreshExtension._onRendererEvent()"),e.subType===a.EVENT_AD_IMPRESSION&&this._onAdStarted(e)}),this._onSlotEnded=a.Util.bind(this,function(e){var t=e.slot.getTimePositionClass();if(e=e.slot,console.log("DisplayRefreshExtension._onSlotEnded()",e,t),null!=e&&t!=a.TIME_POSITION_CLASS_DISPLAY&&0!=e.getAdInstances().length)if(this._refreshType==this.REFRESH_TYPE_AD)this._resetSubContext(),this._refreshSlots(this._displaySlots);else if(this._refreshType==this.REFRESH_TYPE_TIME){this._resetSubContext(),this._refreshSlots(this._displaySlots);var n=this;this._refreshTimer=setInterval(function(){console.log("DisplayRefreshExtension._onTimeout()"),n._resetSubContext(),n._refreshSlots(n._displaySlots)},1e3*this._refreshInterval)}}),this._onRequestComplete=a.Util.bind(this,function(e){if(console.log("DisplayRefreshExtension._onRequestComplete()"),e.success){switch(this._context.getParameter("refreshType")){case"ad":this._refreshType=this.REFRESH_TYPE_AD;break;case"time":this._refreshInterval=this._context.getParameter("refreshInterval"),this._refreshType=0<this._refreshInterval?this.REFRESH_TYPE_TIME:this.REFRESH_TYPE_NONE;break;default:this._refreshType=this.REFRESH_TYPE_NONE}switch(this._context.getParameter("replaceMissingCompanion")){case"blank":this._replaceType=this.REPLACE_TYPE_BLANK;break;case"ad":this._replaceType=this.REPLACE_TYPE_AD;break;default:this._replaceType=this.REPLACE_TYPE_NONE}if(this._refreshType!=this.REFRESH_TYPE_NONE||this._replaceType!=this.REPLACE_TYPE_NONE){if(this._displaySlots=this._context.getSlotsByTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),this._companionSlots=this._displaySlots.filter(function(e,t,n){return e.getAcceptCompanion()}),this._keyValues=this._context._adRequest._keyValues,this._globalParameters=this._context._globalLevelParameterDictionary,this._overrideParameters=this._context._overrideLevelParameterDictionary,this._firstTemporalAd=!0,this._context.addEventListener(a.EVENT_AD,this._onRendererEvent),this._context.addEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._refreshType==this.REFRESH_TYPE_TIME){var t=this;this._refreshTimer=setInterval(function(){console.log("DisplayRefreshExtension._onTimeout()"),t._resetSubContext(),t._refreshSlots(t._displaySlots)},1e3*this._refreshInterval)}}else this._refreshTimer&&clearInterval(this._refreshTimer)}else console.log("DisplayRefreshExtension: request complete failed")}),this._context.addEventListener(a.EVENT_REQUEST_COMPLETE,this._onRequestComplete)},_resetSubContext:function(){console.log("DisplayRefreshExtension._resetSubContext()"),this._subContext=this._context._adManager.cloneContext(this._context),this._subContext._extensionManager._displayRefreshExtension.dispose(),this._subContext._extensionManager._videoStateExtension.dispose(),this._subContext.setCapability(a.CAPABILITY_SLOT_TEMPLATE,a.CAPABILITY_STATUS_OFF),this._subContext.setCapability(a.CAPABILITY_DISPLAY_REFRESH,a.CAPABILITY_STATUS_ON),this._playRefreshedSlots=a.Util.bind(this,function(e){if(console.log("DisplayRefreshExtension._playRefreshedSlots()"),e.success){e=this._subContext.getSlotsByTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY);for(var t=0;t<e.length;t++)e[t].play()}else console.log("DisplayRefreshExtension._playRefreshedSlots(): subContext refresh request error:",e)}),this._subContext.addEventListener(a.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots);for(var e=this._subContext._adRequest._keyValues,t=0;t<this._keyValues.length;t++)0>e.indexOf(this._keyValues[t])&&e.push(this._keyValues[t]);for(var n in this._globalParameters)this._globalParameters.hasOwnProperty(n)&&this._subContext.setParameter(n,this._globalParameters[n],a.PARAMETER_LEVEL_GLOBAL);for(n in this._overrideParameters)this._overrideParameters.hasOwnProperty(n)&&this._subContext.setParameter(n,this._overrideParameters[n],a.PARAMETER_LEVEL_OVERRIDE)},_onAdStarted:function(e){console.log("DisplayRefreshExtension._onAdStarted()");var t=e.adInstance.getSlot();if(console.log("DisplayRefreshExtension._onAdStarted(): slot: ",t," | timePositionClass:",t.getTimePositionClass()),null!=t&&t.getTimePositionClass()!=a.TIME_POSITION_CLASS_DISPLAY&&(this._resetSubContext(),this._refreshTimer&&clearInterval(this._refreshTimer),this._replaceType!=this.REPLACE_TYPE_NONE)){e=e.adInstance,t=t.getAdInstances();for(var n=0;n<t.length;n++)e.getAdId()===t[n].getAdId()&&this._checkMissingCompanionForAd(e)}},_checkMissingCompanionForAd:function(e){console.log("DisplayRefreshExtension._checkMissingCompanionForAd()",e);var t=this._companionSlots.slice();e=e.getCompanionAdInstances();for(var n=0;n<e.length;n++){var i=t.indexOf(e[n].getSlot());i>-1&&t.splice(i,1)}if(this._firstTemporalAd&&(this._firstTemporalAd=!1,t=t.filter(function(e,t,n){if(e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL)return console.log("DisplayRefreshExtension._checkMissingCompanionForAd(): firstCompanionAsInitial false in slot ",e.getCustomId()),!0;for(t=e.getAdInstances(),n=0;n<t.length;n++)if(!t[n].isPlaceholder())return console.log("DisplayRefreshExtension._checkMissingCompanionForAd(): first companion found in slot ",e.getCustomId()),!1;return console.log("DisplayRefreshExtension._checkMissingCompanionForAd(): firstCompanionAsInitial true, no ad in slot ",e.getCustomId()),!0})),this._replaceType==this.REPLACE_TYPE_BLANK)for(n=0;n<t.length;n++)t[n].stop(),
this._subContext._replacePageSlot(t[n].getCustomId(),"");else this._replaceType==this.REPLACE_TYPE_AD&&this._refreshSlots(t)},_refreshSlots:function(e){if(console.log("DisplayRefreshExtension._refreshSlots()",e),null!=e&&0!=e.length){for(var t=0;t<e.length;t++)e[t].stop(),this._subContext._refreshSlots.push(e[t].getCustomId());this._subContext._isRefreshRequest=!0,this._subContext.submitRequest(this._REQUEST_TIME_OUT)}},dispose:function(){console.log("DisplayRefreshExtension.dispose()"),this._context&&(this._context.removeEventListener(a.EVENT_REQUEST_COMPLETE,this._onRequestComplete),this._context.removeEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._context.removeEventListener(a.EVENT_AD,this._onRendererEvent),this._context=null),this._subContext&&(this._subContext.removeEventListener(a.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots),this._subContext=null),this._displaySlots=[],this._companionSlots=[],this._keyValues=[],this._globalParameters=[],this._overrideParameters=[],this._refreshType=this.REFRESH_TYPE_NONE,this._replaceType=this.REPLACE_TYPE_NONE,this._refreshInterval=0,this._refreshTimer&&clearInterval(this._refreshTimer),this._refreshTimer=null,this._firstTemporalAd=!0}},a.DisplayRefreshExtension.prototype.constructor=a.DisplayRefreshExtension,a.EventCallback=function(e){this._url=this._name=this._type=null,this._showBrowser=!1,this._trackingUrls=[],this._adInstance=this._slot=null,this._context=e},a.EventCallback.prototype={},a.EventCallback.prototype.constructor=a.EventCallback,a.EventCallback.getEventCallback=function(e,t,n){for(var i,r=0;r<e.length;r++)if(i=e[r],i._name===t&&i._type===n)return i;for(r=0;r<e.length;r++)if(i=e[r],i._type===a.EVENT_TYPE_GENERIC)return(t=a.EventCallback.newEventCallback(i._context,t,n))&&(t._url=i._url,t._slot=i._slot,t._adInstance=i._adInstance,e.push(t)),t;return null},a.EventCallback.newEventCallback=function(e,t,n){if(n===a.EVENT_TYPE_GENERIC)e=new a.EventCallback(e);else if(n===a.EVENT_TYPE_ERROR)e=new a.ErrorEventCallback(e);else if(n===a.EVENT_TYPE_CLICK)e=new a.AdClickEventCallback(e);else if(n===a.EVENT_TYPE_STANDARD)e=new a.AdStandardEventCallback(e);else if(t===a.EVENT_SLOT_IMPRESSION||t===a.EVENT_SLOT_END)e=new a.SlotImpressionEventCallback(e);else if(t===a.EVENT_AD_IMPRESSION||t===a.EVENT_AD_IMPRESSION_END)e=new a.AdImpressionEventCallback(e);else if(t===a.EVENT_VIDEO_VIEW)e=new a.VideoViewEventCallback(e);else if(t===a.EVENT_RESELLER_NO_AD)e=new a.ResellerNoAdEventCallback(e);else{if(t!==a.EVENT_AD_FIRST_QUARTILE&&t!==a.EVENT_AD_MIDPOINT&&t!==a.EVENT_AD_THIRD_QUARTILE&&t!==a.EVENT_AD_COMPLETE)return null;e=new a.AdQuartileEventCallback(e)}return e._name=t,e._type=n,e},a.EventCallback.getShortType=function(e){var t="";switch(e){case a.EVENT_TYPE_IMPRESSION:t=a.SHORT_EVENT_TYPE_IMPRESSION;break;case a.EVENT_TYPE_CLICK:t=a.SHORT_EVENT_TYPE_CLICK;break;case a.EVENT_TYPE_STANDARD:t=a.SHORT_EVENT_TYPE_STANDARD;break;case a.EVENT_TYPE_ERROR:t=a.SHORT_EVENT_TYPE_ERROR}return t},a.Util.mixin(a.EventCallback.prototype,{parse:function(e){if(e){this._usage=e.use,this._type=e.type,this._name=e.name,this._url=e.url,this._showBrowser=e.showBrowser,this._trackingUrls=[];var t=0;for(e=e.trackingUrls||[];t<e.length;t++)this._trackingUrls.push(e[t].value)}},copy:function(){var e=new this.constructor(this._context);return e._type=this._type,e._name=this._name,e._url=this._url,e._showBrowser=this._showBrowser,e._trackingUrls=this._trackingUrls.slice(),e._slot=this._slot,e._adInstance=this._adInstance,e},getUrl:function(e){var t=this._replaceMacrosInUrl(this._url);return this._name===a.EVENT_AD_MEASUREMENT?(t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_ET,a.SHORT_EVENT_TYPE_IMPRESSION),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CONCRETE_EVENT_ID,e[a.INFO_KEY_CONCRETE_EVENT_ID])):t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_ET,a.EventCallback.getShortType(this._type)),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CN,this._name),this._adInstance&&0<this._adInstance._creativeRenditionId&&(t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID,this._adInstance._creativeRenditionId)),t},getTrackingUrls:function(){var e=this._trackingUrls;if(this._adInstance){var t=this._type;t===a.EVENT_TYPE_CLICK&&(t=a.EVENT_TYPE_CLICK_TRACKING),e=e.concat(this._adInstance.getExternalEventCallbackUrls(this._name,t))}t=[];for(var n=0;n<e.length;n++){var i=a.Util.trim(this._replaceMacrosInUrl(e[n]));a.Util.isBlank(i)||t.push(i)}return t},process:function(e){e=e||{},this._processTrackingUrls(),a.Util.pingURL(this.getUrl(e))},_processTrackingUrls:function(){this._shouldSkipSendingTrackingAndExternalUrls()||a.Util.pingURLs(this.getTrackingUrls())},_shouldSkipSendingTrackingAndExternalUrls:function(){return!1},_needEmptyCT:function(e){var t=!1;return e&&!0===e[a.INFO_KEY_NEED_EMPTY_CT]&&(t=!0),t},_getAdPlayheadTime:function(){var e=-1;return this._adInstance&&(e=this._adInstance.getPlayheadTime()),e},_getCreativeAssetLocation:function(){var e=null;return this._adInstance&&this._adInstance.getActiveCreativeRendition()&&this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset()&&(e=this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset().getUrl()),e},_getParameter:function(e){return this._adInstance?this._adInstance._rendererController.getParameter(e):this._slot?this._slot.getParameter(e):this._context.getParameter(e)},_replaceMacrosInUrl:function(e){if(a.Util.isBlank(e))return e;e=e.replace(/#(ce?)\{([^\}]+)\}/g,a.Util.bind(this,function(e,t,n,i,r){switch(e="ce"===t,t=null,n){case"ad.playheadTime":n=this._getAdPlayheadTime(),t=n>=0?Math.round(n)+"":"";break;case"content.playheadTime":n=this._context._getContentPlayheadTime(),t=n>=0?Math.round(n)+"":"";break;case"creative.assetLocation":t=this._getCreativeAssetLocation();break;default:0===n.indexOf("parameter.")&&(t=this._getParameter(n.substr(10)))}return a.Util.isBlank(t)&&(t=""),e?encodeURIComponent(t):t}));var t="";try{t=a.Util.getParameterInURL(e,a.URL_PARAMETER_KEY_CR)}catch(n){return console.log(n),e}return a.Util.isBlank(t)||(e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_CR,this._replaceMacrosInUrl(t))),e}}),a.AdClickEventCallback=function(e){a.EventCallback.call(this,e)},a.AdClickEventCallback.prototype=new a.EventCallback,a.AdClickEventCallback.prototype.constructor=a.AdClickEventCallback,a.Util.mixin(a.AdClickEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e);return e[a.INFO_KEY_URL]&&(a.Util.isParameterInURL(t,a.URL_PARAMETER_KEY_CR)||(t=t+"&"+a.URL_PARAMETER_KEY_CR+"="),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CR,e[a.INFO_KEY_URL])),t},process:function(e){e=e||{};var t=this.getUrl(e),n=!0===this._showBrowser;n=e.hasOwnProperty(a.INFO_KEY_SHOW_BROWSER)?!0===e[a.INFO_KEY_SHOW_BROWSER]:n,e[a.INFO_KEY_URL]&&(n=!0),n&&!a.Util.isBlank(t)?(window.open(t),this._processTrackingUrls()):a.EventCallback.prototype.process.call(this,e)}}),a.AdImpressionEventCallback=function(e){a.EventCallback.call(this,e)},a.AdImpressionEventCallback.prototype=new a.EventCallback,a.AdImpressionEventCallback.prototype.constructor=a.AdImpressionEventCallback,a.Util.mixin(a.AdImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE},_getInitValue:function(){return this._adInstance.getSlot().isPauseSlot()||!this._processed?a.INIT_VALUE_ONE:a.INIT_VALUE_TWO},getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e);return t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_METR,this._adInstance._metr),this._name!==a.EVENT_AD_IMPRESSION&&(t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CT,this._needEmptyCT(e)?"":this._adInstance._timer.tick())),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_INIT,this._getInitValue())},process:function(e){a.MODULE_TYPE_TRANSLATOR!==this._adInstance.getRendererController().getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&(a.EventCallback.prototype.process.call(this,e),this._processed=!0)}}),a.AdQuartileEventCallback=function(e){a.EventCallback.call(this,e)},a.AdQuartileEventCallback.prototype=new a.EventCallback,a.AdQuartileEventCallback.prototype.constructor=a.AdQuartileEventCallback,a.Util.mixin(a.AdQuartileEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e);return t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_METR,this._adInstance._metr),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CT,this._needEmptyCT(e)?"":this._adInstance._timer.tick())},process:function(e){this._processed||(a.EventCallback.prototype.process.call(this,e),this._processed=!0)}}),a.AdStandardEventCallback=function(e){a.EventCallback.call(this,e)},a.AdStandardEventCallback.prototype=new a.EventCallback,a.AdStandardEventCallback.prototype.constructor=a.AdStandardEventCallback,a.ErrorEventCallback=function(e){a.EventCallback.call(this,e)},a.ErrorEventCallback.prototype=new a.EventCallback,a.ErrorEventCallback.prototype.constructor=a.ErrorEventCallback,a.Util.mixin(a.ErrorEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e),n=e[a.INFO_KEY_ERROR_CODE];n||(n=a.ERROR_UNKNOWN);var i=e[a.INFO_KEY_ERROR_INFO];return i||(i=""),(e=e[a.INFO_KEY_ERROR_MODULE])||(e=""),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CN,n),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_KEY_VALUE,encodeURIComponent(a.URL_PARAMETER_KEY_ERROR_MODULE)+"="+encodeURIComponent(e)+"&"+encodeURIComponent(a.URL_PARAMETER_KEY_ERROR_INFO)+"="+a.PLATFORM_ID+"/"+encodeURIComponent(i))}}),a.ResellerNoAdEventCallback=function(e){a.EventCallback.call(this,e)},a.ResellerNoAdEventCallback.prototype=new a.EventCallback,a.ResellerNoAdEventCallback.prototype.constructor=a.ResellerNoAdEventCallback,a.Util.mixin(a.ResellerNoAdEventCallback.prototype,{}),a.SlotImpressionEventCallback=function(e){a.EventCallback.call(this,e)},a.SlotImpressionEventCallback.prototype=new a.EventCallback,a.SlotImpressionEventCallback.prototype.constructor=a.SlotImpressionEventCallback,a.Util.mixin(a.SlotImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE},_getInitValue:function(){return this._slot.isPauseSlot()||!this._processed?a.INIT_VALUE_ONE:a.INIT_VALUE_TWO},getUrl:function(e){return e=a.EventCallback.prototype.getUrl.call(this,e),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_INIT,this._getInitValue())},process:function(e){a.EventCallback.prototype.process.call(this,e),this._processed=!0}}),a.VideoViewEventCallback=function(e){a.EventCallback.call(this,e)},a.VideoViewEventCallback.prototype=new a.EventCallback,a.VideoViewEventCallback.prototype.constructor=a.VideoViewEventCallback,a.Util.mixin(a.VideoViewEventCallback.prototype,{_getInitValue:function(){return this._processed?a.INIT_VALUE_ZERO:a.INIT_VALUE_ONE},_getCTValue:function(){return this._context._videoAsset.getPlayheadTime()},getUrl:function(e){return e=a.EventCallback.prototype.getUrl.call(this,e),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_INIT,this._getInitValue()),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_CT,this._getCTValue())},_shouldSkipSendingTrackingAndExternalUrls:function(){return this._processed},process:function(e){a.EventCallback.prototype.process.call(this,e),this._processed=!0}}),a.EventDispatcher=function(){this._listeners={}},a.EventDispatcher.prototype={addEventListener:function(e,t){"undefined"==typeof this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t)},dispatchEvent:function(e){if("string"==typeof e&&(e={type:e}),e.target||(e.target=this),e.type&&this._listeners[e.type]instanceof Array)for(var t=this._listeners[e.type],n=0,i=t.length;i>n;n++)try{t[n]&&t[n].call(this,e)}catch(a){console.log("EventDispatcher.dispatchEvent",e.type,a)}},removeEventListener:function(e,t){if(this._listeners[e]instanceof Array){var n=this._listeners[e];if(null==t)this._listeners[e]=[];else{e=0;for(var i=n.length;i>e;e++)if(n[e]===t){n.splice(e,1);break}}}}},a.EventDispatcher.prototype.constructor=a.EventDispatcher,a.ExtensionManager=function(e){this._extensions={},this._context=e,this._surveyExtension=new a.SurveyExtension,this._surveyExtension.init(e),this._videoStateExtension=new a.VideoStateExtension,this._videoStateExtension.init(e),this._displayRefreshExtension=new a.DisplayRefreshExtension,this._displayRefreshExtension.init(e),this._contentVideoExtension=new a.ContentVideoExtension,this._contentVideoExtension.init(e)},a.ExtensionManager.prototype={_scriptLoaded:function(e){if(null==this._extensions[e])this._loadFail(e,"Extension supposed to be loaded but not found");else{var t=a.Util.getObject(e);"function"!=typeof t?this._loadFail(e,"Script loaded but extension class not found"):(t=new t,"function"==typeof t.init&&"function"==typeof t.dispose?(console.log("Extension loaded: "+e),t.init(this._context),this._context.dispatchEvent(a.EVENT_EXTENSION_LOADED,{success:!0,moduleName:e})):this._loadFail(e,"Extension loaded but is not supported"))}},_getExtensionNameFromUrl:function(e){for(var t,n,i=/(?!.*\.{2})(?:[\\/\?=#])([a-z][\w\.]+)(?:\.js(#|\?|$))/gi;t=i.exec(e);)n=t;return n?n[1]:null},_loadFail:function(e,t){console.log("Extension failed to load. "+e+" : "+t),this._context.dispatchEvent(a.EVENT_EXTENSION_LOADED,{success:!1,errorVal:t,moduleName:e})},load:function(e){if(e){var t=this._getExtensionNameFromUrl(e);if(null===t)this._loadFail(t,"Extension name not exsit in the Url. Url: "+e);else if(this._extensions[t]===e)console.log("Extension is already loaded"),this._loadFail(t,"Extension is already loaded");else{var n=1*this._context.getParameter("moduleLoadTimeout")||6e4,i=!1,r=this,o=window.setTimeout(function(){i=!0,r._loadFail(t,"Timeout occured while loading extension. Url: "+e)},n);a.Util.lazyJavaScriptLoad(e,function(){console.log("async load extension successful, URL:"+e),window.clearTimeout(o),i?(console.log("Extension loaded after timeout, do nothing."),r._loadFail(t,"Timeout occured while loading extension. Url: "+e)):(r._extensions[t]=e,r._scriptLoaded(t))})}}else this._loadFail(t,"Url cannot be empty")},dispose:function(){this._extensions=null,this._surveyExtension.dispose(),this._surveyExtension=null,this._displayRefreshExtension.dispose(),this._displayRefreshExtension=null,this._videoStateExtension.dispose(),this._videoStateExtension=null,this._contentVideoExtension.dispose(),this._context=this._contentVideoExtension=null}},a.ExtensionManager.prototype.constructor=a.ExtensionManager,a.HTMLAdGenerator={log:function(e){console.log("HTMLAdGenerator	"+e)},getExtension:function(e){return e&&(e=e.match(/^[^?]+\/[^?.]*(\.\w+)+/))?e[e.length-1].slice(1):""},generateAd:function(e,t,n,i,r,o,s){console.log("generatorAd("+[].slice.call(arguments,0).join(",")+")");var l=o,d=!1;switch(null==l&&(d=!0,l=a.HTMLAdGenerator.getExtension(e).toLowerCase()),l){case"jpeg":case"jpg":case"gif":case"png":case"image/jpeg":case"image/jpg":case"image/gif":case"image/png":case"image/bmp":l=a.HTMLAdGenerator.generateImageHTML(e,t);break;case"swf":case"application/x-shockwave-flash":l=a.HTMLAdGenerator.generateFlashHTML(e,t,n,i,r);break;case"script":case"js":case"text/javascript":case"text/js_ref":case"application/x-javascript":l=a.HTMLAdGenerator.generateScriptHTML(e,n,i,r);break;case"iframe":case"html":case"htm":case"text/html":case"text/html_doc_ref":case"text/html_lit_nowrapper":case"text/html_doc_lit_mobile":l=a.HTMLAdGenerator.generateIFrameHTML(e,t,n,i,r);break;default:l=d?a.HTMLAdGenerator.generateIFrameHTML(e,t,n,i,r):a.HTMLAdGenerator.generateAd(e,t,n,i,r,null,s)}return"text/html_doc_lit_mobile"===s?a.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(l):l},generateImageHTML:function(e,t){return console.log("generateImageHTML"),t?'<a href="'+t+'" target="_blank"><img src="'+e+'" border="0" /></a>':'<img src="'+e+'" border="0" />'},generateFlashHTML:function(e,t,n,i,a){console.log("generateFlashHTML");var r=e;return t&&0<t.length&&(r+=-1===e.indexOf("?")?"?":"&",r+="clickTag="+encodeURIComponent(t)),e='<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"WIDTH="'+i+'" HEIGHT="'+a+'" id="'+n+'_external_ad">'+('<PARAM NAME=movie VALUE="'+r+'"/>')+'<PARAM NAME=quality VALUE=high/><PARAM NAME=bgcolor VALUE=#FFFFFF/><PARAM NAME="allowScriptAccess" VALUE="always"/><PARAM NAME="loop" VALUE="true"/>',e+='<EMBED src="'+r+'" ',e+('quality=high bgcolor=#FFFFFF WIDTH="'+i+'" HEIGHT="'+a+'"NAME="'+n+'_external_video" ALIGN="" TYPE="application/x-shockwave-flash"PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED></OBJECT>')},generateIFrameHTML:function(e,t,n,i,a){return console.log("generateIFrameHTML"),'<iframe height="'+a+'" width="'+i+'" frameborder="0" scrolling="no" allowtransparency="true" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0" src="'+e+'"></iframe>'},docLitToHTMLLit:function(e,t,n,i){return console.log("docLitToHTMLLit"),'<iframe id="_fw_frame_'+t+'" width="'+n+'" height="'+i+'" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe><script language="javascript" type="text/javascript" id="_fw_container_js_'+t+"\">if(!fw_targets) {var fw_targets = [];}var _fw_wr;var fw_scope = document;var fw_content = '"+a.Util.encodeToHex(e)+"';var trgtFrm = fw_scope.getElementById(\"_fw_frame_"+t+'");trgtFrm = (trgtFrm.contentWindow) ? trgtFrm.contentWindow : (trgtFrm.contentDocument.document) ? trgtFrm.contentDocument.document : trgtFrm.contentDocument;fw_targets["'+t+'"] = trgtFrm;if(navigator.userAgent.match(/\\bMSIE\\b/) || navigator.userAgent.match(/\\bOpera\\b/)){trgtFrm.document.open();trgtFrm.document.write(fw_content);setTimeout(function(){fw_close(fw_targets["'+t+'"])}, 7500);} else if (navigator.userAgent.match(/\\bFirefox\\b/)) {if(true && fw_content.length < 2000){var ec = escape(fw_content);var fw_iframe_url = "http://m2.feiwei.tv/g/lib/template/echo.html?s="+ec;fw_scope.getElementById("_fw_frame_'+t+'").src = fw_iframe_url;} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}function fw_close(theFrame){theFrame.document.close();}</script>'},htmlLitToDocLit:function(e){return console.log("htmlLitToDocLit"),'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><title>Advertisement</title></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">'+e+"</body></html>"},wrapUnsafeHTML:function(e,t,n,i){return a.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(a.HTMLAdGenerator.docLitToHTMLLit(a.HTMLAdGenerator.htmlLitToDocLit(e),t,n,i))},wrapJSCode:function(e,t,n,i){return a.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript">'+e+"</script>",t,n,i)},generateScriptHTML:function(e,t,n,i){return console.log("generateScriptHTML"),a.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript" src="'+e+'"></script>',t,n,i)},htmlLitToHTMLDocLitMobile:function(e){return console.log("htmlLitToHTMLDocLitMobile"),'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta name = "viewport" content = "initial-scale = 1.0, target-densitydpi = device-dpi" /><title>Advertisement</title><script type="text/javascript">window._fw_page_url = "";</script></head><body style="margin:0px;background-color:transparent;">'+e+"</body></html>"}},a.NullRenderer=function(){},a.NullRenderer.prototype={start:function(e){e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF),e.handleStateTransition(a.RENDERER_STATE_STARTED),e.handleStateTransition(a.RENDERER_STATE_COMPLETED)},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){return-1},getDuration:function(){return-1}},a.NullRenderer.prototype.constructor=a.NullRenderer,a.PageSlotScanner=function(e){this.OPTION_INIT=1,this.OPTION_FCAI=2,this.OPTION_NIIC=4,this.OPTION_NOSA=8,this.OPTION_NSIT=16,this._knownSlots=[],this._slots={},this._candidateAds=[],this._slotOptionFound=!1,this._context=e},a.PageSlotScanner.prototype={isSlotDuplicate:function(e){for(var t=0;t<this._knownSlots.length;++t)if(this._knownSlots[t].id===e)return!0;return!1},findPageSlotByScope:function(e){var t=e.document;if(t){var n=/(^|\s)_fwph(\s|$)/,i=t.getElementsByTagName("span");for(e._fw_admanager||(e._fw_admanager={}),e._fw_admanager.pageScanState=!0,e=0;e<i.length;++e){var r,o=i[e];if(n.test(o.className)&&(o=o.getAttribute("id"),(r=t.getElementById("_fw_input_"+o))&&!this.isSlotDuplicate(o)&&(r=r.getAttribute("value")))){";"!==r.charAt(r.length-1)&&(r+=";"),r=r.split(";");var s=r[r.length-2],l=!1;-1!==s.search("lo=i")&&(l=!0);var d=!1;-1!==s.search("prct=")&&(d=!0),0>s.search("flag=")&&(s+="&flag="),0>s.search("ptgt=")&&(s="ptgt=s&"+s),r=[];var c,u,_=s.split("&");s=!0;for(var p=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,h=0;h<_.length;++h){var g=_[h].split("=");if(2===g.length){if(g[1]=decodeURIComponent(g[1]),"ssct"===g[0]){if(d)continue;d=!0,g[0]="prct"}"flag"===g[0]?(-1===g[1].search(/[-\+]cmpn/)&&(g[1]+="+cmpn"),"+"!==g[1].charAt(0)&&"-"!==g[1].charAt(0)&&(g[1]="+"+g[1]),l&&-1===g[1].search("-init")&&(g[1]+="-init"),-1!==g[1].search("-nrpl")&&(g[1]=g[1].replace("-nrpl","+cmpn")),-1!==g[1].search("-cmpn")&&(s=!1),p=this._getInitialOption(g[1]),this._slotOptionFound||(p=l?a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL:a.SLOT_OPTION_INITIAL_AD_STAND_ALONE)):"w"===g[0]?c=Number(g[1]):"h"===g[0]?u=Number(g[1]):"cana"===g[0]&&this._addCandidateAds(g[1]),g=encodeURIComponent(g[0])+"="+encodeURIComponent(g[1]),r.push(g)}}d||(l=this._context.getParameter(a.PARAMETER_PAGE_SLOT_CONTENT_TYPE)||"text/html_doc_lit_mobile,text/html_doc_ref",r.push("prct="+encodeURIComponent(l))),(l=t.getElementById("_fw_container_"+o))?(this._slots[o]=r.join("&")+";",this._knownSlots.push({id:o,width:c,height:u,element:l,acceptCompanion:s,initialAdOption:p})):console.log("Failed to find container for slot "+o)}}}},scanPageSlots:function(){for(var e=0;e<window.frames.length;++e)try{console.log("scanPageSlots in frame",e),this.findPageSlotByScope(window.frames[e])}catch(t){}try{window.parent&&window.parent!==window&&(console.log("scanPageSlots in parent frame"),this.findPageSlotByScope(window.parent))}catch(t){}try{console.log("scanPageSlots in current window"),this.findPageSlotByScope(window)}catch(t){}},slotsToTypeBStr:function(){var e,t="";for(e in this._slots)if(this._slots.hasOwnProperty(e)){var n=this._slots[e];-1===n.search("slid=")&&(n="slid="+encodeURIComponent(e)+"&"+n),t+=n,";"!==t.charAt(t.length-1)&&(t+=";")}return t&&(t=t.substring(0,t.length-1)),t},_addCandidateAds:function(e){e=e.split(",");for(var t=0;t<e.length;t++){var n=parseInt(e[t],10);n>0&&this._candidateAds.push(n)}},_parseFlags:function(e){var t=[],n=[],i="",a=!0;e+="+";for(var r=0;r<e.length;++r){var o=e.charAt(r);switch(o){case"+":case"-":""!=i&&(a?t.push(i):n.push(i),i=""),a="+"==o;break;default:i+=o}}return[t,n]},_getInitialOption:function(e){var t=!1,n=0;e=this._parseFlags(e);for(var i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,r=0;r<e.length;++r)for(var o=0;o<e[r].length;++o)switch(e[r][o].toString().toLowerCase()){case"init":n=0==r?n&~this.OPTION_INIT:n|this.OPTION_INIT,t=!0;break;case"fcai":n=0==r?n|this.OPTION_FCAI:n&~this.OPTION_FCAI,t=!0;break;case"niic":n=0==r?n|this.OPTION_NIIC:n&~this.OPTION_NIIC,t=!0;break;case"nosa":n=0==r?n|this.OPTION_NOSA:n&~this.OPTION_NOSA,t=!0;break;case"nsit":n=0==r?n|this.OPTION_NSIT:n&~this.OPTION_NSIT,t=!0}switch(n){case 0:t&&(i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE);break;case 1:i=a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL;break;case 3:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY;break;case 2:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE;break;case 6:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE;break;case 8:i=a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE;break;case 10:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE;break;case 16:i=a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL;break;case 18:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL;break;default:i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE}return this._slotOptionFound=t,i}},a.PageSlotScanner.prototype.constructor=a.PageSlotScanner,a.RendererController=function(e,t){var n=null,i=null,r={},o=a.RendererInitState.instance,s={},l=[],d=0;return{getAdInstance:function(){return t},getContext:function(){return e},getRendererState:function(){return o},processEvent:function(e){var n=e.name;if(n===a.RENDERER_STATE_STARTED||n===a.RENDERER_STATE_COMPLETING||n===a.RENDERER_STATE_COMPLETED||n===a.RENDERER_STATE_FAILED)this.handleStateTransition(n,e.info);else{var i=this._inferEventType(n);if(i&&(i===a.EVENT_TYPE_CLICK&&e.info&&e.info[a.INFO_KEY_CUSTOM_EVENT_NAME]&&(n=e.info[a.INFO_KEY_CUSTOM_EVENT_NAME]),n!==a.EVENT_AD_MEASUREMENT||e.info[a.INFO_KEY_CONCRETE_EVENT_ID])){var r=n===a.EVENT_AD_INITIATED||n===a.EVENT_AD_BUFFERING_START||n===a.EVENT_AD_BUFFERING_END||n===a.EVENT_AD_VOLUME_CHANGE||e.info&&e.info.hasOwnProperty("apiOnly")&&e.info.apiOnly;t.processEvent(n,i,e.info,r)}}},handleStateTransition:function(e,n){switch(e){case a.RENDERER_STATE_STARTED:o.notifyStarted(this);break;case a.RENDERER_STATE_COMPLETING:o.complete(this);break;case a.RENDERER_STATE_COMPLETED:o.complete(this),o.notifyCompleted(this);break;case a.RENDERER_STATE_FAILED:if(t.getSlot()._clearScheduledAdInstance(),n||(n={}),console.log("FAIL",n.errorModule,n.errorCode,n.errorInfo),(e=t.processEvent(a.EVENT_ERROR,a.EVENT_TYPE_ERROR,n))||console.log("No EVENT_ERROR callback found"),n)switch(n[a.INFO_KEY_ERROR_CODE]){case a.ERROR_NO_AD_AVAILABLE:case a.ERROR_PARSE:(e=t.processEvent(a.EVENT_RESELLER_NO_AD,a.EVENT_TYPE_IMPRESSION))||console.log("No EVENT_RESELLER_NO_AD callback found.")}o.fail(this);break;default:console.log("Unknown event received",e)}},setCapability:function(e,n){t.setMetr(e,n)},getVersion:function(){return e._adManager.getVersion()},getParameter:function(n){if(!n)return null;if(e._overrideLevelParameterDictionary.hasOwnProperty(n))return e._overrideLevelParameterDictionary[n];if(t.getActiveCreativeRendition()&&"undefined"!=typeof t.getActiveCreativeRendition().getParameter(n))return t.getActiveCreativeRendition().getParameter(n);var i=t._creative;return i&&"undefined"!=typeof i.getParameter(n)?i.getParameter(n):"undefined"!=typeof t.getSlot().getParameter(n)?t.getSlot().getParameter(n):e._adResponse._profileParameters.hasOwnProperty(n)?e._adResponse._profileParameters[n]:e._globalLevelParameterDictionary.hasOwnProperty(n)?e._globalLevelParameterDictionary[n]:r&&r.hasOwnProperty(n)?r[n]:null},getCompanionSlots:function(){for(var e=[],n=t._companionAdInstances,i=0;i<n.length;i++)n[i].isPlaceholder()&&e.push(n[i].getSlot());return e},createNullDrivingAdInstance:function(){var e=t.getSlot().scheduleAdInstance();return e.addCreativeRendition().setContentType("null/null"),e},scheduleAdInstances:function(e){var n,i=[],a=null;if(e=e||[],0===e.length)return i;for(n=0;n<e.length;n++)e[n].getCustomId()===t.getSlot().getCustomId()&&(a=t.getSlot().scheduleAdInstance());if(!a)if(this.isTranslator())a=this.createNullDrivingAdInstance();else{if(!this.isRenderer())return i;a=t}for(var r=0;r<e.length;r++){if(e[r].getCustomId()===t.getSlot().getCustomId())a!==t&&i.push(a);else for(var o=0,d=a._companionAdInstances;o<d.length;o++)if(n=d[o],e[r]===n.getSlot()){if(this.isTranslator())i.push(n);else if(this.isRenderer()&&n.isPlaceholder()){var c=n.cloneForTranslation();a===t&&(s[c]=n),d[o]=c,i.push(c),l.push(c)}break}i.length<=r&&i.push(null)}return i},commitAdInstance:function(){if(this.isRenderer()&&t.isStarted()){for(var e=0;e<l.length;e++){var n=l[e];n&&n.getSlot().playCompanionAds(n)}l=[]}else console.log("Skipping RendererController.commitAdInstance when called with driving ad not started or completed.")},isRenderer:function(){return n&&a.MODULE_TYPE_RENDERER===n.info()[a.INFO_KEY_MODULE_TYPE]},isTranslator:function(){return n&&a.MODULE_TYPE_TRANSLATOR===n.info()[a.INFO_KEY_MODULE_TYPE]},playable:function(){return o===a.RendererInitState.instance},reset:function(){o=a.RendererInitState.instance},play:function(){for(var e=t.getRenderableCreativeRenditions()||[],n=null,i=0;i<e.length;i++){var a=e[i];if(n=this._matchRendererClassName(a)){t.setActiveCreativeRendition(a);break}}0===d&&this._actualPlay(n)},_actualPlay:function(e){(i=a.Util.getObject(e)||a.Util.getObject(A+"."+e))&&(n=new i),n?o.start(this):this.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_NO_RENDERER,errorInfo:"Renderer class <"+e+"> not found"})},dispatchEvent:function(t,n){e.dispatchEvent(t,n)},requestContentStateChange:function(n){n?e._requestContentVideoToPauseBySlot(t.getSlot()):e._requestContentVideoToResumeBySlot(t.getSlot())},getRenderer:function(){return n},setRenderer:function(e){n=e},setRendererState:function(e){o=e},getContentVideoElement:function(){return e.getContentVideoElement()},_restorePlaceholdersForHybrid:function(){if(s&&this.isRenderer()){for(var e=[],n=0;n<t._companionAdInstances.length;n++){var i=t._companionAdInstances[n],a=s[i];a?e.push(a):e.push(i)}t._companionAdInstances=e}0<l.length&&this.isRenderer()&&(l=[])},rendererMatch:function(e){return i?i===a.Util.getObject(this._matchRendererClassName(e)):!0},_matchRendererClassName:function(n){function i(e,t,n){if(console.log("matching "+e+" within "+t),!t)return!0;if(t=t.split(","),t[t.length-1]||t.pop(),n){for(e=e.toLowerCase(),n=0;n<t.length;n++)if(e==t[n].toLowerCase())return!0;return console.log("not match"),!1}return(t=0<=t.indexOf(e))||console.log("not match"),t}var o=n.getPrimaryCreativeRenditionAsset().getContentType(),s=n.getContentType(),l=n.getWrapperType(),c=n.getCreativeApi(),u=n.getBaseUnit(),_=t.getSoAdUnit(),p=t.getSlot();if(p.getType(),p=p.getTimePositionClass(),console.log("match renderer for creativeRendition:"+n.getId()),a.Util.isBlank(s)&&a.Util.isBlank(l))return console.log("renderer not match due to both contentType and wrapperType are empty"),null;var h=e._rendererManifest["*"];if(h||(h=e._rendererManifest[l]),h||(h=e._rendererManifest[s]),!h)for(var g=e._overriddenAdRenderers.concat(e._adResponse._adRenderers),f=0;f<g.length;f++){var E=g[f],m=!E.contentType;if(m||(l?m=i(l,E.contentType,!0):(o&&(m=i(o,E.contentType,!0)),m||(m=i(s,E.contentType,!0)))),m)if((m=!E.creativeApi)||(m=i(c,E.creativeApi)),m){if(E.baseUnit&&!i(u,E.baseUnit))console.log("can't match renderer "+E.url+" due to baseUnit not match for creativeRendition:"+n.getId());else if(E.soAdUnit&&!i(_,E.soAdUnit))console.log("can't match renderer "+E.url+" due to soAdUnit not match for creativeRendition:"+n.getId());else if(E.slotType&&!i(p.toUpperCase(),E.slotType.toUpperCase()))console.log("can't match renderer "+E.url+" due to slotType not match for creativeRendition:"+n.getId());else if(console.log("renderer "+E.url+" matched for creativeRendition:"+n.getId()),E.url){h=E.url,n=h.indexOf("?"),-1!==n&&(h=h.substring(0,n)),n=h.lastIndexOf("/"),-1!==n&&(h=h.substring(n+1)),n=h.lastIndexOf(".js"),-1!==n&&(h=h.substring(0,n));var T={};if(E.parameter)for(n=[].concat(E.parameter),o=0;o<n.length;o++)if(n[o].hasOwnProperty("name"))T[n[o].name]=n[o].value;else for(var v in n[o])n[o].hasOwnProperty(v)&&(T[v]=n[o][v]);if(a.Util.getObject(A+"."+h)&&(h=A+"."+h),a.Util.getObject(h))r=T,d=0;else{if(d>0)break;var I=this;v=1*this.getContext().getParameter("moduleLoadTimeout")||6e4,d=window.setTimeout(function(){d=-1,I.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_NO_RENDERER,errorInfo:"Load renderer timeout, URL:"+E.url})},v),a.Util.lazyJavaScriptLoad(E.url,function(){console.log("async load renderer successful, URL:"+E.url),-1===d?console.log("renderer loaded after timeout. WILL NOT PLAY."):(window.clearTimeout(d),d=0,r=T,I._actualPlay(h))})}break}}else console.log("can't match renderer "+E.url+" due to creative api not match for creativeRendition:"+n.getId());else console.log("can't match renderer "+E.url+" due to contentType not match for creativeRendition:"+n.getId());
}return h?h:a.Util.isBlank(l)&&"null/null"===s?A+".NullRenderer":null},_inferEventType:function(e){return e===a.EVENT_ERROR?a.EVENT_TYPE_ERROR:e===a.EVENT_AD_CLICK?a.EVENT_TYPE_CLICK:e===a.EVENT_AD_IMPRESSION||e===a.EVENT_AD_FIRST_QUARTILE||e===a.EVENT_AD_MIDPOINT||e===a.EVENT_AD_THIRD_QUARTILE||e===a.EVENT_AD_COMPLETE||e===a.EVENT_RESELLER_NO_AD?a.EVENT_TYPE_IMPRESSION:e===a.EVENT_AD_PAUSE||e===a.EVENT_AD_RESUME||e===a.EVENT_AD_REWIND||e===a.EVENT_AD_MUTE||e===a.EVENT_AD_UNMUTE||e===a.EVENT_AD_COLLAPSE||e===a.EVENT_AD_EXPAND||e===a.EVENT_AD_MINIMIZE||e===a.EVENT_AD_CLOSE||e===a.EVENT_AD_ACCEPT_INVITATION?a.EVENT_TYPE_STANDARD:e===a.EVENT_AD_MEASUREMENT||e==a.EVENT_AD_VOLUME_CHANGE||e===a.EVENT_AD_BUFFERING_START||e===a.EVENT_AD_BUFFERING_END||a.EVENT_AD_INITIATED||a.EVENT_AD_AUTO_PLAY_BLOCKED?a.EVENT_TYPE_GENERIC:null},pause:function(){console.log("RendererController.pause"),n&&"function"==typeof n.pause?n.pause():console.log("Renderer.pause() is not implemented.")},resume:function(){console.log("RendererController.resume"),n&&"function"==typeof n.resume?n.resume():console.log("Renderer.resume() is not implemented.")},stop:function(){console.log("RendererController.stop"),d>0&&(d=-1),o.stop(this)}}},a.RenditionSelector=function(e,t,n,i){this._targetByterate=e,this._arWeight=t,this._pxWeight=n,this._conversionFactor=i},a.RenditionSelector.prototype={getBestFitRendition:function(e,t,n){var i=this;if(e.reverse(),e=e.filter(function(e){return e&&e.getPrimaryCreativeRenditionAsset()&&(e.getPrimaryCreativeRenditionAsset().getUrl()||e.getPrimaryCreativeRenditionAsset().getContent())&&a.Util.canPlayVideoType(e.getPrimaryCreativeRenditionAsset().getMimeType())}).sort(function(e,t){return i.getBitrate(e)-i.getBitrate(t)}),!e.length)return null;var r=Number.MAX_VALUE,o=e.filter(function(e){return e=i.getBitrate(e),r=r>e?e:r,e<=i._targetByterate});return o.length||(o=e.filter(function(e){return i.getBitrate(e)<=r})),o.sort(function(e,a){return i.compareVisualMetrics(e,a,t,n)}).pop()},compareVisualMetrics:function(e,t,n,i){var a=this.calculateVisualRatios(e.getWidth(),e.getHeight(),n,i);return i=this.calculateVisualRatios(t.getWidth(),t.getHeight(),n,i),!a&&i?-1:a&&!i?1:a&&i&&(n=this._conversionFactor*this._arWeight*Math.log(i.arRatio),i=this._pxWeight*Math.log(i.pixelation),a=this.findDistance(this._conversionFactor*this._arWeight*Math.log(a.arRatio),this._pxWeight*Math.log(a.pixelation),0,0),n=this.findDistance(n,i,0,0),n!=a)?n-a:e.getPreference()-t.getPreference()},calculateVisualRatios:function(e,t,n,i){if(e>0&&t>0&&n>0&&i>0){var a=e/t,r=n/i;return a>r?i=n/a:n=i*a,{arRatio:a/r,pixelation:e*t/(n*i)}}return null},findDistance:function(e,t,n,i){return isNaN(e)||isNaN(n)||isNaN(t)||isNaN(i)?NaN:Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))},getBitrate:function(e){var t=e.getDuration();return(e=e.getPrimaryCreativeRenditionAsset().getBytes())&&t&&!isNaN(e)&&!isNaN(t)&&e>0&&t>0?8*e/1e3/t:-1}},a.RenditionSelector.prototype.constructor=a.RenditionSelector,a.Slot=function(e){var t,n,i,r,o,s,l,d,c="",u=null,_=null,p=null,h=null,g=[],f=[],E={},m=null,T=a.MediaInitState.instance,A=0,v=null,I=0,y=0,S=[],C=!1,P=!1,R=!0,D=[],N=!1;return{setAutoPlayBlocked:function(e){N=e},getSlotProfile:function(){return _},setSlotProfile:function(e){_=e},setMediaState:function(e){T=e},setParameter:function(e,t){null===t?delete E[e]:E[e]=t},getParameter:function(e){return e&&E.hasOwnProperty(e)?E[e]:void 0},getAdCount:function(){return g.length},setCustomId:function(e){c=e},getCustomId:function(){return c},setAdUnit:function(e){o=e},getAdUnit:function(){return o},setType:function(e){u=e},getType:function(){return u},setTimePosition:function(e){n=e},getTimePosition:function(){return n},setTimePositionClass:function(e){v=e&&e.toUpperCase()},getTimePositionClass:function(){return v},setWidth:function(e){i=e},getWidth:function(){return v!==a.TIME_POSITION_CLASS_DISPLAY?i?i:e.getVideoDisplaySize().width:i},setHeight:function(e){r=1*e},getHeight:function(){return v!==a.TIME_POSITION_CLASS_DISPLAY?r?r:e.getVideoDisplaySize().height:r},setBase:function(e){t=e},getBase:function(){return t},setCuepointSequence:function(e){s=1*e?1*e:0},getCuepointSequence:function(){return s},getVideoDisplaySize:function(){return e.getVideoDisplaySize()},setMaxDuration:function(e){I=1*e?1*e:0},getMaxDuration:function(){return I},setMinDuration:function(e){y=1*e?1*e:0},getMinDuration:function(){return y},setAcceptContentType:function(e){if(e&&e.trim())for(acceptContentTypeRaw=e.split(","),e=0;e<acceptContentTypeRaw.length;e++)S.push(acceptContentTypeRaw[e].trim())},getAcceptContentType:function(){return S.join(",")},parse:function(t){if(t){c=t.customId,n=1*t.timePosition,v=t.timePositionClass&&t.timePositionClass.toUpperCase()||v,o=t.adUnit;for(var i,r=0,s=t.eventCallbacks||[];r<s.length;r++){i=s[r];var l=a.EventCallback.newEventCallback(e,i.name,i.type);l&&(l._slot=this,l.parse(i),f.push(l))}for(r=0,s=t.selectedAds||[];r<s.length;r++)i=s[r],t=[],l=new a.AdInstance(e),t.push(l),l._slot=this,l._slotCustomId=c,l._parentAdInstancesGroup=t,l.parse(i),g.push(t)}},getCurrentAdInstance:function(){return p},isPauseSlot:function(){return v===a.TIME_POSITION_CLASS_PAUSE_MIDROLL},play:function(t){if(N)console.log("Resuming previously blocked video ad now."),N=!1,e.getContentVideoElement()&&e.getContentVideoElement().play();else{for(var n=this.getAdInstances(),i=0;i<n.length;i++)n[i]._isSkipped=!1;v!==a.TIME_POSITION_CLASS_DISPLAY||R?(console.log("Slot.play",v),C=!1,v===a.TIME_POSITION_CLASS_DISPLAY&&1<g.length&&g.splice(0,g.length-1),this._play(t)):(console.log("Slot is invisible. Push the play operation to the queue."),D.push({operation:this.play,argument:t}))}},stop:function(){console.log("Slot.stop",v),v===a.TIME_POSITION_CLASS_DISPLAY&&(D=[]),T===a.MediaInitState.instance||T===a.MediaEndState.instance?console.log("Slot.stop, not start or already end, ignore"):(C=!0,p?p.stop():console.log("Slot.stop, no _currentAdInstance, ignore"))},pause:function(){console.log("Slot.pause"),v!==a.TIME_POSITION_CLASS_DISPLAY?p&&p.pause():console.log("Not a temporal slot. Ignore.")},resume:function(){console.log("Slot.resume"),v!==a.TIME_POSITION_CLASS_DISPLAY?p&&p.resume():console.log("Not a temporal slot. Ignore.")},skipCurrentAd:function(){console.log("Slot.skipCurrentAd ",p),p?p.skip():console.log("Slot.skipCurrentAd, no _currentAdInstance, ignore")},setVisible:function(e){if(v!==a.TIME_POSITION_CLASS_DISPLAY)console.log("Slot.setVisible is only for display ads.");else if(console.log("Slot.setVisible",e),R!=e&&(R=e))for(;0<D.length;)op=D.pop(),op.operation&&op.operation.call(this,op.argument)},_play:function(e){m=m||e,T.play(this)},onStartPlaying:function(){this._onStartPlaying()},onStartReplaying:function(){this._onStartPlaying()},onCompletePlaying:function(){this._onCompletePlaying()},onCompleteReplaying:function(){this._onCompletePlaying()},playNextAdInstance:function(){console.log("Slot.playNextAdInstance ",v),this._playNextAdInstance()||T.complete(this)},scheduleAdInstance:function(){return h=p.cloneForTranslation()},_clearScheduledAdInstance:function(){h=null},_onStartPlaying:function(){v==a.TIME_POSITION_CLASS_MIDROLL&&0<g.length&&e._requestContentVideoToPauseBySlot(this);var t=a.EventCallback.getEventCallback(f,a.EVENT_SLOT_IMPRESSION,a.EVENT_TYPE_IMPRESSION);t&&t.process(),this.dispatchSlotEvent(a.EVENT_SLOT_STARTED),this.playNextAdInstance()},dispatchSlotEvent:function(t){P||e.dispatchEvent(t,{slot:this})},_onCompletePlaying:function(){m&&m(),m=null,D=[];var t=a.EventCallback.getEventCallback(f,a.EVENT_SLOT_END,a.EVENT_TYPE_IMPRESSION);t&&t.process(),p=null,this.dispatchSlotEvent(a.EVENT_SLOT_ENDED),v==a.TIME_POSITION_CLASS_MIDROLL&&0<g.length&&e._requestContentVideoToResumeBySlot(this)},_playNextAdInstance:function(){return C||T!==a.MediaPlayingState.instance&&T!==a.MediaReplayingState.instance?!1:(this._commitScheduledAdInstance(),(p=this._nextPlayableAdInstance())?(p.reset(),p._isInitiatedSent||(p.getRendererController().processEvent({name:a.EVENT_AD_INITIATED}),p._isInitiatedSent=!0),p.getRendererController().play(),!0):!1)},_commitScheduledAdInstance:function(){if(h){var e=p._parentAdInstancesGroup.indexOf(p);e>=0&&(h._parentAdInstancesGroup=p._parentAdInstancesGroup,p._parentAdInstancesGroup.splice(e,1,h),h=null)}},_nextPlayableAdInstance:function(){if(p){var e=p._parentAdInstancesGroup,t=e.indexOf(p),n=g.indexOf(e);n>=0&&t>=0&&(p._isImpressionSent||p._isSkipped||t==e.length-1)&&n++}else n=0;if(0>n||n>=g.length)return null;if(T===a.MediaPlayingState.instance)for(e=g[n],t=0;t<e.length;t++){var i=e[t];if(i.getRendererController().playable())return i}else if(T===a.MediaReplayingState.instance)for(;n<g.length;n++){for(e=g[n],t=0;t<e.length;t++)if(i=e[t],i._isImpressionSent)return i;for(t=0;t<e.length;t++)if(i=e[t],i.getRendererController().getRendererState()!==a.RendererFailedState.instance&&!i._translated)return i}return null},toString:function(){return"[Slot "+c+"]"},getAdInstances:function(){for(var e=[],t=0;t<g.length;++t)for(var n=g[t],i=0;i<n.length;++i){var a=n[i];if(a.isPlayable()){e.push(a);break}}return e},getPlayheadTime:function(){for(var e=0,t=this.getAdInstances(),n=0;n<t.length;++n){if(t[n]===p){t=p.getPlayheadTime(),t>-1&&(e+=t);break}var i=t[n].getDuration();i>-1&&(e+=i)}return A&&e>A&&(e=A),e},getTotalDuration:function(){if(u!=a.SLOT_TYPE_TEMPORAL)return-1;for(var e=0,t=this.getAdInstances(),n=0;n<t.length;++n){var i=t[n].getDuration();i>-1&&(e+=i)}return A=e},playCompanionAds:function(e){console.log("Slot.playCompanionAds");var t=[];e._parentAdInstancesGroup=t,t.push(e),g.push(t),P=!0,p&&this.stop(),this.play()},getState:function(){return T},setAcceptCompanion:function(e){l=e},getAcceptCompanion:function(){return l},setInitialAdOption:function(e){d=e},getInitialAdOption:function(){return d}}},a.SurveyExtension=function(){this._surveyPingedIds=[]},a.SurveyExtension.prototype={init:function(t){this._context=t,console.log("SurveyExtension.init("+Array.prototype.slice.call(arguments).join(",")+")"),this._onAdStarted=a.Util.bind(this,function(t){if(this._parameters=this._getParameters(),this._parameters.enabled){console.log("SurveyExtension.onAdStarted()");var n=t.adInstance;if(-1<this._surveyPingedIds.indexOf(n.getAdId()))console.log("won't pingback survey since it has been pinged back");else{var i=n._creative.getParameter("_fw_survey_url");if(i)try{console.log("append"+i+" to head");var a=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",i),a.appendChild(r),this._surveyPingedIds.push(n.getAdId())}catch(o){console.log("Append survey to head",t.type,e)}}}}),this._context.addEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted)},dispose:function(){console.log("SurveyExtension.dispose()"),this._context.removeEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted),this._parameters=this._onAdStarted=null},_getParameters:function(){var e={};return e.enabled="false"!=this._context.getParameter(a.PARAMETER_EXTENSION_SURVEY_ENABLED),console.log(e),e}},a.SurveyExtension.prototype.constructor=a.SurveyExtension,a.Timer=function(e,t){this._lastTickDate=new Date,this._duration=e||-1,this._playheadTime=-1,this._callback=t,this._state=-1},a.Timer.prototype={},a.Timer.prototype.constructor=a.Timer,a.Util.mixin(a.Timer.prototype,{tick:function(){var e=new Date,t=Math.round((e.getTime()-this._lastTickDate.getTime())/1e3);return this._lastTickDate=e,t},start:function(){if(0!==this._state){2!==this._state&&-1!==this._playheadTime||(this._playheadTime=0),this._state=0,this._timeStamp=new Date,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null);var e=this,t=1e3*(this._duration-this._playheadTime);0>t||(this._timeouter=window.setTimeout(function(){e.stop(),e._playheadTime=e._duration,e._callback&&e._callback()},t))}},pause:function(){0===this._state&&(this._state=1,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null),this._playheadTime=(new Date-this._timeStamp)/1e3+this._playheadTime)},stop:function(){this._state=2,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null),this._playheadTime=(new Date-this._timeStamp)/1e3+this._playheadTime},getPlayheadTime:function(){return 0===this._state?(new Date-this._timeStamp)/1e3+this._playheadTime:this._playheadTime},getCTValue:function(){return(new Date-this._timeStamp)/1e3},getDuration:function(){return this._duration}}),a.VastTranslator=function(){this._rendererController=this._request=null},a.VastTranslator.prototype={start:function(e){function t(e){console.log("VastTranslator	"+e)}function n(e){console.log("VastTranslator	"+e)}function i(e,t){if(e)if(e.length&&"string"!=typeof e)for(var n=0;n<e.length;n++)t(e[n].value);else e.value&&t(e.value)}function r(e,t){i(t,function(t){t&&e.push(t)})}function o(e){if(!e)return!1;for(var t=0;t<y.length;t++)if(a.Util.trim(y[t]).toLowerCase()===a.Util.trim(e).toLowerCase())return!0;return!1}function s(e){return e?("string"!=typeof e&&(e=e.toString()),e=a.Util.trim(e),-1<e.indexOf("://")?e:null):null}function l(e){this.code=this.url=null,this.height=this.width=NaN,this.resourceType=this.creativeType=null,this.bitrate=NaN,this.creativeApi=null,this.ad=e,this.clickThrough=null,this.clickTrackings=[],this.customClicks=[],this.creativeData=null}function d(){this.creativeView=[],this.start=[],this.firstQuartile=[],this.midpoint=[],this.thirdQuartile=[],this.complete=[],this.mute=[],this.unmute=[],this.pause=[],this.rewind=[],this.resume=[],this.replay=[],this.fullscreen=[],this.expand=[],this.collapse=[],this.acceptInvitation=[],this.stop=[]}function c(e){this._impressions=[],this.clickThrough=null,this.clickTrackings=[],this.customClicks=[],this.creativeData=null,this.sequence=-1,this.universalAdId=null,this.vastRenditions=[],this.duration=NaN,this.adp=e,this.isDrivingAd=!1}function u(e){c.call(this,e)}function _(e){c.call(this,e)}function p(e){c.call(this,e)}function h(){}function g(e,n,i,a){if(e&&a&&0<a.length){t("augmentCallbacks("+n+", "+i+", "+a+")");for(var r=e.getEventCallbackUrls(n,i),o=0;o<r.length;o++)-1<a.indexOf(r[o])&&(t("augmentCallbacks() url = "+r[o]),a.unshift(r[o]));e.addEventCallbackUrls(n,i,a)}else t("augmentCallbacks("+n+", "+i+", "+a+"), empty callbacks")}function f(e,n){if(t("initErrorTrackings()"),e&&n){for(var i=n.errorTrackings,r=0;r<i.length;r++)-1<i[r].search("[ERRORCODE]")&&(i[r]=i[r].replace("[ERRORCODE]","900"));g(e,a.EVENT_ERROR,a.EVENT_TYPE_ERROR,n.errorTrackings)}}function E(e,n){t("initTrackingEvents()"),n&&e&&(g(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n.creativeView),g(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n.start),g(e,a.EVENT_AD_FIRST_QUARTILE,a.EVENT_TYPE_IMPRESSION,n.firstQuartile),g(e,a.EVENT_AD_MIDPOINT,a.EVENT_TYPE_IMPRESSION,n.midpoint),g(e,a.EVENT_AD_THIRD_QUARTILE,a.EVENT_TYPE_IMPRESSION,n.thirdQuartile),g(e,a.EVENT_AD_COMPLETE,a.EVENT_TYPE_IMPRESSION,n.complete),g(e,a.EVENT_AD_MUTE,a.EVENT_TYPE_STANDARD,n.mute),g(e,a.EVENT_AD_UNMUTE,a.EVENT_TYPE_STANDARD,n.unmute),g(e,a.EVENT_AD_PAUSE,a.EVENT_TYPE_STANDARD,n.pause),g(e,a.EVENT_AD_RESUME,a.EVENT_TYPE_STANDARD,n.resume),g(e,a.EVENT_AD_REWIND,a.EVENT_TYPE_STANDARD,n.rewind),g(e,a.EVENT_AD_EXPAND,a.EVENT_TYPE_STANDARD,n.fullscreen),g(e,a.EVENT_AD_COLLAPSE,a.EVENT_TYPE_STANDARD,n.collapse),g(e,a.EVENT_AD_EXPAND,a.EVENT_TYPE_STANDARD,n.expand),g(e,a.EVENT_AD_CLOSE,a.EVENT_TYPE_STANDARD,n.stop),g(e,a.EVENT_AD_ACCEPT_INVITATION,a.EVENT_TYPE_STANDARD,n.acceptInvitation))}function m(e,n,i,r,o){if(t("initClickAndImpressionEvents"),e){if(n&&e.setClickThroughUrl(a.EVENT_AD_CLICK,n),i&&0<i.length&&g(e,a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK_TRACKING,i),r&&0<r.length)for(n=0;n<r.length;n++)r[n].url&&g(e,r[n].id,a.EVENT_TYPE_CLICK_TRACKING,[r[n].url]);o&&g(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,o)}}function T(e,i){if(t("initTemporalAdInstance"),e||n("initTemporalAdInstance: Invalid adInstance"),i.selectedDrivingAd){i.surveyUrl&&e._creative.setParameter("_fw_survey_url",i.surveyUrl);var a=i.selectedDrivingAd,r=i.selectedDrivingRenditions;t("vastRenditions:"+r);for(var s=4===R,l=0;l<r.length;l++){var d=r[l];p=e.addCreativeRendition(),h=p.addCreativeRenditionAsset("VAST_CRA",!0);e:{var c=d.creativeType;switch(c){case"video/mp4":c="video/mp4-h264";break e;case"video/3gp":c="video/3gpp"}}if(t("initTemporalAdInstance() set rendition/asset [vastRd.creativeApi,vastAd.duration,vastRd.width,vastRd.height,vastRd.url,assetContentType,vastRd.creativeType] =  "+[d.creativeApi,a.duration,d.width,d.height,d.url,c,d.creativeType]),p.setCreativeApi(d.creativeApi),isNaN(a.duration)||p.setDuration(a.duration),d.width&&!isNaN(d.width)&&p.setWidth(d.width),d.height&&!isNaN(d.height)&&p.setHeight(d.height),a.universalAdId&&p.setUniversalAdId(a.universalAdId),d.url&&h.setUrl(d.url),d.code&&h.setContent(d.code),h.setMimeType(d.creativeType),"static"===d.resourceType&&"text/html"===d.creativeType?h.setContentType("text/html_doc_ref"):"application/x-javascript"===d.creativeType||"application/javascript"===d.creativeType?h.setContentType("text/js_ref"):"iframe"===d.resourceType?h.setContentType("text/html_doc_ref"):"text/html"===d.creativeType||"text/html_doc_ref"===d.creativeType?h.setContentType("text/html_doc_ref"):"text/html_doc_lit_mobile"===d.creativeType?h.setContentType("text/html_doc_lit_mobile"):s||o(c)?(h.setContentType("text/html_doc_lit_mobile"),h.setUrl(null),h.setContent(A(e,P.getCustomId(),a,d,"text/html_doc_lit_mobile"))):h.setContentType(c),a.creativeData&&0!==a.creativeData.length&&(t("initTemporalAdInstance(), set asset parameter creativeData:"+a.creativeData),p.setParameter("creativeData",a.creativeData)),s||o(c)||(d=d.bitrate,!isNaN(d)&&d>0&&h.setBytes(1e3*d*a.duration/8)),c=N,h=b,d=!1,p.getContentType()&&c){var u=p.getContentType().toLowerCase(),_=c.toLowerCase();u==_?d=!0:(0==u.indexOf("video/mp4")&&0==_.indexOf("video/mp4")||"application/javascript"==_&&"text/js_ref"==u)&&(p.setContentType(c),d=!0)}c=!1,p.getCreativeApi()&&h&&(u=p.getCreativeApi().toLowerCase(),_=h.toLowerCase(),u==_?c=!0:0==u.indexOf("mraid")&&0==_.indexOf("mraid")&&(c=!0,p.setCreativeApi(h))),d&&c?p.setPreference(10):c?p.setPreference(6):d?p.setPreference(5):p.setPreference(0),t("adjustMatchedRendition "+p.getId()+", contentType "+p.getContentType()+", creativeAPI "+p.getCreativeApi()+", preference "+p.getPreference())}E(e,a.trackingEvents),f(e,i),m(e,s?r[0].clickThrough:a.clickThrough,a.clickTrackings,a.customClicks,a.impressions)}else{var p=e.addCreativeRendition();p.setContentType("null/null");var h=p.addCreativeRenditionAsset("VAST_CRA",!0);h.setContentType("null/null")}}function A(e,n,i,r,o){return t("getCoadHTML, ad id = "+e.getAdId()),r.url&&0<r.url.length?((i=r.clickThrough)&&0<i.length&&e.setClickThroughUrl(a.EVENT_AD_CLICK,i),e=e.getEventCallbackUrls(a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK)[0],a.HTMLAdGenerator.generateAd(r.url,e,n,r.width,r.height,r.creativeType,o)):r.code&&0<r.code.length?"script"===r.resourceType||"text/javascript"===r.resourceType||"text/js_ref"===r.resourceType||"application/x-javascript"===r.resourceType?a.HTMLAdGenerator.wrapJSCode(r.code,n,r.width,r.height):a.HTMLAdGenerator.wrapUnsafeHTML(r.code,n,r.width,r.height):null}function v(e,n,i,r){t("initPageAdInstance ad:"+n.getAdId());var o=i.vastRenditions[0];if(o.url||o.code){var s=n.addCreativeRendition(),l=s.addCreativeRenditionAsset("VAST_CRA",!0);s.setCreativeApi(o.creativeApi),s.setWidth(o.width),s.setHeight(o.height),"static"===o.resourceType&&"text/html"===o.creativeType?(l.setContentType("text/html_doc_ref"),l.setUrl(o.url)):"iframe"===o.resourceType?(l.setContentType("text/html_doc_ref"),l.setUrl(o.url)):"HTML"===o.resourceType?(l.setContentType("text/html_doc_lit_mobile"),l.setContent(a.HTMLAdGenerator.wrapUnsafeHTML(o.code,e.getCustomId(),o.width,o.height))):(l.setContentType("text/html_doc_lit_mobile"),l.setContent(A(n,e.getCustomId(),i,o,"text/html_doc_lit_mobile"))),l.setMimeType("text/html")}else t("initPageAdInstance will add a tracking only companion ad");E(n,i.trackingEvents),f(n,r),m(n,o.clickThrough,o.clickTrackings,o.customClicks,i.impressions)}function I(n){if(200==n.status)if(n.responseXML){var i=(new h).parseAdData(n.responseXML);if(i){if(t("scheduleVastAds"),i&&0!==i.length)if(n=i[0].selectedPackage,i=i[0].redirectPackage,n||i){if(!n&&i){t("scheduleVastAds(), no ads scheduled, redirect to downstream Secondary Ad Server"),t("scheduleRedirect"),n=[];var r=[];n.push(P),r.push({});for(var o=D,s=i.selectedCompanionAds,l=0;l<o.length;l++){var d=o[l];s&&s[d.getCustomId()]&&(n.push(d),r.push(s[d.getCustomId()]))}for((o=e.scheduleAdInstances(n))&&0<o.length&&(s=o[0],l=s.addCreativeRendition(),l.setWrapperUrl(a.Util.transformUrlToProxy(i.tagUrl)),l.setWrapperType(O),l.setContentType(N),l.setCreativeApi(b),E(s,i.getTrackingEventsOfWrapper()),f(s,i),m(s,i.getClickThroughOfWrapper(),i.getClickTrackingsOfWrapper(),i.getCustomClicksOfWrapper(),i.getImpressionOfWrapper())),t("scheduleRedirect, schedule companion for redirect ad ",i),l=1;l<o.length;l++)(s=o[l])&&(d=r[l],d instanceof p&&v(n[l],s,d,i))}else if(n){for(t("scheduleVastAds(), ads returned from vast response, going to schedule them"),n.selectedDrivingAd?(t("scheduleVastAds(), ads returned from vast response, going to schedule them with driving ad"),n.selectedDrivingAd.isDrivingAd=!0):t("scheduleVastAds(), ads returned from vast response, going to schedule them without driving ad"),t("scheduleAdPackage()"),i=[],r=[],i.push(P),n.selectedDrivingAd&&r.push(n.selectedDrivingAd),o=D,s=n.selectedCompanionAds,l=0;l<o.length;l++)d=o[l],s&&s[d.getCustomId()]&&(i.push(d),r.push(s[d.getCustomId()]));if(s=e.scheduleAdInstances(i),0<s.length){for(t("scheduleAdPackage, scheduled "+s.length+" ads"+n.selectedDrivingAd?"":", 1 of it is nullAd for pure companion ad schedule"),n.selectedDrivingAd||t("Driving ad is not selected, will create a dummy null ad."),n.selectedDrivingAd||(i.shift(),T(s.shift(),n)),l=0;l<s.length;l++)if(d=s[l]){var c=r[l];c instanceof p?v(i[l],d,c,n):T(d,n)}!n.selectedDrivingAd&&0<o.length&&0<n.companionAds.length&&0===r.length&&(t("found empty companion slots and companion ads in package, but none of them matches slot size"),C.onTranslatorFailed(a.ERROR_UNMATCHED_SLOT_SIZE))}else t("scheduleAdPackage, no ad scheduled.")}}else t("scheduleVastAds(), no ads from vast response!!!"),C.onTranslatorFailed(a.ERROR_NO_AD_AVAILABLE,"wrapperUrl="+w);else t("no ads for scheduleVastAds");C._request=null,e.handleStateTransition(a.TRANSLATOR_STATE_STARTED),e.handleStateTransition(a.TRANSLATOR_STATE_COMPLETED)}}else C.onTranslatorFailed(a.ERROR_PARSE,"wrapperUrl="+w);else 400<=n.status&&C.onTranslatorFailed(a.ERROR_IO,"wrapperUrl="+w)}this._rendererController=e;var y="image/gif image/jpeg image/png text/html text/javascript text/html_doc_ref text/html_doc_lit_mobile application/x-javascript application/javascript".split(" "),S=e.getAdInstance(),C=this,P=S.getSlot(),R=function(){if(!P)return 1;switch(P.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_POSTROLL:return 2;case a.TIME_POSITION_CLASS_OVERLAY:return 4;case a.TIME_POSITION_CLASS_DISPLAY:return P&&!P.getBase()?8:1;default:return 1}}(),D=e.getCompanionSlots().filter(function(e,t,n){if(!e)return!1;switch(e.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_PAUSE_MIDROLL:case a.TIME_POSITION_CLASS_POSTROLL:return!1;default:return!0}});t("Checking CompanionSlots, length = "+D.length+", rendererController.getCompanionSlots().length = "+e.getCompanionSlots().length+", AdInstance.getCompanionSlots.length = "+S.getCompanionSlots().length);var N=S.getActiveCreativeRendition().getContentType(),b=S.getActiveCreativeRendition().getCreativeApi()||"None";console.log("ExpectedDrivingContentType:"+N+", ExpectedDrivingAPI:"+b);var O=S.getActiveCreativeRendition().getWrapperType();l.prototype={init:function(e,t,n,i,a,r,o,s){console.log("init("+[].slice.call(arguments,0).join(",")+")"),this.url=e,this.width=1*t,this.height=1*n,this.creativeType=i,this.resourceType=a,this.bitrate=r;var l;if((l=o)&&0!==l.length)switch(l.toLowerCase()){case"flashvar":case"flashvars":l="clickTag";break;case"vpaid":l="VPAID";break;case"mraid":l="MRAID-1.0"}else l="None";this.creativeApi=l,this.code=s||null},log:function(e){console.log("VastTranslator.VastRendition	"+e)},toString:function(){var e,t=[];for(e in this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&"ad"!==e&&t.push(e+":"+this[e]);return t.join(",")}},l.prototype.constructor=l,c.prototype={parse:function(e){if(console.log("parse()"),e.Duration)if(e.Duration.value){var t=/(\d+):(\d+):(\d+)/.exec(e.Duration.value);t?this.duration=3600*t[1]+60*t[2]+1*t[3]:console.log("Failed to parse duration value for creative "+e)}else console.log("No duration value set for creative "+e);e.VideoClicks&&(e.VideoClicks=[].concat(e.VideoClicks),a.Util.forEachOnArray(e.VideoClicks,function(e,t,n){if(e.ClickThrough&&e.ClickThrough.value&&(this.clickThrough=s(e.ClickThrough.value)),e.ClickTracking)for(e.ClickTracking=[].concat(e.ClickTracking),n=0;n<e.ClickTracking.length;n++)(t=s(e.ClickTracking[n].value))&&this.clickTrackings.push(t);if(e.CustomClick)for(e.CustomClick=[].concat(e.CustomClick),n=0;n<e.CustomClick.length;n++){var i=null;e.CustomClick[n]["@attributes"]&&(i=e.CustomClick[n]["@attributes"].id),(t=s(e.CustomClick[n].value))&&this.customClicks.push({id:i,url:t})}},this)),e.MediaFiles&&e.MediaFiles.MediaFile&&(e.MediaFiles.MediaFile=[].concat(e.MediaFiles.MediaFile),a.Util.forEachOnArray(e.MediaFiles.MediaFile,function(e,t,n){t=s(e.value);var i=n=NaN,a=null,r="None",o=NaN;e["@attributes"]&&(n=e["@attributes"].width||NaN,i=e["@attributes"].height||NaN,a=e["@attributes"].type,r=e["@attributes"].apiFramework||"None",o=e["@attributes"].bitrate||NaN),t&&-1!==t.indexOf(":")?(e=new l(this),e.init(t,n,i,a,"",o,r,null),e.clickThrough=this.clickThrough,this.vastRenditions.push(e),(isNaN(n)||isNaN(i))&&console.log("continue with missing [width,height]"+[n,i])):console.log("will ignore this mediaFile because some required field is missing [url,width,height]:"+[t,n,i])},this)),e.TrackingEvents&&this.parseTrackingEvents(e.TrackingEvents,this.setTrackingEvents()),e.AdParameters&&(console.log("parse() got AdParameters:"+e.AdParameters.value),this.creativeData=e.AdParameters.value),e.Companion&&(e.Companion=[].concat(e.Companion),a.Util.forEachOnArray(e.Companion,function(e,t,n){n=t=null;var i="",r="",d=null,c=null,u=!1;e.CompanionClickThrough&&(r=s(e.CompanionClickThrough.value)),e.StaticResource&&(t=s(e.StaticResource.value),e.StaticResource["@attributes"]&&(n=e.StaticResource["@attributes"].creativeType),i="static"),e.IFrameResource&&(t=s(e.IFrameResource.value))&&(n="text/html_doc_ref",i="iframe"),e.HTMLResource&&(d=e.HTMLResource["#cdata-section"]||"",d=a.Util.trim(d))&&(n="text/html_doc_lit_mobile",i="HTML"),e.TrackingEvents&&(c=e.TrackingEvents);var _=new p(this.adp);if(_.sequence=this.sequence,_.clickThrough=r,c&&_.parseTrackingEvents(c,_.setTrackingEvents()),e["@attributes"]){c=e["@attributes"].width||NaN;var h=e["@attributes"].height||NaN;if(e=e["@attributes"].apiFramework||"None",(t&&-1!==t.indexOf(":")||d)&&!isNaN(c)&&!isNaN(h)&&o(n)||this.adp.isWrapper){var g=new l(_);g.init(t,c,h,n,i,NaN,e,d),g.clickThrough=r,_.vastRenditions.push(g)}else u=!0,console.log("will ignore this rendition because some required fields is missing or incompatible [creativeType,url,code,width,height]:"+[n,t,d,c,h])}else this.adp.isWrapper||(u=!0,console.log("for InLine ad package, No attributes found for the Companion ads:"+e));u?this.adp.isWrapper&&this.adp.companionAds.push(_):this.adp.companionAds.push(_)},this)),e.NonLinear&&(e.NonLinear=[].concat(e.NonLinear),a.Util.forEachOnArray(e.NonLinear,function(e,t,n){n=t=null;var i="",r="",d="",c=null,u=!1;e.AdParameters&&(d=e.AdParameters.value),e.NonLinearClickThrough&&(r=s(e.NonLinearClickThrough.value)),e.StaticResource&&(t=s(e.StaticResource.value),e.StaticResource["@attributes"]&&(n=e.StaticResource["@attributes"].creativeType),i="static"),e.IFrameResource&&(t=s(e.IFrameResource.value),n="text/html_doc_ref",i="iframe"),e.HTMLResource&&(c=e.HTMLResource["#cdata-section"]||"",c=a.Util.trim(c),n="text/html_doc_lit_mobile",i="HTML");var p=new _(this.adp);if(p.sequence=this.sequence,p.clickThrough=r,p._trackingEvents=this._trackingEvents,d&&(p.creativeData=d),e["@attributes"]){d=e["@attributes"].width||NaN;var h=e["@attributes"].height||NaN;if(e=e["@attributes"].apiFramework||"None",!t&&!c||isNaN(d)||isNaN(h)||!o(n))u=!0,console.log("will ignore this rendition because some required fields is missing or incompatible:[creativeType,url,code,width,height]:"+[n,t,c,d,h]);else{var g=new l(p);g.init(t,d,h,n,i,NaN,e,c),g.clickThrough=r,p.vastRenditions.push(g)}}else this.adp.isWrapper||(u=!0,console.log("for InLine ad package, No attributes found for the NonLinear ads:"+e));this.adp.nonLinearAds.push(p),u?this.adp.isWrapper&&this.adp.nonLinearAds.push(p):this.adp.nonLinearAds.push(p)},this))},parseLinears:function(e){2!=R?console.log("TargetAdType != TARGET_LINEAR, skipping parse"):this.parse(e)},parseNonLinears:function(e){4!==R?console.log("TargetAdType != TARGET_NONLINEAR, skipping parse"):this.parse(e)},parseCompanionAds:function(e){this.parse(e)},setTrackingEvents:function(){return this._trackingEvents||(this._trackingEvents=new d),this._trackingEvents},parseTrackingEvents:function(e,t){console.log("parseTrackingEvents"),e.Tracking&&(e.Tracking=[].concat(e.Tracking),a.Util.forEachOnArray(e.Tracking,function(e,n,i){if(n=e["@attributes"].event,e=s(e.value))switch(n){case"creativeView":case"start":case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":case"mute":case"unmute":case"pause":case"resume":case"rewind":case"replay":case"fullscreen":case"expand":case"collapse":case"acceptInvitation":case"stop":t[n].push(e);break;case"close":t.stop.push(e)}},this))},toString:function(){return this.constructor.name+", renditions:"+this.vastRenditions},log:function(e){console.log("VastTranslator."+this.constructor.name+"	"+e)},warn:function(e){console.log("VastTranslator."+this.constructor.name+"	"+e)}};var L=Object.defineProperty||function(e,t,n){n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set)};L(c.prototype,"trackingEvents",{get:function(){return console.log("get trackingEvents()"),this._trackingEvents?this._trackingEvents:this.isDrivingAd?this.adp.trackingEvents:null}}),L(c.prototype,"impressions",{set:function(e){this._impressions=e},get:function(){return this.isDrivingAd?this._impressions.concat(this.adp.impressions):this._impressions}}),c.prototype.constructor=c,u.prototype=new c,u.prototype.constructor=u,_.prototype=new c,_.prototype.constructor=_,p.prototype=new c,p.prototype.getPrimaryRendition=function(){return this.vastRenditions[0]||null},L(p.prototype,"impressions",{get:function(){return 8===R?this._impressions.concat(this.adp.impressions):this._impressions}}),p.prototype.constructor=p;var M=function(){this.impressions=[],this.errorTrackings=[],this.linearAds=[],this.nonLinearAds=[],this.companionAds=[],this.extensions=[],this.tagUrl="",this.isWrapper=!1,this.surveyUrl=null,this.selectedDrivingRenditions=[],this.selectedDrivingAd=null,this.selectedCompanionAds={}};M.prototype={parse:function(e){if(console.log("parse("+e+")"),e)if(this.isWrapper||e.Creatives&&e.Creatives.Creative){e.Creatives=e.Creatives||[],r(this.impressions,e.Impression),r(this.extensions,e.Extensions),r(this.errorTrackings,e.Error),this.isWrapper&&e.VASTAdTagURI&&(this.tagUrl=e.VASTAdTagURI.value||""),e.Survey&&e.Survey.value&&0<e.Survey.value.length&&(this.surveyUrl=e.Survey.value),e.Creatives.Creative=e.Creatives.Creative?[].concat(e.Creatives.Creative):[];for(var t=0;t<e.Creatives.Creative.length;t++){var n=e.Creatives.Creative[t],i=-1;if(n["@attributes"]&&(i=n["@attributes"].sequence||-1,i*=1),n.Linear){
var a=new u(this);a.sequence=i,a.parseLinears(n.Linear),this.linearAds.push(a)}else n.NonLinearAds?(a=new _(this),a.sequence=i,a.parseNonLinears(n.NonLinearAds)):n.CompanionAds&&(a=new p(this),a.sequence=i,a.parseCompanionAds(n.CompanionAds));a&&n.UniversalAdId?(a.universalAdId={idRegistry:n.UniversalAdId["@attributes"].idRegistry,idValue:n.UniversalAdId["@attributes"].idValue},console.log("Universal Ad ID with idRegistry "+a.universalAdId.idRegistry+" and idValue "+a.universalAdId.idValue)):console.log("No Universal Ad ID is present in the VAST response.")}}else console.log("parse(): no creative found!");else console.log("parse(): empty adpackage")},testAndUpdatePackageForTemporalSlot:function(e){if(console.log("testAndUpdatePackageForTemporalSlot("+e+")"),e=e?this.linearAds:this.nonLinearAds,1>e.length)return!1;console.log("testAndUpdatePackageForTemporalSlot(), ads.length = "+e.length);var t=!1;if(!t)for(var n=0;n<e.length;n++){var i=this.findRenditionGroupByContentType(e[n]);if(0<i.length){console.log("testAndUpdatePackageForTemporalSlot() : found driving ad and renditions group: "+i),this.selectedDrivingRenditions=i,this.selectedDrivingAd=e[n],t=!0;break}}return t},testAndUpdatePackageForPageSlots:function(e){var t=!1,n=this.companionAds,i=D.slice(0);if(console.log("testAndUpdatePackageForPageSlots("+e+"), ads are "+n.join(",")+", slots are "+i.join(",")),e){if(e=this.matchAdsToSlots(n,i),0<e.length)for(t=!0,n=0;n<e.length;n++){i=e[n];var a=i.ad;this.selectedCompanionAds[i.slot.getCustomId()]=a}}else e=this.matchAdsToSlots(n,[P]),1===e.length?(t=!0,this.selectedDrivingAd=e[0].ad):this.selectedDrivingAd=null;return t},renditionFitsInSlot:function(e,t){return e?e.width<=t.getWidth()&&e.height<=t.getHeight():!1},calcDeadSpaceRatio:function(e,t){return(e=e.getPrimaryRendition())?(console.log("ad w,h  slot w,h"+[e.width,e.height,t.getWidth(),t.getHeight()]),this.renditionFitsInSlot(e,t)?1-e.width*e.height/t.getWidth()*t.getHeight():1):!1},matchAdsToSlots:function(e,t){console.log("matchAdsToSlots(ads="+e.join(",")+", slots="+t.join(",")+")");for(var n=[],i=null,a=null,r=1,o=0;o<e.length;o++)for(var s=e[o],l=0;l<t.length;l++){var d=t[l],c=this.calcDeadSpaceRatio(s,d);r>c&&(i=s,a=d,r=c)}return null!==i&&(n.push({ad:i,slot:a}),e.splice(e.indexOf(i),1),t.splice(t.indexOf(a),1),n=n.concat(this.matchAdsToSlots(e,t))),console.log("matchAdsToSlots: winningAd:"+i+" winningSlot:"+a+" ratio:"+r),n},getAllRenditions:function(e){return e.vastRenditions},findRenditionGroupByContentType:function(e){console.log("findRenditionGroupByContentType:"+e);var t=[];if(e instanceof u&&isNaN(e.duration))return console.log("findRenditionGroupByContentType(), duration of linear ad is NaN, will not used for scheduling"),t;for(var n=this.getAllRenditions(e),i=0;i<n.length;i++){var r=n[i];if(e instanceof u){if(null==r.creativeType||""==a.Util.trim(r.creativeType)){console.log("findRenditionGroupByContentType, the contentType "+r.creativeType+" not supported for linearAd");continue}}else if(!o(r.creativeType)){console.log("findRenditionGroupByContentType, the contentType "+r.creativeType+" not supported for non-linearAd");continue}t.push(r)}return t},formalizeString:function(e){return e?a.Util.trim(e).toLowerCase():""},getAdsByTargetType:function(){console.log("getAdsByTargetType");var e=[];switch(R){case 8:e=this.companionAds;break;case 2:e=this.linearAds;break;case 4:e=this.nonLinearAds}for(var t=0;t<e.length;t++)e[t].isDrivingAd=!0;return e},getImpressionOfWrapper:function(){console.log("getImpressionOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i&&i._impressions&&0<i._impressions.length){t=i._impressions;break}}return t||(t=this.impressions),t},getTrackingEventsOfWrapper:function(){console.log("getTrackingEventsOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i&&i._trackingEvents){t=i._trackingEvents;break}}return t},getClickThroughOfWrapper:function(){console.log("getClickThroughOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i){i.clickThrough&&(t=i.clickThrough),i=i.vastRenditions;for(var a=0;a<i.length;a++){var r=i[a];if(r.clickThrough){t=r.clickThrough;break}}if(t)break}}return t},getClickTrackingsOfWrapper:function(){console.log("getClickTrackingsOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i){i.clickTrackings&&0<i.clickTrackings.length&&(t=i.clickTrackings),i=i.vastRenditions;for(var a=0;a<i.length;a++){var r=i[a];if(r.clickTrackings&&0<r.clickTrackings.length){t=r.clickTrackings;break}}if(t)break}}return t},getCustomClicksOfWrapper:function(){console.log("getCustomClicksOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i){i.customClicks&&0<i.customClicks.length&&(t=i.customClicks),i=i.vastRenditions;for(var a=0;a<i.length;a++){var r=i[a];if(r.customClicks&&0<r.customClicks.length){t=r.customClicks;break}}if(t)break}}return t},testWrapperForRedirect:function(){return console.log("testAndUpdateWrapperForRedirect()"),this.tagUrl&&0<this.tagUrl.length},log:function(e){console.log("VastTranslator.VastAdPackage	"+e)},warn:function(e){console.log("VastTranslator.VastAdPackage	"+e)}},M.prototype.constructor=M,h.prototype={getVastVersion:function(e){return console.log("getVastVersion("+e+")"),e?0<e.indexOf(".")?parseInt(e.substring(0,e.indexOf("."))):parseInt(e):-1},parseAdData:function(e){console.log("parseAdData()");var t,n={};n.selectedPackage=null,n.redirectPackage=null;var i=a.Util.xmlToJson(e);if(!i||!i.VAST||!i.VAST["@attributes"]||2>this.getVastVersion(i.VAST["@attributes"].version)&&4<this.getVastVersion(i.VAST["@attributes"].version))C.onTranslatorFailed(a.ERROR_PARSE,"wrapperUrl="+w);else{if(i.VAST.Ad){i.VAST.Ad=[].concat(i.VAST.Ad);var r=[];for(e=[],t=0;t<i.VAST.Ad.length;t++){var o=new M;o.isWrapper=!!i.VAST.Ad[t].Wrapper,o.isWrapper?(o.parse(i.VAST.Ad[t].Wrapper),e.push(o)):(o.parse(i.VAST.Ad[t].InLine),r.push(o))}if(i=!1,0===r.length&&0===e.length)return console.log("parseAdData(): no ads from vast response!!!"),[n];for(console.log("parseAdData(): "+r.length+"inline ads, "+e.length+" wrapper ads."),o=null,t=0;t<r.length;t++)if(this.selectUsableAdsForDrivingSlot(r[t])){console.log("parseAdData(): package for driving slot is found!!!"),o=r[t];break}if(t=0<D.length&&S.getSlot().getTimePositionClass()!==a.TIME_POSITION_CLASS_DISPLAY,o)t&&this.selectUsableAdsCompanionSlots(o)&&console.log("parseAdData(): companion ads are found for companion slots, with driving slot"),n.selectedPackage=o;else if(t){t=!1;for(var s=0;s<r.length;s++)o=r[s],this.selectUsableAdsCompanionSlots(o)&&(console.log("parseAdData(): companion ads are found for companion slots,without driving slot"),n.selectedPackage=o,t=!0);t||(console.log("parseAdData(): companion ads are not found for companion slots,without driving slot"),i=!0)}else console.log("parseAdData(): no usable ads found in vast response!!!"),i=!0;if(i&&0<e.length)for(r=0;r<e.length;r++)if(this.testWrapperForRedirect(e[r])){n.redirectPackage=e[r],this.selectUsableAdsCompanionSlots(e[r])&&console.log("parseAdData(): companion ads are found for wrapper ad");break}return[n]}C.onTranslatorFailed(a.ERROR_NO_AD_AVAILABLE,"wrapperUrl="+w)}},selectUsableAdsForDrivingSlot:function(e){switch(console.log("selectUsableAdsForDrivingSlot()"),R){case 2:e=this.testAndUpdatePackageForTemporalSlot(e,!0);break;case 4:e=this.testAndUpdatePackageForTemporalSlot(e,!1);break;case 8:e=this.testAndUpdatePackageForPageSlots(e,!1);break;default:e=!1}return e},selectUsableAdsCompanionSlots:function(e){return console.log("selectUsableAdsCompanionSlots(pk)"),this.testAndUpdatePackageForPageSlots(e,!0)},testAndUpdatePackageForTemporalSlot:function(e,t){return console.log("testAndUpdatePackageForTemporalSlot(pk,isLinear), isLinear = "+t),e.testAndUpdatePackageForTemporalSlot(t)},testAndUpdatePackageForPageSlots:function(e,t){return console.log("testAndUpdatePackageForPageSlots(pk,isCompanion) isCompanion = "+t),e.testAndUpdatePackageForPageSlots(t)},testWrapperForRedirect:function(e){return console.log("testWrapperForRedirect(pk)"),e.testWrapperForRedirect()},log:function(e){console.log("VastTranslator.VastParser	"+e)},warn:function(e){console.log("VastTranslator.VastParser	"+e)}};var w=S.getActiveCreativeRendition().getWrapperUrl();if(L=S.getActiveCreativeRendition().getWrapperType(),t("AdInstance.getActiveCreativeRendition().getWrapperUrl()="+w+", getWrapperType()="+L),0!=L.indexOf("external/vast-"))C.onTranslatorFailed(a.ERROR_NO_RENDERER,"wrapperType="+L+";wrapperUrl="+w);else if(w&&0!==w.length){L=e.getParameter("translator.vast.asyncLoad"),L=!0===a.Util.str2bool(L),t("will load vast xml, asyncAjax:"+L);var k=e.getParameter("translator.vast.loadWithCookie");k=!0===a.Util.str2bool(k);var V=null;try{window.XDomainRequest?(V=new XDomainRequest,L=!0):(V=new XMLHttpRequest,V.withCredentials=k),C._request=V,L?(V.open("GET",w),window.XDomainRequest?V.onload=function(){var e=new ActiveXObject("Microsoft.XMLDOM");e.async=!1,e.loadXML(V.responseText),V.responseXML=e,V.status=200,I(V)}:V.onreadystatechange=function(){4==V.readyState&&I(V)},V.onerror=function(){window.XDomainRequest&&(V.status=0),0==V.status?(n("CORS error"),C.onTranslatorFailed(a.ERROR_SECURITY,"wrapperUrl="+w)):(n("exception:"+V.statusText),C.onTranslatorFailed(a.ERROR_UNKNOWN,"wrapperUrl="+w+";exception="+V.statusText))},V.send()):(V.open("GET",w,!1),V.send(),I(V))}catch(U){if(L=!1,window.XMLHttpRequestException){if(U instanceof XMLHttpRequestException)switch(U.code){case XMLHttpRequestException.NETWORK_ERR:L=!0}}else U.code===DOMException.NETWORK_ERR&&(n("CORS in IE10"),L=!0);L?(n("CORS error:"+U),C.onTranslatorFailed(a.ERROR_SECURITY,"wrapperUrl="+w)):(n("exception:"+U),C.onTranslatorFailed(a.ERROR_UNKNOWN,"wrapperUrl="+w+";exception="+U))}}else C.onTranslatorFailed(a.ERROR_NULL_ASSET,"wrapperUrl="+w)},info:function(){return{moduleType:a.MODULE_TYPE_TRANSLATOR}},log:function(e){console.log("VastTranslator	"+e)},warn:function(e){console.log("VastTranslator	"+e)},getPlayheadTime:function(){return-1},getDuration:function(){return-1},stop:function(){console.log("VastTranslator stop"),this._request&&(this._request.abort(),console.log("VastTranslator Stop: request aborted")),this._request=null,this._rendererController&&this._rendererController.handleStateTransition(a.TRANSLATOR_STATE_COMPLETED)},onTranslatorFailed:function(e,t){this._request&&(this._request=null),t?this._rendererController.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:e,errorInfo:t}):this._rendererController.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:e})}},a.VastTranslator.prototype.constructor=a.VastTranslator,a.VideoAsset=function(e){this._defaultTimeouts=[5,10,15,30,60,120,180,300],this._context=e,this._internalState=a.MediaInitState.instance,this._eventCallback=this._state="",this._callbackTimer=null,this._requestedVideoViewUrl=this._videoPlayPending=!1,this._dummyInstanceId="",this._delay=0,this._location=this._networkId=this._duration=this._customId=this._id="",this._autoPlayType=null,this._fallbackId="",this._viewRandom=0,this._durationType=null,this._currentTpos=0},a.VideoAsset.prototype={setVideoAsset:function(e,t,n,i,r,o,s,l,d){if(e){switch(s){case a.ID_TYPE_FW:s=this._id!=e,this._id=e;break;case a.ID_TYPE_GROUP:s=this._id!="g"+e,this._id="g"+e;break;default:s=this._customId!=e,this._customId=e}s&&(this._eventCallback=""),"number"==typeof t&&(this._duration=Math.round(10*t)/10),1*n>0&&(this._networkId=1*n),"string"==typeof i&&(this._location=i),"number"==typeof r&&(this._autoPlayType=r),1*o>0&&(this._viewRandom=1*o),"number"==typeof l&&l>0?this._fallbackId=""+l:"string"==typeof l&&(this._fallbackId=l.trim()),d!==a.VIDEO_ASSET_DURATION_TYPE_EXACT&&d!==a.VIDEO_ASSET_DURATION_TYPE_VARIABLE||(this._durationType=d),this._videoPlayPending&&this.play()}else console.log("AdRequest.setVideoAsset","id is required.")},setVideoAssetCurrentTimePosition:function(e){!e||0>e?console.log("AdRequest.setVideoAssetCurrentTimePosition","valid timePosition is required"):this._currentTpos=e},setVideoState:function(e){e===a.VIDEO_STATE_PLAYING?(this._state===a.VIDEO_STATE_PAUSED&&this._context.dispatchEvent(a.EVENT_CONTENT_VIDEO_RESUMED),this.play()):e===a.VIDEO_STATE_PAUSED||e===a.VIDEO_STATE_STOPPED?(this.pause(),e===a.VIDEO_STATE_PAUSED&&this._state===a.VIDEO_STATE_PLAYING&&this._context.dispatchEvent(a.EVENT_CONTENT_VIDEO_PAUSED)):e===a.VIDEO_STATE_COMPLETED&&this.complete(),this._state=e},callback:function(e){this._eventCallback?this._eventCallback.process():e=!0,e||((e=this._defaultTimeouts.shift())||(e=300),this._callbackTimer=new a.Timer(e,a.Util.bind(this,this.callback)),this._callbackTimer.start())},getPlayheadTime:function(){var e=this._delay;return this._delay=0,e+=this._callbackTimer?this._callbackTimer.getCTValue():0,Math.floor(e)},play:function(){this._context._adManager._serverURL&&this._context._adManager._networkId&&(this._id||this._customId)?this._eventCallback?(this._videoPlayPending=!1,this._internalState.play(this)):this._requestedVideoViewUrl||(this._requestedVideoViewUrl=!0,this.requestForVideoViewCallback(),this._callbackTimer||(this._callbackTimer=new a.Timer,this._callbackTimer.tick())):(console.log("Server URL or Network ID or Video Asset id/customId is not set, pend video asset play request."),this._videoPlayPending=!0,this._callbackTimer||(this._callbackTimer=new a.Timer,this._callbackTimer.tick()))},pause:function(){this._internalState.pause(this)},complete:function(){this._internalState.complete(this)},onStartPlaying:function(){this.callback()},onStartReplaying:function(){this.callback()},onPausePlaying:function(){this.callback(!0),this._callbackTimer.pause()},onResumePlaying:function(){this._callbackTimer.start()},onCompletePlaying:function(){this.callback(!0),this._callbackTimer.stop(),this._callbackTimer=null,this._eventCallback="",this._requestedVideoViewUrl=!1},onCompleteReplaying:function(){this.onCompletePlaying()},setMediaState:function(e){this._internalState=e},requestPauseBySlot:function(e){console.log("requestPauseBySlot"),this._internalState==a.MediaPlayingState.instance||this._internalState==a.MediaReplayingState.instance?this._context.dispatchEvent(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,{slot:e}):console.log("Not sending content pause request because content video state is",JSON.stringify(this._internalState))},requestResumeBySlot:function(e){console.log("requestResumeBySlot"),this._internalState==a.MediaPausedState.instance||this._internalState==a.MediaReplayPausedState.instance?this._context.dispatchEvent(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST,{slot:e}):console.log("Not sending content resume request because content video state is ",JSON.stringify(this._internalState))},requestForVideoViewCallback:function(){var e=new a.Context(this._context._adManager);e._videoAsset=this,this._dummyInstanceId=e._instanceId,e=this._context._adRequest.generateVideoViewRequestUrlWithDummyContextInstanceId(e._instanceId);var t=this;a.PLATFORM_SEND_REQUEST_BY_FORM?(console.log("Context.submitRequest:","use json2"),a.Util.pingURLWithForm(e,this._dummyInstanceId,!0),t._onMessagePosted=function(e){"object"==typeof e.data&&e.data.hasOwnProperty("cbfn")&&-1<e.data.cbfn.indexOf("['Context_"+this._dummyInstanceId+"']")&&t.requestComplete(e.data.response)},window.addEventListener("message",t._onMessagePosted,!1)):a.Util.pingURLWithScript(e)},requestComplete:function(e){if(this._delay=this._callbackTimer.tick(),this._callbackTimer=null,a.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);var t=document.getElementById("_fw_request_iframe_"+this._dummyInstanceId);document.body.removeChild(t)}null!==e?(a._instanceQueue["Context_"+this._dummyInstanceId]=null,this.parse(a.Util.getObject("siteSection.videoPlayer.videoAsset",e)||{}),this.play()):console.log("Failed to get video view callback url.")},parse:function(e){if(e){this._customId=e.customId,this._networkId=parseInt(e.networkId);for(var t=0,n=e.eventCallbacks||[];t<n.length;t++){e=n[t];var i=a.EventCallback.newEventCallback(this._context,e.name,e.type);if(i&&e.name===a.EVENT_VIDEO_VIEW){i.parse(e),this._eventCallback=i,console.log("Parsed video view url: "+this._eventCallback._url);break}}}}},a.VideoRenderer=function(){this._adVideo=null,this._duration=this._playheadTime=-1,this._dragging=this._stopInvoked=this._isEnded=!1,this._volume=1,this._rendererController=null,this._isBuffering=!1},a.VideoRenderer.prototype={pause:function(){this._rendererController&&this._rendererController.processEvent({name:a.EVENT_AD_PAUSE}),this._adVideo&&!this._adVideo.paused&&this._adVideo.pause()},resume:function(){this._rendererController&&this._rendererController.processEvent({name:a.EVENT_AD_RESUME}),this._adVideo&&this._adVideo.paused&&this._adVideo.play()},start:function(e){this._rendererController=e;var t=e.getAdInstance(),n=t.getSlot(),i=this,r=!1,o=!1;if(a.PLATFORM_NOT_SUPPORT_VIDEO_AD)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:n.getTimePositionClass()});else if(a.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&n.getTimePositionClass()===a.TIME_POSITION_CLASS_MIDROLL)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"midroll"});else{console.log("VideoRenderer.start",n.getTimePositionClass(),t);var s=e.getContentVideoElement(),l=n.getVideoDisplaySize().width,d=n.getVideoDisplaySize().height,c=t.getRenderableCreativeRenditions(),u=(l=new a.RenditionSelector(e.getParameter(a.PARAMETER_DESIRED_BITRATE)||1e3,e.getParameter("arWeight")||1,e.getParameter("pxWeight")||1,.2).getBestFitRendition(c,l,d))?l.getPrimaryCreativeRenditionAsset():null;if(!u&&c.length)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"no compatible asset"});else if(u&&u.getUrl()){t.setActiveCreativeRendition(l),console.log("VideoRenderer.start selected rendition is:",u.getUrl()),e.setCapability(a.EVENT_AD_QUARTILE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_MUTE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_PAUSE,a.CAPABILITY_STATUS_ON);var _=!a.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO;_||e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF);var p=a.PLATFORM_EVENT_CLICK,h=a.MOBILE_EVENT_DRAG;console.log("VideoRenderer","use content video element"),s.controls=!1,this._adVideo=s;var g=null,f=null,E=null;this._volume=e.getContext().getAdVolume(),this._adVideo.volume=this._volume,this._adVideo.muted=0==this._volume;var m=function(e){console.log("VideoRenderer.checkTimeUpdate timeout"),L(e)},T=function(){f&&(clearTimeout(f),f=null)},A=a.Util.bind(this,function(t){console.log("onAdVideoBufferEmpty(): Ad video event "+t.type),t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED),null!=t&&"undefined"!=typeof t&&!1!==a.Util.str2bool(t)&&(console.log("play the ad immediately after the stalled event"),s&&s._fw_videoAdPlaying&&s.play())}),v=function(t){this._isBuffering||(this._isBuffering=!0,e.processEvent({name:a.EVENT_AD_BUFFERING_START}),console.log("onAdVideoBufferingStarted(): Ad video event "+t.type))},I=function(t){this._isBuffering&&(this._isBuffering=!1,e.processEvent({name:a.EVENT_AD_BUFFERING_END}),console.log("onAdVideoBufferingEnded(): Ad video event "+t.type))};t=e.getParameter(a.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT);var y=null;t&&(y=document.getElementById(t)),y||(y=s);var S,C=a.Util.bind(this,function(t){if(s.paused&&a.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED)s.play();else{var n=e.getParameter(a.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION);null==n&&(n="true"),!1!==a.Util.str2bool(n)&&(o?(console.log("Ad video event "+t.type),this._dragging?this._dragging=!1:e.processEvent({name:a.EVENT_AD_CLICK})):console.log("Ad not started, ignore click."))}}),P=a.Util.bind(this,function(e){console.log("Ad video event "+e.type),this._dragging=!0}),R=function(t){if(console.log("Ad video event "+t.type+" ended: "+s.ended+" playing:"+s._fw_videoAdPlaying),s.ended&&.2>Math.abs(s.duration-s.currentTime)||!s._fw_videoAdPlaying)S=setTimeout(function(){console.log("Force ad video end bc ad paused with ended = true"),t.type="ended",O(t)},200);else{var n=e.getParameter(a.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE);null==n&&(n="true"),!1===a.Util.str2bool(n)?console.log("Pause controls disabled"):s.controls=!0,T()}},D=function(e){console.log("Ad video event "+e.type),s.controls=!1},N=0,b=function(t){0>=s.currentTime?console.log("VideoRenderer.onAdVideoTimeUpdate currentTime is less than or 0"):(T(),s.paused||(t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT)||8e3,f=setTimeout(m,t,t+"ms timeout when playing")),o||(o=!0,i._playheadTime=s.currentTime,0>i._playheadTime&&(i._playheadTime=0),g&&(clearTimeout(g),g=null),i._quartileTimerId=setInterval(function(){var t=s.currentTime,n=s.duration;t>0&&(i._playheadTime=t),n>0&&(i._duration=n),"number"!=typeof t||"number"!=typeof n||E||(t>=.25*n&&1>N&&(e.processEvent({name:a.EVENT_AD_FIRST_QUARTILE}),N=1),t>=.5*n&&2>N&&(e.processEvent({name:a.EVENT_AD_MIDPOINT}),N=2),t>=.75*n&&3>N&&(clearInterval(i._quartileTimerId),i._quartileTimerId=null,e.processEvent({name:a.EVENT_AD_THIRD_QUARTILE}),N=3))},1e3),e.handleStateTransition(a.RENDERER_STATE_STARTED)))};this.dispose=a.Util.bind(this,function(){O()});var O=function(t){var n=E;t&&t.type&&(console.log("Ad video event "+t.type),"error"===t.type&&(console.log(t.target.src),console.log(t.target.currentSrc),I())),T(),g&&(clearTimeout(g),g=null),_&&(y.removeEventListener(p,C,!1),y.removeEventListener(h,P,!1)),S&&(clearTimeout(S),S=null),s.removeEventListener("ended",O,!1),s.removeEventListener("error",O,!0),s.removeEventListener("pause",R,!1),s.removeEventListener("playing",D,!1),s.removeEventListener("timeupdate",b,!1),s.removeEventListener("stalled",A,!1),s.removeEventListener("waiting",v,!1),s.removeEventListener("canplay",I,!1),s.paused||(console.log("try pausing video before complete"),s.pause()),t&&"error"===t.type&&(n="video error",(t=s.error||t.target.error)&&(n="error:"+t+",code:"+t.code)),n||(i._isEnded=!0),console.log("VideoRenderer.complete"),r||(r=!0,delete s._fw_videoAdPlaying,i._adVideo=null,i._quartileTimerId&&(clearInterval(i._quartileTimerId),i._quartileTimerId=null),n?e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorInfo:n}):(i._stopInvoked||(s.currentTime>=.25*s.duration&&1>N&&(e.processEvent({name:a.EVENT_AD_FIRST_QUARTILE}),N=1),s.currentTime>=.5*s.duration&&2>N&&(e.processEvent({name:a.EVENT_AD_MIDPOINT}),N=2),s.currentTime>=.75*s.duration&&3>N&&(e.processEvent({name:a.EVENT_AD_THIRD_QUARTILE}),N=3),s.currentTime>=s.duration-.5&&4>N&&(e.processEvent({name:a.EVENT_AD_COMPLETE}),N=4)),i._stopInvoked=!1,e.handleStateTransition(a.RENDERER_STATE_COMPLETED))),this._rendererController=null},L=function(e){E=e,console.log(E),a.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT||O()};s._fw_videoAdPlaying=!0;var M=!1,w=function(){if(!M){if(M=!0,_&&(y.addEventListener(p,C,!1),y.addEventListener(h,P,!1)),s.addEventListener("ended",O,!1),s.addEventListener("error",O,!0),s.addEventListener("pause",R,!1),s.addEventListener("playing",D,!1),s.addEventListener("timeupdate",b,!1),s.addEventListener("stalled",A,!1),s.addEventListener("waiting",v,!1),s.addEventListener("canplay",I,!1),s.src=u.getUrl(),console.log("VideoRenderer play video ad "+s.src),s.load(),s._fw_fromVideoPool||a.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT){var t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT)||5e3;g=setTimeout(L,t,t+"ms timeout before playing")}a.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE&&e.handleStateTransition(a.RENDERER_STATE_STARTED),t=100,0<a.PLATFORM_ANDROID_VERSION&&(t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY)||100),setTimeout(function(){var t=s.play();t&&a.PLATFORM_IS_SAFARI&&t["catch"](function(t){(t&&"AbortError"==t.name||"NotAllowedError"==t.name)&&(console.log("Blocked by browser, need player to display a start button. Details: %o",t),g&&(clearTimeout(g),g=null),n.setAutoPlayBlocked(!0),e.processEvent({name:a.EVENT_AD_AUTO_PLAY_BLOCKED,info:{apiOnly:!0}}))})},t)}};a.VideoRenderer._fw_playedDummyVideo||n.getTimePositionClass()!==a.TIME_POSITION_CLASS_PREROLL||!a.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL||/\.webm$/.test(u.getUrl())?w():(a.VideoRenderer._fw_playedDummyVideo=!0,console.log("play dummy video for iOS 3.2-4.1"),s.src="http://127.0.0.1:1/404.mp4",s.load(),s.play(),s._fw_videoAdPlaying=!0,s.addEventListener("error",function(){event.target.removeEventListener("error",s,!0),w()},!0),setTimeout(w,a.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL?500:5e3))}else e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_NULL_ASSET})}},stop:function(){console.log("VideoRenderer stop"),this._stopInvoked=!0,this._adVideo&&(this._adVideo._fw_videoAdPlaying=!1,this._adVideo.pause(),this.dispose()),this._rendererController=null},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){if(this._isEnded&&0<this._duration)return this._duration;if(this._adVideo){var e=this._adVideo.currentTime;if(e>0)return e}return this._playheadTime},getDuration:function(){return this._duration},setVolume:function(e){console.log("VideoRenderer setVolume("+e+")"),this._adVideo?(this._adVideo.volume=e,this._adVideo.muted=0==e,this._volume!=e&&this._rendererController.processEvent({name:a.EVENT_AD_VOLUME_CHANGE}),0==this._volume&&0!=e?this._rendererController.processEvent({name:a.EVENT_AD_UNMUTE}):0!=this._volume&&0==e&&this._rendererController.processEvent({name:a.EVENT_AD_MUTE}),this._volume=e):console.log("VideoRenderer ad video is null, ignore.")}},a.VideoRenderer.prototype.constructor=a.VideoRenderer,a.VideoStateExtension=function(){},a.VideoStateExtension.prototype={_enabled:function(){if(null==this._context)return!1;var e=this._context.getParameter(a.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED);return null==e&&(e="false"),!0===a.Util.str2bool(e)},init:function(e){this._context=e,this._enabled()?this._context.setVideoState(a.VIDEO_STATE_PLAYING):console.log("VideoStateExtension is disabled.")},dispose:function(){this._context=null}},a.VideoStateExtension.prototype.constructor=a.VideoStateExtension,a.VPAIDWrapper=function(){this._creative=null,this._timeoutInMs=0,this._eventHandlers={},this._loadIntervalTimer=this._timeoutTimer=null,this._timeoutOperation="",this.timeoutReached=!1,this._visibilityChangeListener=null},a.VPAIDWrapper.prototype={_isCreativeFunctionInvokable:function(e){return this._creative?!(!(e=this._creative[e])||"function"!=typeof e):!1},checkVPAIDInterface:function(e){for(var t={passed:!0,missingInterfaces:""},n=e.length-1;n>=0;n--)this._isCreativeFunctionInvokable(e[n])||(t.passed=!1,t.missingInterfaces+=e[n]+" ");return t},loadCreativeAsset:function(e){console.log("loadCreativeAsset("+e+")");var t=document.getElementById("vpaidFrame"),n=document.createElement("iframe");n.id="vpaidFrame",null==t?document.body.appendChild(n):document.body.replaceChild(n,t),n.width=0,n.height=0,n.style.display="none",n.contentWindow.document.open(),n.contentWindow.document.write('<script type="text/javascript" src="'+e+'"> </script>'),n.contentWindow.document.close(),this._timeoutOperation="loadCreativeAsset",this._waitForTimeout();var i=this;this._loadIntervalTimer=setInterval(function(){var e=document.getElementById("vpaidFrame").contentWindow.getVPAIDAd;e&&"function"==typeof e&&(clearInterval(i._loadIntervalTimer),e=e(),"undefined"==typeof e?console.log("getVPAIDAd() returns undefined value"):null===e?console.log("getVPAIDAd() returns null"):(i._creative=e,i._eventHandlers.CreativeAssetLoaded()))},200)},setCallbacksForCreative:function(e,t){for(var n in e)e.hasOwnProperty(n)&&this._creative.subscribe(e[n],n,t)},removeCallbacksForCreative:function(e){for(var t in e)e.hasOwnProperty(t)&&this._creative.unsubscribe(e[t],t)},handshakeVersion:function(e){return console.log("VPAID Creative: handshakeVersion("+e+")"),this._creative.handshakeVersion(e)},initAd:function(e,t,n,i,a,r){console.log("VPAID Creative: initAd()"),this._timeoutOperation="initAd",this._waitForTimeout(),this._creative.initAd(e,t,n,i,a,r)},startAd:function(){console.log("VPAID Creative: startAd()"),this._timeoutOperation="startAd",this._waitForTimeout(),this._creative.startAd()},stopAd:function(){console.log("VPAID Creative: stopAd()"),"startAd"===this._timeoutOperation?(clearTimeout(this._timeoutTimer),this._timeoutOperation="startAd and stopAd"):this._timeoutOperation+="stopAd",this._creative&&(this._waitForTimeout(),this._creative.stopAd())},canPauseAd:function(){return this._isCreativeFunctionInvokable("pauseAd")},canResumeAd:function(){return this._isCreativeFunctionInvokable("resumeAd")},canResizeAd:function(){return this._isCreativeFunctionInvokable("resizeAd")},pauseAd:function(){this.canPauseAd()&&(console.log("VPAID Creative: pauseAd()"),this._creative.pauseAd())},resumeAd:function(){this.canResumeAd()&&(console.log("VPAID Creative: resumeAd()"),this._creative.resumeAd())},resizeAd:function(e,t,n){this.canResizeAd()?(console.log("VPAID Creative: resizeAd()"),this._creative.resizeAd(e,t,n)):console.log("The creative is not able to resize")},getAdVolume:function(){return this._isCreativeFunctionInvokable("getAdVolume")?this._creative.getAdVolume():-1},setAdVolume:function(e){this._isCreativeFunctionInvokable("setAdVolume")&&this._creative.setAdVolume(e)},getAdExpanded:function(){return this._isCreativeFunctionInvokable("getAdExpanded")?this._creative.getAdExpanded():!1},getAdRemainingTime:function(){return this._isCreativeFunctionInvokable("getAdRemainingTime")?this._creative.getAdRemainingTime():-1},getAdDuration:function(){return this._isCreativeFunctionInvokable("getAdDuration")?this._creative.getAdDuration():-1},getAdLinear:function(){return this._creative.getAdLinear()},getAdCompanions:function(){return this._isCreativeFunctionInvokable("getAdCompanions")?this._creative.getAdCompanions():""},setTimeoutValueInMs:function(e){this._timeoutInMs=e},cancelTimeoutEvent:function(){var e="startAd and stopAd"!==this._timeoutOperation;if(clearTimeout(this._timeoutTimer),!e){this._timeoutOperation="startAd";var t=this;setTimeout(function(){t._eventHandlers&&t._eventHandlers.timeout&&t._eventHandlers.timeout.call()},500)}},addEventListener:function(e,t){this._eventHandlers[e]=t},removeEventListener:function(e){this._eventHandlers[e]=null},_waitForTimeout:function(){if(console.log("Wait for "+this._timeoutOperation+" for "+this._timeoutInMs+"ms"),this._eventHandlers.timeout){var e=this;this._timeoutTimer=setTimeout(function(){e.timeoutReached||(e.timeoutReached=!0),"startAd"===e._timeoutOperation?e.stopAd():("loadCreativeAsset"===e._timeoutOperation&&clearInterval(e._loadIntervalTimer),e._eventHandlers&&e._eventHandlers.timeout&&e._eventHandlers.timeout.call())},this._timeoutInMs)}},getTimeoutOperation:function(){return this._timeoutOperation}},a.VPAIDWrapper.prototype.constructor=a.VPAIDWrapper,a.VPAIDRenderer=function(){this.vpaidCreative=this.rendererController=null,this.vpaidVolume=this.vpaidDuration=-1,this.creativeEventCallbacks={},this.isMuted=!1,this.adPlaybackState="",this.creativeTimeoutDelayInMs=1e4,this.vpaidDesiredBitrate=268,this.vpaidViewmode="normal",this.playheadTime=0,this.videoBase=document.createElement("div"),this.videoParent=null,this.SUPPORTED_CREATIVE_VPAID_VERSION_MIN=this.PLAYER_VPAID_VERSION=2},a.VPAIDRenderer.prototype={},a.VPAIDRenderer.prototype.constructor=a.VPAIDRenderer,a.VPAIDRenderer.VastCompanion=function(e,t,n,i){this._width=e,this._height=t,this._apiFramework=n,this._xmlNode=i},a.VPAIDRenderer.VastCompanion.prototype={getWidth:function(){return this._width},getHeight:function(){return this._height},_isValidResource:function(e,t){
return"StaticResource"===e&&t["@attributes"].creativeType||"IFrameResource"===e&&t.value||"HTMLResource"===e&&t.value},hasValidRendtions:function(){for(var e in this._xmlNode)if(this._xmlNode.hasOwnProperty(e)&&("StaticResource"===e||"IFrameResource"===e||"HTMLResource"===e))for(var t=[].concat(this._xmlNode[e]),n=t.length-1;n>=0;n--)if(this._isValidResource(e,t[n]))return!0;return!1},translateToAdInstance:function(e){if(this._xmlNode.CompanionClickThrough&&e.setClickThroughUrl(a.EVENT_AD_CLICK,this._xmlNode.CompanionClickThrough.value),this._xmlNode.TrackingEvents){var t=this._xmlNode.TrackingEvents;if(t.Tracking){t=[].concat(t.Tracking);for(var n=[],i=t.length-1;i>=0;i--)"creativeView"===t[i]["@attributes"].event&&n.push(t[i].value);0<n.length&&e.addEventCallbackUrls(a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n)}}for(var r in this._xmlNode)if(this._xmlNode.hasOwnProperty(r)&&("StaticResource"===r||"IFrameResource"===r||"HTMLResource"===r))for(t=[].concat(this._xmlNode[r]),i=t.length-1;i>=0;i--)if(this._isValidResource(r,t[i])){n=t[i];var o=e.addCreativeRendition();o.setWidth(this._width),o.setHeight(this._height),o.setCreativeApi("None");var s=o.addCreativeRenditionAsset("VPAIDAsset"+i,!0);s.setContentType("text/html_doc_lit_mobile"),s.setMimeType("text/html");var l=e.getEventCallbackUrls(a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK)[0],d=r;"HTMLResource"===d?s.setContent(a.HTMLAdGenerator.wrapUnsafeHTML(n.value,e.getSlot().getCustomId(),this._width,this._height)):("IFrameResource"===d?creativeType="iframe":"StaticResource"===d&&(creativeType=this._xmlNode.creativeType),s.setContent(a.HTMLAdGenerator.generateAd(n.value,l,e.getSlot().getCustomId(),this._width,this._height,creativeType,s.getContentType()))),console.log("rendtion width: "+o.getWidth()+" height:"+o.getHeight()+" asset content:"+s.getContent())}}},a.VPAIDRenderer.VastCompanion.prototype.constructor=a.VPAIDRenderer.VastCompanion,a.VPAIDRenderer.VastAdSelect=function(){},a.VPAIDRenderer.VastAdSelect.prototype={_getDeadSpaceRatio:function(e,t){var n=e.getWidth();e=e.getHeight();var i=t.getWidth();t=t.getHeight();var a=1;return i>=n&&t>=e&&(a=1-n*e/(i*t)),console.log("computing dead space ratio ("+a+") for slot "+i+"x"+t+" and ad "+n+"x"+e),a},matchAdsWithSlots:function(e,t){console.log("VPAIDRenderer: Matching ads with slots");for(var n=0;n<t.length;++n)t[n].matched=!1;var i=[],a=[];for(n=0;n<e.length;n++)for(var r=0;r<t.length;r++)a.push({ratio:this._getDeadSpaceRatio(e[n],t[r]),adIndex:n,slotIndex:r});for(a.sort(function(e,t){return e.ratio-t.ratio}),n=0;n<a.length&&1!=a[n].ratio;n++){r=a[n];var o=e[r.adIndex],s=t[r.slotIndex];o.matched||s.matched||(console.log("Winning ratio:"+r.ratio+" Winning ad:"+o.getWidth()+"x"+o.getHeight()+" for slot:"+s.getWidth()+"x"+s.getHeight()),i.push({ad:o,slot:s}),o.matched=!0,s.matched=!0)}return i}},a.VPAIDRenderer.VastAdSelect.prototype.constructor=a.VPAIDRenderer.VastAdSelect,a.Util.mixin(a.VPAIDRenderer.prototype,{_failWithError:function(e,t){this.rendererController.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VPAIDRenderer",errorCode:e,errorInfo:t}),this.dispose()},onCreativeTimeout:function(){console.log("VPAIDRenderer: onCreativeTimeout()");var e=this.vpaidCreative.getTimeoutOperation();this._failWithError(a.ERROR_TIMEOUT,"loadCreativeAsset"!==e?"Creative function "+e+" timeout":"load creative asset timeout")},setVolume:function(e){console.log("VPAIDRenderer: setVolume("+e+")"),this.vpaidCreative&&this.vpaidCreative.setAdVolume(e)},onAdVolumeChange:function(){console.log("VPAIDRenderer: onAdVolumeChange()");var e=this.vpaidCreative.getAdVolume();0>e||e>1?console.log("Invalid ad volume value"):(this.isMuted&&100*e>2?(this.isMuted=!1,this.rendererController.processEvent({name:a.EVENT_AD_UNMUTE})):!this.isMuted&&2>100*e&&(this.isMuted=!0,this.rendererController.processEvent({name:a.EVENT_AD_MUTE})),this.rendererController.processEvent({name:a.EVENT_AD_VOLUME_CHANGE}))},onAdExpandedChange:function(){console.log("VPAIDRenderer: onAdExpandedChange()"),this.vpaidCreative.getAdExpanded()?this.rendererController.processEvent({name:a.EVENT_AD_EXPAND}):this.rendererController.processEvent({name:a.EVENT_AD_COLLAPSE})},onAdDurationChange:function(){console.log("VPAIDRenderer: onAdDurationChange(): duration changed to "+this.vpaidCreative.getAdDuration())},onAdClickThru:function(e,t,n){console.log("VPAIDRenderer: onAdClickThru() with url:"+e+" id:"+t+" playerHandles:"+n),t={name:tv.freewheel.SDK.EVENT_AD_CLICK,info:{}},t.info[a.INFO_KEY_SHOW_BROWSER]=!0===n,!0===n?e?(console.log("onAdClickThru(): open window with overrided url"),t.info[a.INFO_KEY_URL]=e):console.log("onAdClickThru(): open window with url booked in MRM UI or VAST clickthru url"):console.log("onAdClickThru(): send click tracking"),this.rendererController.processEvent(t)},onCreativeAssetLoaded:function(){console.log("VPAIDRenderer: onCreativeAssetLoaded()"),this.vpaidCreative.cancelTimeoutEvent();var e=this,t=function(){var t=e.vpaidCreative.handshakeVersion(e.PLAYER_VPAID_VERSION.toFixed(1));return t?parseFloat(t)<e.SUPPORTED_CREATIVE_VPAID_VERSION_MIN?(e._failWithError(a.ERROR_INVALID_VALUE,"Only support creatives with VPAID version >= "+e.SUPPORTED_CREATIVE_VPAID_VERSION_MIN.toFixed(1)),!1):!0:(e._failWithError(a.ERROR_3P_COMPONENT,"Cannot get VPAID version from the creative"),!1)};if(function(){var t=e.vpaidCreative.checkVPAIDInterface("handshakeVersion initAd startAd stopAd subscribe unsubscribe getAdLinear".split(" "));return t.passed||e._failWithError(a.ERROR_3P_COMPONENT,"Missing interfaces in the VPAID creative: "+t.missingInterfaces),t.passed}()&&t()){!function(){(param=e.rendererController.getParameter(a.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY))&&0<Number(param)&&(e.creativeTimeoutDelayInMs=Number(param)),console.log("initParams(), creative timeout delay in miliseconds:"+e.creativeTimeoutDelayInMs);var t=parseFloat(e.rendererController.getParameter(a.PARAMETER_DESIRED_BITRATE));e.vpaidDesiredBitrate=t>0?t:e.vpaidDesiredBitrate,console.log("initParams(), desired bitrate: "+e.vpaidDesiredBitrate)}(),e.creativeEventCallbacks={AdStarted:e.onAdStarted,AdStopped:e.onAdStopped,AdSkipped:e.onAdSkipped,AdLoaded:e.onAdLoaded,AdLinearChange:e.onAdLinearChange,AdSizeChange:e.onAdSizeChange,AdExpandedChange:e.onAdExpandedChange,AdDurationChange:e.onAdDurationChange,AdVolumeChange:e.onAdVolumeChange,AdImpression:e.onAdImpression,AdClickThru:e.onAdClickThru,AdVideoFirstQuartile:e.onAdVideoFirstQuartile,AdVideoMidpoint:e.onAdVideoMidpoint,AdVideoThirdQuartile:e.onAdVideoThirdQuartile,AdVideoComplete:e.onAdVideoComplete,AdUserAcceptInvitation:e.onAdUserAcceptInvitation,AdUserMinimize:e.onAdUserMinimize,AdUserClose:e.onAdUserClose,AdPaused:e.onAdPaused,AdPlaying:e.onAdResumed,AdError:e.onAdError,AdLog:e.onAdLog},e.vpaidCreative.setCallbacksForCreative(e.creativeEventCallbacks,e),this.rendererController.setCapability(a.EVENT_AD_QUARTILE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_MUTE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_EXPAND,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_PAUSE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_CLOSE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_MINIMIZE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_ACCEPT_INVITATION,a.CAPABILITY_STATUS_ON),(t=this.rendition?this.rendition.getParameter("creativeData"):null)||(t=this.rendition?this.rendition.getParameter("VPAID_creativeData"):null),t&&(t=a.Util.trim(t)),t={AdParameters:t};var n=this.rendererController.getAdInstance().getSlot();this.videoBase.style.width="0px",this.videoBase.style.height="0px",this.videoBase.style.zIndex="100000",this.videoBase.style.position="absolute",this.videoBase.style.left=this.rendererController.getContentVideoElement().style.left,this.videoBase.style.top=this.rendererController.getContentVideoElement().style.top,this.videoBase.className="fw_vpaid_slot",this.videoParent=n.getBase();var i=this.rendererController.getContentVideoElement();if("nodeType"in i&&0<i.nodeType)try{this.videoParent.insertBefore(this.videoBase,this.rendererController.getContentVideoElement())}catch(r){this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild)}else this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild);i={slot:this.videoBase,videoSlot:this.rendererController.getContentVideoElement(),videoSlotCanAutoPlay:!0};var o=n.getWidth();n=n.getHeight(),o&&n||!this.rendition||(o=this.rendition.getWidth(),n=this.rendition.getHeight()),this.vpaidCreative.initAd(o,n,this.vpaidViewmode,this.vpaidDesiredBitrate,t,i)}},onAdLoaded:function(){console.log("VPAIDRenderer: onAdLoaded()"),this.vpaidCreative.cancelTimeoutEvent(),console.log("Ad duration:"+this.getDuration());var e=this,t=function(t,n){if(console.log(n.length+" companion slots to fill."),0!==n.length&&0!==t.length){var i=(new a.VPAIDRenderer.VastAdSelect).matchAdsWithSlots(t,n);if(0!==i.length){t=[],n=[];for(var r=i.length-1;r>=0;r--)t.push(i[r].ad),n.push(i[r].slot);for(n=e.rendererController.scheduleAdInstances(n),r=n.length-1;r>=0;r--)t[r].translateToAdInstance(n[r])}}},n=function(e){if(!e)return console.log("The adCompanions property is empty."),null;if(console.log("parsing adCompanions: "+e),xmlDoc=null,window.DOMParser?xmlDoc=(new DOMParser).parseFromString(e,"text/xml"):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async=!1,xmlDoc.loadXML(e)),e=a.Util.xmlToJson(xmlDoc),!e||!e.CompanionAds||!e.CompanionAds.Companion)return console.log("No companion ads found in parsed xml"),[];e=[].concat(e.CompanionAds.Companion);for(var t=[],n=e.length-1;n>=0;n--){var i=e[n];if(i["@attributes"]){var r=i["@attributes"].width,o=i["@attributes"].height;if(!r||!o||0>r||0>o)console.log("Missing width/height for companion.");else{var s=i["@attributes"].apiFramework||"";console.log("Companion "+r+"x"+o+" api:"+s),i=new a.VPAIDRenderer.VastCompanion(r,o,s,i),i.hasValidRendtions()&&t.push(i)}}}return t}(e.vpaidCreative.getAdCompanions());n&&0<n.length?t(n,this.rendererController.getCompanionSlots()):console.log("VPAIDAdRenderer: No companions from VPAID creative."),t=this.rendererController.getAdInstance()._context.getAdVolume(),!this.isMuted&&2>100*t&&(this.isMuted=!0),this.setVolume(t),this.vpaidCreative.startAd()},onVisibilityChange:function(){console.log("onVisibilityChange:"+(document.hidden?"invisible":"visible")),console.log("Current playback state:"+this.adPlaybackState),document.hidden&&"playing"==this.adPlaybackState?(console.log("Pause the VPAID creative"),this.vpaidCreative.pauseAd()):!document.hidden&&("paused"==this.adPlaybackState||8>a.PLATFORM_IOS_VERSION)&&(console.log("Resume the VPAID creative"),this.vpaidCreative.resumeAd())},onAdStarted:function(){console.log("VPAIDRenderer: onAdStarted()"),this.vpaidCreative.timeoutReached?console.log("VPAID ad has already failed due to timeout. The AdStarted event will not be handled."):(this.vpaidCreative.cancelTimeoutEvent(),(7<=a.PLATFORM_IOS_VERSION||4.4<=a.PLATFORM_ANDROID_VERSION)&&(this._visibilityChangeListener=this.onVisibilityChange.bind(this),document.addEventListener("visibilitychange",this._visibilityChangeListener,!1)))},onAdStopped:function(){console.log("VPAIDRenderer: onAdStopped()"),this.vpaidCreative?(this.vpaidCreative.cancelTimeoutEvent(),this.timePositionClass===a.TIME_POSITION_CLASS_OVERLAY&&this.vpaidCreative.getAdLinear()&&this.rendererController.requestContentStateChange(!1),this.vpaidCreative&&!this.vpaidCreative.timeoutReached&&(this.adPlaybackState?(this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED),this.dispose()):(console.log("Expecting AdStarted and AdImpression events but got AdStopped event instead. Fail."),this._failWithError(a.ERROR_3P_COMPONENT,"Expecting AdStarted and AdImpression events from the VPAID creative but got AdStopped event instead")))):console.log("The VPAID creative has been disposed. Return.")},onAdImpression:function(){if(console.log("VPAIDRenderer: onAdImpression()"),this.vpaidCreative.timeoutReached)console.log("VPAID ad has already failed due to timeout. The AdImpression event will not be handled.");else{var e=this.vpaidCreative.getAdVolume();this.isMuted=e>0&&2>=100*e,this.adPlaybackState="playing",this.rendererController.handleStateTransition(a.RENDERER_STATE_STARTED)}},onAdLinearChange:function(){console.log("VPAIDRenderer: onAdLinearChange()");var e=this.vpaidCreative.getAdLinear();e?console.log("onAdLinearChange(): non-linear click to linear -> request content video to pause"):console.log("onAdLinearChange(): linear back to non-linear -> request content video to resume"),this.rendererController.requestContentStateChange(e)},onAdSizeChange:function(){console.log("VPAIDRenderer: onAdSizeChange()")},onAdPaused:function(){console.log("VPAIDRenderer: onAdPaused()"),"playing"===this.adPlaybackState&&this.rendererController.processEvent({name:a.EVENT_AD_PAUSE}),this.adPlaybackState="paused"},onAdResumed:function(){console.log("VPAIDRenderer: onAdResumed()"),"paused"===this.adPlaybackState&&this.rendererController.processEvent({name:a.EVENT_AD_RESUME}),this.adPlaybackState="playing"},onAdSkipped:function(){console.log("VPAIDRenderer: onAdSkipped()"),this.dispose(),this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED)},onAdVideoFirstQuartile:function(){console.log("VPAIDRenderer: onAdVideoFirstQuartile()"),this.rendererController.processEvent({name:a.EVENT_AD_FIRST_QUARTILE})},onAdVideoMidpoint:function(){console.log("VPAIDRenderer: onAdVideoMidpoint()"),this.rendererController.processEvent({name:a.EVENT_AD_MIDPOINT})},onAdVideoThirdQuartile:function(){console.log("VPAIDRenderer: onAdVideoThirdQuartile()"),this.rendererController.processEvent({name:a.EVENT_AD_THIRD_QUARTILE})},onAdVideoComplete:function(){console.log("VPAIDRenderer: onAdVideoComplete"),this.rendererController.processEvent({name:a.EVENT_AD_COMPLETE})},onAdUserAcceptInvitation:function(){console.log("VPAIDRenderer: onAdUserAcceptInvitation()"),this.rendererController.processEvent({name:a.EVENT_AD_ACCEPT_INVITATION})},onAdUserClose:function(){console.log("VPAIDRenderer: onAdUserClose()"),this.rendererController.processEvent({name:a.EVENT_AD_CLOSE})},onAdUserMinimize:function(){console.log("VPAIDRenderer: onAdUserMinimize()"),this.rendererController.processEvent({name:a.EVENT_AD_MINIMIZE})},onAdLog:function(e){console.log("VPAIDRenderer: onAdLog: "+e)},onAdError:function(e){console.log("VPAIDRenderer: onAdError(): "+e),this._failWithError(a.ERROR_3P_COMPONENT,"AdError event:"+e)},start:function(e){if(console.log("VPAIDRenderer start()"),this.rendererController=e,this.timePositionClass=e.getAdInstance().getSlot().getTimePositionClass(),e=(e=(this.rendition=e.getAdInstance().getActiveCreativeRendition())?this.rendition.getPrimaryCreativeRenditionAsset():null)?e.getUrl():null){this.vpaidCreative=new a.VPAIDWrapper,this.vpaidCreative.setTimeoutValueInMs(this.creativeTimeoutDelayInMs),this.vpaidCreative.addEventListener("timeout",this.onCreativeTimeout.bind(this)),this.vpaidCreative.addEventListener("CreativeAssetLoaded",this.onCreativeAssetLoaded.bind(this));try{this.vpaidCreative.loadCreativeAsset(e)}catch(t){this._failWithError(a.ERROR_IO,t)}}else this._failWithError(a.ERROR_NULL_ASSET,"Creative asset url cannot be null")},stop:function(){console.log("VPAIDRenderer stop()"),this.vpaidCreative.stopAd()},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){var e=this.vpaidCreative.getAdDuration(),t=this.vpaidCreative.getAdRemainingTime();return e>=0&&t>=0&&(this.playheadTime=e-t),0>this.playheadTime&&(this.playheadTime=-1),this.playheadTime},getDuration:function(){var e=this.vpaidCreative.getAdDuration();return e>=0?e:-1},pause:function(){console.log("VPAIDRenderer pause()"),this.rendererController.processEvent({name:a.EVENT_AD_PAUSE}),this.vpaidCreative.canPauseAd()?"playing"==this.adPlaybackState&&(this.adPlaybackState="pausing",this.vpaidCreative.pauseAd()):console.log("The creative is not able to pause")},resume:function(){console.log("VPAIDRenderer resume()"),this.rendererController.processEvent({name:a.EVENT_AD_RESUME}),this.vpaidCreative.canResumeAd()?"paused"==this.adPlaybackState&&(this.adPlaybackState="resuming",this.vpaidCreative.resumeAd()):console.log("The creative is not able to resume")},dispose:function(){console.log("VPAIDRenderer dispose()"),this.vpaidCreative&&(this.videoParent&&(this.videoParent.removeChild(this.videoBase),this.videoParent=null),this._visibilityChangeListener&&(console.log("remove visibilitychange listener"),document.removeEventListener("visibilitychange",this._visibilityChangeListener,!1)),this.vpaidCreative.removeCallbacksForCreative(this.creativeEventCallbacks),this.vpaidCreative.removeEventListener("timeout"),this.vpaidCreative=null)},resize:function(){console.log("VPAIDAdRenderer resize()");var e=this.rendererController.getAdInstance().getSlot(),t=e.getWidth();e=e.getHeight(),console.log("VPAIDRenderer new size width:"+t+" height:"+e),this.vpaidCreative.resizeAd(t,e,this.vpaidViewmode)}}),a},A.tv.freewheel.SDK||(A.tv.freewheel.SDK=A.tv.freewheel[V]("tv.freewheel.SDK")),A}()},window.addNielsenLibrary=function(){!function(e,t,n){var i=t.location.protocol||"http:",a="//secure-",r=".imrworldwide.com/",o="glcfg400.js",s="400",l="http://secure-us.imrworldwide.com/";if(e.getTIme=e.getTIme||function(){return(new Date).getTime()},e.loadXmlString=function(e){try{var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}catch(n){try{var i=new DOMParser;return t=i.parseFromString(e,"text/xml")}catch(n){}}return null},e.getAddress=function(){return l},e.getVersion=function(){return s},e.send=function(e){},e.ggInitialize=function(d,c,u,_,p){function h(e,t){if("string"==typeof e&&(e={type:e}),e.target||(e.target=t),!e.type)throw new Error("Event object missing 'type' property.");if(T[e.type]instanceof Array)for(var n=T[e.type],i=0,a=n.length;a>i;i++)n[i].call(this,t)}var g,f,E,m,T={},A="us",v=[],I=String(e.getTIme())+Math.round(1e4*Math.random()),y=p,S={ggParams:d,uid:c,oldFlashDetect:u,detectBrowser:_,playerId:I};if(this.modules={},typeof d==typeof String()){for(g=e.loadXmlString("<vi>"+d+"</vi>"),f=g.firstChild.firstChild,E=0,d={};f!=n&&20>E;)null!=f.firstChild&&(d[f.nodeName]=f.firstChild.nodeValue),f=f.nextSibling,E++;S.ggParams=d}m=t.document.createElement("script"),s=d.sdkv||s,A=d.sfcode||A,l=d.coreaddress||i+a+A+r,m.src=l+"novms/js/2/configs/"+o+"?rnd="+Math.round(1e6*Math.random()),t.document.getElementsByTagName("head")[0].appendChild(m),this.addListener=function(e,t){"undefined"==typeof T[e]&&(T[e]=[]),T[e].push(t)},this.removeListener=function(e,t){if(T[e]instanceof Array)for(var n=T[e],i=0,a=n.length;a>i;i++)if(n[i]===t){n.splice(i,1);break}},this.ggPM=function(e,t,n,i,a){var r={};r.eventType=e,r.param1=t,r.param2=n,r.param3=i,r.param4=a,2==this.modules.PLCMB||2==this.modules.PLDPR?(this.emptyQueue(),h("ggPM",{evtInfo:r,id:I})):v.push(r)},this.callBack=function(e){e.registerListener("ggPM",this);for(var n=0;n<t.gg_nol_CallBack.length;n++)t.gg_nol_CallBack[n]==this&&t.gg_nol_CallBack.splice(n,1)},this.getConfigParams=function(){return S},this.emptyQueue=function(){if(!(v.length<=0)&&(this.modules.PLCMB||this.modules.PLDPR)){for(var e=0,t=v.length;t>e;e+=1)h("ggPM",{evtInfo:v[e],id:I});v=[]}},this.getContainer=function(){return y},e.GLCFG?e.GLCFG.registerListener("ggPM",this):(t.gg_nol_CallBack||(t.gg_nol_CallBack=[]),t.gg_nol_CallBack.push(this))},t.gg_nol_FlashCallBack){for(var d,c=0,u=t.gg_nol_FlashCallBack.length;u>c;c+=1)t.gg_nol_FlashCallBack[c].hasOwnProperty("callBack")&&(d=document.getElementById(t.gg_nol_FlashCallBack[c].swfId),d&&d[t.gg_nol_FlashCallBack[c].callBack]());t.gg_nol_FlashCallBack=n}return e}(this.NOLCMB=this.NOLCMB||{},this)},window.addStreamSenseLibrary=function(){!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.ns_=t(e.ns_)}):"object"==typeof module&&module.exports?module.exports=t():e.ns_=t(e.ns_)}(this,function(e){e=e||{},e.ns_=e;var t={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i]);return n},extend:function(e){var t,n=arguments.length;e=e||{};for(var i=1;n>i;i++)if(t=arguments[i])for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},getString:function(e,t){var n=String(e);return null==e?t||"na":n},getLong:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getBoolean:function(e,t){var n="true"==String(e).toLowerCase();return null==e?t||!1:n},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return void 0===e||null===e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,t){var n=-1;return this.forEach(t,function(t,i){t==e&&(n=i)}),n},forEach:function(e,t,n){try{if("function"==typeof t)if(n="undefined"!=typeof n?n:null,"number"!=typeof e.length||"undefined"==typeof e[0]){var i="undefined"!=typeof e.__proto__;for(var a in e)e.hasOwnProperty(a)&&(!i||i&&"undefined"==typeof e.__proto__[a])&&"function"!=typeof e[a]&&t.call(n,e[a],a)}else for(var r=0,o=e.length;o>r;r++)t.call(n,e[r],r)}catch(s){}},regionMatches:function(e,t,n,i,a){if(0>t||0>i||t+a>e.length||i+a>n.length)return!1;for(;--a>=0;){var r=e.charAt(t++),o=n.charAt(i++);if(r!=o)return!1}return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if("undefined"!=typeof t&&t&&"undefined"!=typeof console&&console){var n=new Date,i=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(i,e)}},isTrue:function(e){return"undefined"==typeof e?!1:"string"==typeof e?(e=e.toLowerCase(),"true"===e||"1"===e||"on"===e):!!e},toString:function(e){if("undefined"==typeof e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return"undefined"!=typeof e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){if(null==e||"object"!=typeof e)return e;var t=function(){function e(){}function t(t){return"object"==typeof t?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function i(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function a(e,t){var n=new i;return t&&(n.maxDepth=t),n.deepCopy(e)}function r(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document?!0:"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var o=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},i.prototype={constructor:i,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,i=0;n>i;i++)if(t[i][0]===e)return t[i][1]},deepCopy:function(e){if(null===e)return null;if("object"!=typeof e)return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<o.length;n++){var i=o[n];if(i.canCopy(e))return this.applyDeepCopier(i,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},a.DeepCopier=n,a.deepCopiers=o,a.register=function(e){e instanceof n||(e=new n(e)),o.unshift(e)},a.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}}),a.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var i=0;i<t.length;i++)n.push(e(t[i]));return n}}),a.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),a.register({canCopy:function(e){return r(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var i=0;i<t.childNodes.length;i++){var a=e(t.childNodes[i]);n.appendChild(a)}}}),{deepCopy:a}}();return t.deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",i=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?i="Opera":-1!=(t=n.indexOf("Android"))?i="Android":-1!=(t=n.indexOf("Chrome"))?i="Chrome":-1!=(t=n.indexOf("Safari"))?i="Safari":-1!=(t=n.indexOf("Firefox"))?i="Firefox":-1!=(t=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(i=n.substring(e,t),i.toLowerCase()==i.toUpperCase()&&(i=navigator.appName)):i="unknown",i},getBrowserFullVersion:function(){if(!navigator)return"";var e,t,n,i,a=navigator.userAgent||"",r=navigator.appName||"",o=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=a.indexOf("Opera"))?(o=a.substring(t+6),-1!=(t=a.indexOf("Version"))&&(o=a.substring(t+8))):-1!=(t=a.indexOf("OPR/"))?o=a.substring(t+4):-1!=(t=a.indexOf("Android"))?o=a.substring(t+11):-1!=(t=a.indexOf("Chrome"))?o=a.substring(t+7):-1!=(t=a.indexOf("Safari"))?(o=a.substring(t+7),-1!=(t=a.indexOf("Version"))&&(o=a.substring(t+8))):-1!=(t=a.indexOf("Firefox"))?o=a.substring(t+8):"Microsoft Internet Explorer"==r?(i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=i.exec(a)&&(o=parseFloat(RegExp.$1))):"Netscape"==r?(i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=i.exec(a)&&(o=parseFloat(RegExp.$1))):o=a.lastIndexOf(" ")+1<(t=a.lastIndexOf("/"))?a.substring(t+1):"unknown",o=o.toString(),-1!=(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),e=parseInt(""+o,10),isNaN(e)&&(o=""+parseFloat(navigator.appVersion)),o},browserAcceptsLargeURLs:function(){return"undefined"!=typeof window?(null!==window.ActiveXObject,!0):!0},getNamespace:function(){return e.ns_}};return e.StreamSense=e.StreamSense||function(){var n=function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;t.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,i){n&&n.setItem(e+t,i)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var i=n.key(t);i.substr(0,e.length)===e&&n.removeItem(i)}}})}}(),i=function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},a=function(e,t,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)},r=function(){return{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}}}(),o=function(){return{PLATFORM:"generic",httpGet:i,httpPost:a,Storage:n,IO:r,getCrossPublisherId:function(){return null},getAppName:function(){return s.UNKNOWN_VALUE},getAppVersion:function(){return s.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return s.UNKNOWN_VALUE},getPlatformVersion:function(){return s.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return s.UNKNOWN_VALUE},getRuntimeVersion:function(){return s.UNKNOWN_VALUE},getResolution:function(){return s.UNKNOWN_VALUE},getLanguage:function(){return s.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return s.UNKNOWN_VALUE},getConnectionType:function(){return s.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return s.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)}}}(),s={UNKNOWN_VALUE:"unknown"};t.filterMap=function(e,n){for(var i in e)e.hasOwnProperty(i)&&-1==t.indexOf(i,n)&&delete e[i]},t.getKeys=function(e,t){var n,i=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(i[i.length]=n);return i},t.getEventTime=function(e){var t=-1;return e.hasOwnProperty("ns_ts")&&(t=parseInt(e.ns_ts)),t},t.fixEventTime=function(e){var n=t.getEventTime(e);0>n&&(e.ns_ts=String(+new Date))},t.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.addNewPlaybackInterval=function(e,n,i,a){var r={};if(!(i>=n))return t.cloneObject(e);if(r.start=n,r.end=i,0==e.length)return e.push(r),t.cloneObject(e);var o;for(o=0;o<e.length;o++)if(r.start>=e[o].start&&r.end<=e[o].end)return t.cloneObject(e);var s,l=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&r.start>=e[s].start||r.start>=e[s].start&&r.start<e[s+1].start){e.splice(s+1,0,r),l=!0;break}l||e.splice(0,0,r);var d=[e[0]];for(o=1;o<e.length;o++)d[d.length-1].end+a<e[o].start?d.push(e[o]):d[d.length-1].end<e[o].end&&(d[d.length-1].end=e[o].end);return t.cloneObject(d)};var l=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),d=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),c=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}(),u={STREAMSENSE_VERSION:"5.0.1.151203",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ev_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]
},_=function(){return function(){function e(){var e,t,n=0;for(e=0;e<h.length;e++)n+=Math.abs(h[e].end-h[e].start);V.setUniquePlaybackInterval(n);var i=0;for(e=0;e<h.length;e++)t=Math.abs(h[e].end-h[e].start),t>i&&(i=t);V.setLongestPlaybackInterval(i);var a=0;for(e=0;e<g.length;e++)a+=Math.abs(g[e].end-g[e].start);V.setAssetUniquePlaybackInterval(a);var r=0;for(e=0;e<g.length;e++)t=Math.abs(g[e].end-g[e].start),t>r&&(r=t);V.setAssetLongestPlaybackInterval(r)}var n,i,a,r,o,s,l,d,c,_,p,h,g,f,E,m,T,A,v,I,y,S,C,P,R,D,N,b,O,L,M,w,k,V=this,U=u.INTERVAL_MERGE_TOLERANCE;t.extend(this,{reset:function(e){L={},L.ns_st_pt="0",L.ns_st_bt="0",L.ns_st_bc="0",L.ns_st_pc="0",L.ns_st_sq="0",L.ns_st_cl="0",L.ns_st_pn="1",L.ns_st_tp="1",L.ns_st_skc="0",L.ns_st_et="0",L.ns_st_cn="1",L.ns_st_spc="0",L.ns_st_sc="0",L.ns_st_apc="0",L.ns_st_ska="0",L.ns_st_skd="0",L.ns_st_skt="0",L.ns_st_upc="0",L.ns_st_lpc="0",L.ns_st_upa="0",L.ns_st_lpa="0",L.ns_st_ub="0",L.ns_st_br="0",y=-1,S=0,c=-1,_=0,r=-1,s=0,o=-1,l=0,M=0,w=0,R=0,P=-1,N=!1,d=0,b=0,O=0,k=0,f=-1,a=!1,n=null,p=0,C=!1,D=0,h=[],g=[],E=0,m=0,v=0,T=0,A=0,I=0,i=!1,null!=e&&e.length>0&&V.setLabels(e)},getHash:function(){return n},setHash:function(e){n=e},setPlaybackIntervalMergeTolerance:function(e){U=e},getPlaybackIntervalMergeTolerance:function(){return U},setLabels:function(e){null!=e&&t.extend(L,e)},getLabels:function(){return L},setLabel:function(e,t){var n={};n[e]=t,V.setLabels(n)},getLabel:function(e){return L[e]},getClipNumber:function(){return parseInt(V.getLabel("ns_st_cn"))},setClipNumber:function(e){V.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(V.getLabel("ns_st_pn"))},createLabels:function(e){var n=e||{};n.ns_st_dbt=String(V.getBufferingTime()-S),S=V.getBufferingTime(),n.ns_st_det=String(V.getElapsedTime()-_),_=V.getElapsedTime(),n.ns_st_dupc=String(V.getUniquePlaybackInterval()-E),E=V.getUniquePlaybackInterval(),parseInt(n.ns_st_dupc)<0&&(n.ns_st_dupc="0");var i;i=t.exists(n.ns_st_upc)?parseInt(n.ns_st_upc):V.getUniquePlaybackInterval(),n.ns_st_iupc=String(i-m),m=i,parseInt(n.ns_st_iupc)<0&&(n.ns_st_iupc="0"),n.ns_st_dupa=String(V.getAssetUniquePlaybackInterval()-T),T=V.getAssetUniquePlaybackInterval(),parseInt(n.ns_st_dupa)<0&&(n.ns_st_dupa="0");var r;r=t.exists(n.ns_st_upa)?parseInt(n.ns_st_upa):V.getAssetUniquePlaybackInterval(),n.ns_st_iupa=String(r-A),A=r,parseInt(n.ns_st_iupa)<0&&(n.ns_st_iupa="0"),n.ns_st_dlpc=String(V.getLongestPlaybackInterval()-v),v=V.getLongestPlaybackInterval(),parseInt(n.ns_st_dlpc)<0&&(n.ns_st_dlpc="0"),n.ns_st_dlpa=String(V.getAssetLongestPlaybackInterval()-I),I=V.getAssetLongestPlaybackInterval(),parseInt(n.ns_st_dlpa)<0&&(n.ns_st_dlpa="0");var o;return o=t.exists(n.ns_st_pt)?parseInt(n.ns_st_pt):V.getPlaybackTime(),n.ns_st_ipt=String(o-l),l=o,n.ns_st_dpt=String(V.getPlaybackTime()-s),s=V.getPlaybackTime(),n.ns_st_dpc=String(V.getPauses()-M),M=V.getPauses(),n.ns_st_dskc=String(V.getSeeks()-w),w=V.getSeeks(),n.ns_st_dbc=String(V.getBuffers()-k),k=V.getBuffers(),n.ns_st_dskt=String(V.getSeekingTime()-R),R=V.getSeekingTime(),n.ns_st_dska=String(V.getSeekingAmount()-b),b=V.getSeekingAmount(),t.extend(n,V.getLabels()),V.setSeekingDirection(0),a||(delete n.ns_st_spc,delete n.ns_st_apc,0===parseInt(n.ns_st_sc)&&(n.ns_st_sc="1")),n},getVideoTrack:function(){return V.getLabel("ns_st_vt")},setVideoTrack:function(e){V.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return V.getLabel("ns_st_at")},setAudioTrack:function(e){V.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return V.getLabel("ns_st_tt")},setSubtitleTrack:function(e){V.setLabel("ns_st_tt",String(e))},getCDN:function(){return V.getLabel("ns_st_cdn")},setCDN:function(e){V.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return h},setClipPlaybackIntervals:function(e){h=e},getAssetPlaybackIntervals:function(){return g},getUniquePlaybackInterval:function(){return parseInt(V.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(V.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){V.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){V.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(V.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){V.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(V.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){V.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){V.setLabel("ns_st_pc",String(V.getPauses()+1))},incrementSeeks:function(){V.setLabel("ns_st_skc",String(V.getSeeks()+1))},incrementPlayCounter:function(){V.setLabel("ns_st_sq",String(parseInt(V.getLabel("ns_st_sq"))+1))},getBufferingTime:function(){return parseInt(V.getLabel("ns_st_bt"))},setBufferingTime:function(e){V.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(y>=0){var t=V.getBufferingTime();t+=e-y,V.setBufferingTime(t),y=-1}},setPlaybackStartPosition:function(e){f=parseInt(e)},getPlaybackStartPosition:function(){return f},addInterval:function(n){f>=0&&parseInt(n)>=0&&(h=t.addNewPlaybackInterval(h,f,n,U),g=t.addNewPlaybackInterval(g,f,n,U),e(),f=-1)},getElapsedTime:function(){return parseInt(V.getLabel("ns_st_et"))},setElapsedTime:function(e){V.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(c>=0){var t=V.getElapsedTime();t+=e-c,V.setElapsedTime(t),c=-1}},getElapsedTimestamp:function(){return c},setElapsedTimestamp:function(e){c=e},addPlaybackTime:function(e){if(r>0){var t=V.getPlaybackTime();t+=e-r,V.setPlaybackTime(t),r=-1}},getPlaybackTime:function(){return parseInt(V.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return r>0&&(d+=e-r),d},setPlaybackTimeOffset:function(e){d=e},getPlaybackTimeOffset:function(){return d},setPlaybackTime:function(e){V.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return r},setPlaybackTimestamp:function(e){r=e},setPreviousPlaybackTime:function(e){s=e},setPreviousPlaybackTimestamp:function(e){o=e},getBufferingTimestamp:function(){return y},setBufferingTimestamp:function(e){y=e},getPauses:function(){return parseInt(V.getLabel("ns_st_pc"))},setPauses:function(e){V.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(V.getLabel("ns_st_skc"))},setSeeks:function(e){V.setLabel("ns_st_skc",String(e))},setSeeking:function(e){C=e},isSeeking:function(){return C},setCollectingSeekingTime:function(e){N=e},isCollectingSeekingTime:function(){return N},setClipStarted:function(e){i=e},isClipStarted:function(){return i},setPlaybackStarted:function(e){a=e},isPlaybackStarted:function(){return a},setSeekingTimestamp:function(e){P=e},getSeekingTimestamp:function(){return P},addSeekingTime:function(e){if(P>0){var t=V.getSeekingTime();t+=e-P,V.setSeekingTime(t),P=-1}},getSeekingTime:function(){return parseInt(V.getLabel("ns_st_skt"))},setSeekingTime:function(e){V.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){O=e},getSeekingTimeBeforeEnd:function(){return O},setSeekStartPosition:function(e){D=e},getSeekStartPosition:function(){return D},setSeekingAmount:function(e){V.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(V.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var t=V.getSeekingAmount();t+=Math.abs(e-D),V.setSeekingAmount(t);var n;D==e?n=0:D>e?n=-1:e>D&&(n=1),V.setSeekingDirection(n),D=0},getSeekingDirection:function(){return parseInt(V.getLabel("ns_st_skd"))},setSeekingDirection:function(e){V.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){L.ns_st_pt="0",s=0,l=0,L.ns_st_bt="0",S=0,L.ns_st_bc="0",k=0,L.ns_st_pc="0",M=0,L.ns_st_sq="0",L.ns_st_upa="0",T=0,A=0,L.ns_st_et="0",_=0,L.ns_st_lpa="0",I=0,L.ns_st_skt="0",R=0,L.ns_st_ska="0",b=0,L.ns_st_skc="0",w=0},incrementSegmentPlaybackCounter:function(){V.setLabel("ns_st_spc",String(V.getSegmentPlaybackCounter()+1))},incrementClipLoadCounter:function(){V.setLabel("ns_st_sc",String(V.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){V.setLabel("ns_st_apc",String(V.getAssetPlaybackCounter()+1))},setPreviousUniquePlaybackInterval:function(e){E=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){m=e},setPreviousLongestPlaybackInterval:function(e){v=e},resetAssetPlaybackCounters:function(){g=[],V.setAssetUniquePlaybackInterval(0),T=0,A=0,V.setAssetLongestPlaybackInterval(0),I=0},setSegmentPlaybackCounter:function(e){V.setLabel("ns_st_spc",String(e))},setClipLoadCounter:function(e){V.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){V.setLabel("ns_st_apc",String(e))},setLowestPartNumberPlayed:function(e){p=e},getSegmentPlaybackCounter:function(){return parseInt(V.getLabel("ns_st_spc"))},getClipLoadCounter:function(){return parseInt(V.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return parseInt(V.getLabel("ns_st_apc"))},getLowestPartNumberPlayed:function(){return p},getBuffers:function(){return parseInt(V.getLabel("ns_st_bc"))},incrementBufferCount:function(){V.setLabel("ns_st_bc",String(V.getBuffers()+1))},getPreviousBufferingTime:function(){return S}}),V.reset()}}(),p=function(){return function(){var e,n,i,a,r,o,s,l,d=this;t.extend(this,{reset:function(d){a={},a.ns_st_bp="0",a.ns_st_pa="0",a.ns_st_pp="0",a.ns_st_sp="1",a.ns_st_id=String(+new Date),a.ns_st_ppc="0",n=-1,i=-1,o=[],s=0,r=!1,l=!1,null!=d&&d.length>0&&t.extend(a,d),e.reset(d)},hashExists:function(e){return null!=o[e]},storeHash:function(e){o[e]={}},removeHash:function(e){delete o[e]},storeClipPlaybackCounters:function(){for(var n in o)if(o.hasOwnProperty(n)&&o[n].clipNumber===e.getClipNumber()){t.extend(o[n],{segmentPlaybackCounter:e.getSegmentPlaybackCounter(),clipLoadCounter:e.getClipLoadCounter(),assetPlaybackCounter:e.getAssetPlaybackCounter(),lowestPartNumberPlayed:e.getLowestPartNumberPlayed(),seeking:e.isSeeking(),seekingTimeBeforeEnd:e.getSeekingTimeBeforeEnd(),seekingStartPosition:e.getSeekStartPosition(),clipPlaybackIntervals:e.getClipPlaybackIntervals(),uniquePlaybackInterval:e.getUniquePlaybackInterval(),longestPlaybackInterval:e.getLongestPlaybackInterval(),videoTrack:e.getVideoTrack(),audioTrack:e.getAudioTrack(),subtitleTrack:e.getSubtitleTrack(),cdn:e.getCDN()});break}},getStoredClipRegisters:function(e){return o[e]},getClipNumber:function(e){return o[e].clipNumber},getMaxClipNumber:function(){return s},storeClipNumber:function(e,t){o[e].clipNumber=t,t>s&&(s=t)},setLabels:function(e){null!=e&&t.extend(a,e)},getLabels:function(){return a},setLabel:function(e,t){var n={};n[e]=t,d.setLabels(n,null)},getLabel:function(e){return a[e]},getClip:function(){return e},createLabels:function(n){var i=n||{};return l||(i.ns_st_pb=null!=i.ns_st_pb?i.ns_st_pb:"1",l=!0),t.extend(i,d.getLabels()),e.isPlaybackStarted()||delete i.ns_st_ppc,i},incrementPlayCounter:function(){d.setLabel("ns_st_sp",String(parseInt(d.getLabel("ns_st_sp"))+1))},incrementPauses:function(){d.setLabel("ns_st_pp",String(d.getPauses()+1))},addPlaybackTime:function(e){if(i>=0){var t=d.getPlaybackTime();t+=e-i,d.setPlaybackTime(t),i=-1}},addBufferingTime:function(e){if(n>=0){var t=d.getBufferingTime();t+=e-n,d.setBufferingTime(t),n=-1}},getBufferingTime:function(){return parseInt(d.getLabel("ns_st_bp"))},setBufferingTime:function(e){d.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(d.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){n=e},getBufferingTimestamp:function(){return n},setPlaybackTime:function(e){d.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){i=e},getPlaybackTimestamp:function(){return i},getPauses:function(){return parseInt(d.getLabel("ns_st_pp"))},setPauses:function(e){d.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return r},setPlaylistStarted:function(e){r=e},getPlaybackCounter:function(){return parseInt(d.getLabel("ns_st_ppc"))},incrementPlaybackCounter:function(){d.setLabel("ns_st_ppc",String(d.getPlaybackCounter()+1))}}),e=new _,d.reset()}}(),h=function(){return function(e){function n(){o=1}function i(n){s=t.extend({},n);var i=e.getPixelURL();if(e.getAppCore()){if(!e.isNotProperlyInitialized()){var a=e.getExports().am,r=e.getExports().et,o=a.newApplicationMeasurement(e.getAppCore(),r.HIDDEN,n,i);e.getAppCore().getQueue().offer(o)}}else i&&e.getPlatformAPI().httpGet(e.prepareUrl(i,n))}function a(){s=null}function r(){var n,i;1==arguments.length?(n=null,i=arguments[0]):(n=arguments[0],i=arguments[1]);var a={};if("undefined"!=typeof document){var r=document;a.c7=r.URL,a.c8=r.title,a.c9=r.referrer}return null!=i&&t.extend(a,i),a.ns_ts=null!=a.ns_ts?a.ns_ts:String(+new Date),a.ns_st_ev=null!=a.ns_st_ev?a.ns_st_ev:l.toString(n),a.ns_st_mp=null!=a.ns_st_mp?a.ns_st_mp:e.getMediaPlayerName(),a.ns_st_mv=null!=a.ns_st_mv?a.ns_st_mv:e.getMediaPlayerVersion(),a.ns_st_ub=null!=a.ns_st_ub?a.ns_st_ub:"0",a.ns_st_br=null!=a.ns_st_br?a.ns_st_br:"0",a.ns_st_pn=null!=a.ns_st_pn?a.ns_st_pn:"1",a.ns_st_tp=null!=a.ns_st_tp?a.ns_st_tp:"1",a.ns_st_it=null!=a.ns_st_it?a.ns_st_it:c.toString(c.SINGLE_CLIP),a.ns_st_sv=null!=a.ns_st_sv?a.ns_st_sv:u.STREAMSENSE_VERSION,a.ns_type=null!=a.ns_type?a.ns_type:"hidden",a.ns_st_ec=null!=a.ns_st_ec?a.ns_st_ec:String(o),a.ns_st_po=null!=a.ns_st_po?a.ns_st_po:t.getInteger(e.getPlaylist().getClip().getExpectedPlaybackPosition(t.getEventTime(a))),a.ns_st_ki=null!=a.ns_st_ki?a.ns_st_ki:e.getKeepAlive().getInterval(),e.getPlaylist().createLabels(a),e.getPlaylist().getClip().createLabels(a),t.extend(a,e.getLabels()),a}var o,s,d=this;t.extend(this,{newEvent:function(e,n){var a=r(e,n);t.extend(a,n),i(a),e!=l.HEARTBEAT&&d.incrementEventCounter()},getEventCounter:function(){return o},incrementEventCounter:function(){o++},setEventCounter:function(e){o=e},getMeasurementSnapshot:function(){return s},reset:function(){n(),a()}}),d.reset()}}(),g=function(){return function(e){function n(){s++;var n={};t.fixEventTime(n);var i=t.getEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(i-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(i-e.getPlaylist().getPlaybackTimestamp())),n.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(i-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_dpt=String(i-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK?(n.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(i-e.getPlaylist().getBufferingTimestamp())),n.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(i-e.getPlaylist().getClip().getBufferingTimestamp())),n.ns_st_dbt=String(i-e.getPlaylist().getClip().getBufferingTimestamp())):n.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),n.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(i-e.getPlaylist().getClip().getElapsedTimestamp())),n.ns_st_det=String(i-e.getPlaylist().getClip().getElapsedTimestamp());var a=t.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),o=t.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());a=t.addNewPlaybackInterval(a,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),o=t.addNewPlaybackInterval(o,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var u,_,p=0;for(u=0;u<a.length;u++)p+=Math.abs(a[u].end-a[u].start);n.ns_st_upc=String(p),n.ns_st_dupc=String(p-e.getPlaylist().getClip().getUniquePlaybackInterval());var h=0;for(u=0;u<a.length;u++)_=Math.abs(a[u].end-a[u].start),_>h&&(h=_);n.ns_st_lpc=String(h),n.ns_st_dlpc=String(h-e.getPlaylist().getClip().getLongestPlaybackInterval());var g=0;for(u=0;u<o.length;u++)g+=Math.abs(o[u].end-o[u].start);n.ns_st_upa=String(g),n.ns_st_dupa=String(g-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var f=0;for(u=0;u<o.length;u++)_=Math.abs(o[u].end-o[u].start),_>f&&(f=_);n.ns_st_lpa=String(f),n.ns_st_dlpa=String(f-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),n.ns_st_hc=String(e.getHeartbeat().getCount()),e.getEventManager().newEvent(l.HEARTBEAT,n),r=0,c.resume()}function i(){null!=a&&(e.getPlatformAPI().clearTimeout(a),a=null)}var a,r,o,s,c=this,_=u.DEFAULT_HEARTBEAT_INTERVAL;t.extend(this,{getCount:function(){return s},setIntervals:function(e){_=e},getInterval:function(e){var t=0;if(null!=_)for(var n=0;n<_.length;n++){var i=_[n],a=i.playingtime;if(!a||a>e){t=i.interval;break}}return t},resume:function(){i();var t=c.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(t>0){var o=r>0?r:t;a=e.getPlatformAPI().setTimeout(n,o)}r=0},pause:function(){i();var t=c.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));r=t-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%t},reset:function(){i(),r=0,o=0,s=0}}),c.reset()}}(),f=function(){return function(e){function n(){var n={};t.fixEventTime(n);var i=t.getEventTime(n);n.ns_st_po=e.getPlaylist().getClip().getExpectedPlaybackPosition(i),e.getPlaylist().addPlaybackTime(i),e.getPlaylist().setPlaybackTimestamp(i),e.getPlaylist().getClip().addPlaybackTime(i),e.getPlaylist().getClip().setPlaybackTimestamp(i),e.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(i),e.getPlaylist().setBufferingTimestamp(i),e.getPlaylist().getClip().addBufferingTime(i),e.getPlaylist().getClip().setBufferingTimestamp(i)),e.getPlaylist().getClip().addElapsedTime(i),e.getPlaylist().getClip().setElapsedTimestamp(i),e.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po)),e.getEventManager().newEvent(l.KEEPALIVE,n),r.resume()}function i(){null!=a&&(e.getPlatformAPI().clearTimeout(a),a=null)}var a,r=this,o=u.DEFAULT_KEEP_ALIVE_INTERVAL;t.extend(this,{resume:function(){i(),a=e.getPlatformAPI().setTimeout(n,o)},setInterval:function(e){o=e},getInterval:function(){return o},reset:function(){i()}})}}(),E=function(){return function(e){function n(e){return e==d.PLAYING||e==d.PAUSED}function i(){a(),f=e.getPlatformAPI().setTimeout(function(){var e={};t.fixEventTime(e),S.transitionTo(l.PAUSE_ON_BUFFERING,S.eventTypeToState(l.PAUSE_ON_BUFFERING),e)},C)}function a(){null!=f&&(e.getPlatformAPI().clearTimeout(f),f=null)}function r(){p&&(e.getPlatformAPI().clearTimeout(p),p=null)}function o(n,r,o,c){var u=t.getEventTime(o);n==l.AD_SKIP&&!o.hasOwnProperty("ns_st_ui")&&s(n)?o.ns_st_ui="skip":n==l.SEEK_START&&!o.hasOwnProperty("ns_st_ui")&&s(n)&&(o.ns_st_ui="seek"),(S.getCurrentState()==d.PLAYBACK_NOT_STARTED||S.getCurrentState()==d.PAUSED||S.getCurrentState()==d.SEEKING_BEFORE_PLAYBACK||S.getCurrentState()==d.SEEKING_DURING_PLAYBACK||S.getCurrentState()==d.SEEKING_DURING_BUFFERING||S.getCurrentState()==d.SEEKING_DURING_PAUSE)&&n==l.BUFFER&&(e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)),(S.getCurrentState()==d.PAUSED||S.getCurrentState()==d.BUFFERING_DURING_PAUSE)&&n==l.SEEK_START&&(e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u))),(S.getCurrentState()==d.SEEKING_DURING_BUFFERING||S.getCurrentState()==d.SEEKING_DURING_PAUSE)&&n==l.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o)),(S.getCurrentState()==d.BUFFERING_DURING_SEEKING||S.getCurrentState()==d.BUFFERING_DURING_PAUSE)&&n==l.BUFFER_STOP&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)),(S.getCurrentState()==d.SEEKING_DURING_PLAYBACK||S.getCurrentState()==d.SEEKING_DURING_PAUSE)&&n==l.PAUSE&&e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),(S.getCurrentState()==d.SEEKING_DURING_BUFFERING||S.getCurrentState()==d.SEEKING_DURING_PAUSE)&&(n==l.END||n==l.AD_SKIP)&&(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,o),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()),(S.getCurrentState()==d.SEEKING_DURING_BUFFERING||S.getCurrentState()==d.SEEKING_DURING_PAUSE)&&n==l.BUFFER_STOP&&e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),S.getCurrentState()==d.IDLE?n==l.BUFFER?(e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)):n==l.SEEK_START?(e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u)):n==l.PLAY&&(e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),I||(o.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o)):S.getCurrentState()==d.PLAYBACK_NOT_STARTED?n==l.END||n==l.AD_SKIP?(e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.SEEK_START?(e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(u):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u))):n==l.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),I||(o.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o)):S.getCurrentState()==d.PLAYING?n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().addInterval(r),e.getEventManager().newEvent(l.END,o),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.BUFFER?(E&&i(),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)):n==l.SEEK_START?(e.getHeartbeat().pause(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(l.PAUSE,o)):n==l.PAUSE&&(e.getHeartbeat().pause(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(l.PAUSE,o)):S.getCurrentState()==d.PAUSED?n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,o),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o)):S.getCurrentState()==d.BUFFERING_BEFORE_PLAYBACK?n==l.END||n==l.AD_SKIP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.BUFFER_STOP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):n==l.SEEK_START?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u))):n==l.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):n==l.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),
e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),I||(o.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o)):S.getCurrentState()==d.BUFFERING_DURING_PLAYBACK?n==l.PAUSE_ON_BUFFERING?(a(),e.getHeartbeat().pause(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(l.PAUSE,o),e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)):n==l.BUFFER_STOP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)):n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),a(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().addInterval(r),e.getEventManager().newEvent(l.END,o),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.SEEK_START?(a(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(l.PAUSE,o)):n==l.PAUSE?(a(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(l.PAUSE,o)):n==l.PLAY&&(a(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)):S.getCurrentState()==d.BUFFERING_DURING_SEEKING?n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),a(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,o),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):n==l.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o)):S.getCurrentState()==d.BUFFERING_DURING_PAUSE?n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,o),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)):n==l.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o)):S.getCurrentState()==d.SEEKING_BEFORE_PLAYBACK?n==l.END||n==l.AD_SKIP?(e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.PAUSE?e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)):n==l.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),I||(o.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o)):S.getCurrentState()==d.SEEKING_DURING_PLAYBACK?n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,o),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),I||(o.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o)):S.getCurrentState()==d.SEEKING_DURING_BUFFERING?n==l.PAUSE&&(e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):S.getCurrentState()==d.PAUSED_DURING_BUFFERING&&(n==l.END||n==l.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(l.END,o),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),o.hasOwnProperty("ns_st_pe")&&"0"!==String(o.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==l.BUFFER_STOP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o)):n==l.SEEK_START?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(u))):n==l.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()):n==l.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(l.PLAY,o))),S.setCurrentState(S.eventTypeToState(n));for(var _=0,p=y.length;p>_;_++)y[_](S.getPreviousState(),S.getCurrentState(),o,c)}function s(e){if(g==d.IDLE||g==d.PLAYBACK_NOT_STARTED||g==d.BUFFERING_BEFORE_PLAYBACK||g==d.SEEKING_BEFORE_PLAYBACK){if(e==l.PLAY)return!0}else if(g==d.PLAYING){if(e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE)return!0}else if(g==d.PAUSED||g==d.BUFFERING_DURING_PAUSE||g==d.SEEKING_DURING_PLAYBACK||g==d.SEEKING_DURING_BUFFERING||g==d.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP||e==l.PLAY)return!0}else if(g==d.BUFFERING_DURING_PLAYBACK){if(e==l.PAUSE_ON_BUFFERING||e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE||e==l.PLAY)return!0}else if(g==d.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP||e==l.PAUSE||e==l.PLAY)return!0}else if(g==d.PAUSED_DURING_BUFFERING&&(e==l.END||e==l.AD_SKIP||e==l.BUFFER_STOP||e==l.PLAY))return!0;return!1}function c(e){return null!=e&&g!=e}var _,p,h,g,f,E,m,T,A,v,I,y,S=this,C=u.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,P=u.THROTTLING_DELAY;t.extend(this,{eventTypeToState:function(e){if(S.getCurrentState()==d.IDLE){if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK}else if(S.getCurrentState()==d.PLAYBACK_NOT_STARTED){if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK;if(e==l.END||e==l.AD_SKIP)return d.IDLE}else if(S.getCurrentState()==d.PLAYING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.BUFFER)return d.BUFFERING_DURING_PLAYBACK;if(e==l.PAUSE)return d.PAUSED;if(e==l.SEEK_START)return d.SEEKING_DURING_PLAYBACK}else if(S.getCurrentState()==d.PAUSED){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.BUFFER)return d.BUFFERING_DURING_PAUSE;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_DURING_PAUSE}else if(S.getCurrentState()==d.BUFFERING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK}else if(S.getCurrentState()==d.BUFFERING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY||e==l.BUFFER_STOP)return d.PLAYING;if(e==l.PAUSE_ON_BUFFERING)return d.PAUSED_DURING_BUFFERING;if(e==l.SEEK_START)return d.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return d.PAUSED}else if(S.getCurrentState()==d.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.BUFFER_STOP)return d.SEEKING_DURING_PLAYBACK;if(e==l.PAUSE)return d.PAUSED}else if(S.getCurrentState()==d.BUFFERING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_DURING_PAUSE;if(e==l.BUFFER_STOP||e==l.PAUSE)return d.PAUSED}else if(S.getCurrentState()==d.SEEKING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PAUSE)return d.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return d.PLAYING;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK}else if(S.getCurrentState()==d.SEEKING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE)return d.PAUSED;if(e==l.BUFFER)return d.BUFFERING_DURING_SEEKING}else if(S.getCurrentState()==d.SEEKING_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PAUSED}else if(S.getCurrentState()==d.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PAUSED;if(e==l.BUFFER)return d.BUFFERING_DURING_PAUSE}else if(S.getCurrentState()==d.PAUSED_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.SEEK_START)return d.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return d.PAUSED;if(e==l.PLAY||e==l.BUFFER_STOP)return d.PLAYING}return null},reset:function(){g=d.IDLE,h=null,_=-1,m=null,T=!0,v=0,E=!0,a(),r()},getCurrentState:function(){return g},setCurrentState:function(e){g!=e&&(h=g,g=e,_=+new Date)},getPreviousState:function(){return h},transitionTo:function(i,a,s,u){if(r(),c(a))if(S.isThrottlingEnabled()&&n(g)&&n(a)&&!u)p=e.getPlatformAPI().setTimeout(function(e,t,n){return function(){S.transitionTo(e,t,n,!0)}}(i,a,s),P);else{var h=t.getEventTime(s),f=_>=0?h-_:0;s.ns_st_po||(e.getStateMachine().getCurrentState()==d.PLAYING&&i==l.BUFFER||e.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK&&i==l.BUFFER_STOP?s.ns_st_po=e.getPlaylist().getClip().getPlaybackTimeOffset()+(h-e.getPlaylist().getClip().getPlaybackTimestamp()):s.ns_st_po=e.getPlaylist().getClip().getExpectedPlaybackPosition(h)),o(i,parseInt(s.ns_st_po),s,f)}},setPauseOnBufferingInterval:function(e){C=e},getPauseOnBufferingInterval:function(){return C},isPauseOnBufferingEnabled:function(){return E},setPauseOnBufferingEnabled:function(e){E=e},setThrottlingDelay:function(e){P=e},getThrottlingDelay:function(){return P},isThrottlingEnabled:function(){return T},setThrottlingEnabled:function(e){T=e},getLoadTimeOffset:function(){return v},setLoadTimeOffset:function(e){v=e},addListener:function(e){y.push(e)},removeListener:function(e){y.splice(t.indexOf(e,y),1)}}),I=!1,A=+new Date,y=[],S.reset()}}(),m=function(){return function(e,n){function i(e,n){var i=e||"",a="undefined",r=L.comScore||L.sitestat||function(e){var n,i,r,o,s,l="comScore=",d=M.cookie,c="",_="indexOf",p="substring",h="length",g=t.browserAcceptsLargeURLs()?u.URL_LENGTH_LIMIT:u.RESTRICTED_URL_LENGTH_LIMIT,f="&ns_",E="&",m=L.encodeURIComponent||escape;if(d[_](l)+1)for(o=0,r=d.split(";"),s=r[h];s>o;o++)i=r[o][_](l),i+1&&(c=E+unescape(r[o][p](i+l[h])));e+=f+"_t="+ +new Date+f+"c="+(M.characterSet||M.defaultCharset||"")+c,e.length>g&&e.indexOf(E)>0&&(n=e.substr(0,g-8).lastIndexOf(E),e=(e.substring(0,n)+f+"cut="+m(e.substring(n+1))).substr(0,g)),R.getPlatformAPI().httpGet(e),typeof ns_p===a&&(ns_p={src:e}),ns_p.lastMeasurement=e};if(typeof n!==a){var o=[],s=L.encodeURIComponent||escape;for(var l in n)n.hasOwnProperty(l)&&o.push(s(l)+"="+s(n[l]));/[\?\&]$/.test(i)||(i+="&"),i+=o.join("&")}return r(i)}function a(e,n){for(var i,a=L.encodeURIComponent||escape,r=[],o=u.LABELS_ORDER,s=e.split("?"),l=s[0],d=s[1],c=d.split("&"),_=0,p=c.length;p>_;_++){var h=c[_].split("="),g=unescape(h[0]),f=unescape(h[1]);g&&(n[g]=f)}for(var E={},m=0,T=o.length;T>m;m++){var A=o[m];if(n.hasOwnProperty(A)){var v=n[A];"undefined"!=typeof v&&null!=v&&(E[A]=!0,r.push(a(A)+"="+a(n[A])))}}for(var I in n)if(n.hasOwnProperty(I)){if(E[I])continue;var y=n[I];"undefined"!=typeof y&&null!=y&&r.push(a(I)+"="+a(n[I]))}i=l+"?"+r.join("&"),i=i+(i.indexOf("&c8=")<0?"&c8="+a(M.title):"")+(i.indexOf("&c7=")<0?"&c7="+a(M.URL):"")+(i.indexOf("&c9=")<0?"&c9="+a(M.referrer):"");var S=t.browserAcceptsLargeURLs()?u.URL_LENGTH_LIMIT:u.RESTRICTED_URL_LENGTH_LIMIT;if(i.length>S&&i.indexOf("&")>0){var C=i.substr(0,S-8).lastIndexOf("&");i=(i.substring(0,C)+"&ns_cut="+a(i.substring(C+1))).substr(0,S)}return i}function r(e,t){R.notify(l.CUSTOM,e,t)}function _(){P&&S.getCurrentState()!=d.IDLE&&R.end()}var m,T,A,v,I,y,S,C,P,R=this,D=u.DEFAULT_PLAYERNAME,N=u.STREAMSENSE_VERSION,b=u.STANDARD_METADATA_LABELS,O={};t.extend(this,{isNotProperlyInitialized:function(){var e=C.getAppContext(),t=C.getSalt(),n=C.getPixelURL();return null==e||null==t||0==t.length||null==n||0==n.length},reset:function(e){A=A||new p,v=v||new g(R),I=I||new h(R),y=y||new f(R),S=S||new E(R),A.reset(e),null==e||e.isEmpty()?m={}:t.filterMap(m,e),I.reset(),v.reset(),y.reset(),S.reset(),D=u.DEFAULT_PLAYERNAME,N=u.STREAMSENSE_VERSION,P=!0},getAppCore:function(){return C},getPlatformAPI:function(){return C?C.getPlatformAPI():o},getExports:function(){return O},getHeartbeat:function(){return v},getKeepAlive:function(){return y},getEventManager:function(){return I},getStateMachine:function(){return S},getMediaPlayerName:function(){return D},getMediaPlayerVersion:function(){return N},setPauseOnBufferingInterval:function(e){S.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return S.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){y.setInterval(e)},getKeepAliveInterval:function(){return y.getInterval()},setHeartbeatIntervals:function(e){v.setIntervals(e)},play:function(e,t){R.notify(l.PLAY,e,t)},pause:function(e,t){R.notify(l.PAUSE,e,t)},end:function(e,t){R.notify(l.END,e,t)},bufferStart:function(e,t){R.notify(l.BUFFER,e,t)},bufferStop:function(e,t){R.notify(l.BUFFER_STOP,e,t)},load:function(e,t){R.notify(l.LOAD,e,t)},start:function(e,t){R.notify(l.START,e,t)},seekStart:function(e,t){R.notify(l.SEEK_START,e,t)},skipAd:function(e,t){R.notify(l.AD_SKIP,e,t)},callToAction:function(e,t){R.notify(l.CTA,e,t)},error:function(e,t){R.notify(l.ERROR,e,t)},transferPlayback:function(e,t){R.notify(l.TRANSFER,e,t)},drmFail:function(e,t){R.notify(l.DRM_FAILED,e,t)},drmApprove:function(e,t){R.notify(l.DRM_APPROVED,e,t)},drmDeny:function(e,t){R.notify(l.DRM_DENIED,e,t)},changeBitrate:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_br=e,R.notify(l.BIT_RATE,i,t)}},changePlaybackRate:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_rt=e,R.notify(l.PLAYBACK_RATE,i,t)}},changeVolume:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_vo=e,R.notify(l.VOLUME,i,t)}},changeWindowState:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_ws=e,R.notify(l.WINDOW_STATE,i,t)}},changeAudio:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_at=e,R.notify(l.AUDIO,i,t)}},changeVideo:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_vt=e,R.notify(l.VIDEO,i,t)}},changeSubtitle:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_tt=e,R.notify(l.SUBS,i,t)}},changeCDN:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_cdn=e,R.notify(l.CDN,i,t)}},notify:function(){var e,n,i,a;if(n=arguments[0],3==arguments.length?("object"==typeof arguments[1]?i=arguments[1]:("string"==typeof arguments[1]||"number"==typeof arguments[1])&&(a=arguments[1]),"object"==typeof arguments[2]?i=arguments[2]:("string"==typeof arguments[2]||"number"==typeof arguments[2])&&(a=arguments[2]),i||(i={})):2==arguments.length?"object"==typeof arguments[1]?i=arguments[1]:(i={},a=arguments[1]):1==arguments.length,l.toString(n)){e=S.eventTypeToState(n),t.fixEventTime(i);var r=t.getEventTime(i);if(!i.ns_st_po&&a&&(i.ns_st_po=t.getInteger(a).toString()),i.ns_st_po&&A.getClip().setPlaybackTimeOffset(parseInt(i.ns_st_po)),n==l.PLAY||n==l.PAUSE||n==l.BUFFER||n==l.END||n==l.SEEK_START||n==l.AD_SKIP||n==l.BUFFER_STOP)S.transitionTo(n,e,i);else{if((n==l.LOAD||n==l.START)&&S.getCurrentState()!=d.IDLE)return;n!=l.ERROR||i.ns_st_er||(i.ns_st_er=s.UNKNOWN_VALUE),S.getCurrentState()!=d.IDLE&&S.getCurrentState()!=d.PLAYBACK_NOT_STARTED&&S.getCurrentState()!=d.SEEKING_BEFORE_PLAYBACK&&S.getCurrentState()!=d.BUFFERING_BEFORE_PLAYBACK&&(A.getClip().addElapsedTime(r),A.getClip().setElapsedTimestamp(r));var o,c,u,_=!0,p=!1;switch(n){case l.BIT_RATE:o="ns_st_br",c="ns_st_pbr",p=!0;break;case l.PLAYBACK_RATE:o="ns_st_rt",c="ns_st_prt",p=!0;break;case l.VOLUME:o="ns_st_vo",c="ns_st_pvo",p=!0;break;case l.WINDOW_STATE:o="ns_st_ws",c="ns_st_pws",p=!0;break;case l.AUDIO:o="ns_st_at",c="ns_st_pat",p=!1;break;case l.VIDEO:o="ns_st_vt",c="ns_st_pvt",p=!1;break;case l.SUBS:o="ns_st_tt",c="ns_st_ptt",p=!1;break;case l.CDN:o="ns_st_cdn",c="ns_st_pcdn",p=!1;break;default:_=!1}if(_&&i.hasOwnProperty(o)&&(p?(R.getLabels().hasOwnProperty(o)&&(u=R.getLabels()[o],i[c]=u),R.setLabel(o,i[o])):(A.getClip().getLabels().hasOwnProperty(o)&&(u=A.getClip().getLabels()[o],i[c]=u),A.getClip().setLabel(o,i[o]))),_&&S.getCurrentState()!=d.PLAYING&&S.getCurrentState()!=d.BUFFERING_DURING_PLAYBACK)return;i.ns_st_po||(i.ns_st_po=A.getClip().getExpectedPlaybackPosition(r)),(S.getCurrentState()==d.PLAYING||S.getCurrentState()==d.BUFFERING_DURING_PLAYBACK)&&(A.addPlaybackTime(r),A.setPlaybackTimestamp(r),A.getClip().addPlaybackTime(r),A.getClip().setPlaybackTimestamp(r),A.getClip().addInterval(parseInt(i.ns_st_po)),A.getClip().setPlaybackStartPosition(parseInt(i.ns_st_po))),(S.getCurrentState()==d.BUFFERING_BEFORE_PLAYBACK||S.getCurrentState()==d.BUFFERING_DURING_PAUSE||S.getCurrentState()==d.BUFFERING_DURING_PLAYBACK||S.getCurrentState()==d.BUFFERING_DURING_SEEKING)&&(A.addBufferingTime(r),A.setBufferingTimestamp(r),A.getClip().addBufferingTime(r),A.getClip().setBufferingTimestamp(r)),I.newEvent(n,i)}}},getLabels:function(){return m},getState:function(){return S.getCurrentState()},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&R.setLabel(t,e[t])},getLabel:function(e){return m[e]},setLabel:function(e,t){null==t?delete m[e]:m[e]=t},getLoadTimeOffset:function(){return S.getLoadTimeOffset()},setLoadTimeOffset:function(e){S.setLoadTimeOffset(e)},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var i=e.substring(n+1).split("&"),a=0,r=i.length;r>a;a++){var o=i[a],s=o.split("=");2==s.length?R.setLabel(s[0],t(s[1])):1==s.length&&R.setLabel(u.PAGE_NAME_LABEL,t(s[0]))}e=e.substring(0,n+1)}}else e+="?";return T=e},getPixelURL:function(){return T?T:"undefined"!=typeof ns_p&&"string"==typeof ns_p.src?T=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?T=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},setImplementationType:function(e){S.getCurrentState()!=d.IDLE||e!=c.SINGLE_CLIP&&e!=c.SEGMENTED&&e!=c.REDUCED||A.setLabel("ns_st_it",c.toString(e))},isPauseOnBufferingEnabled:function(){return S.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){S.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return S.isThrottlingEnabled()},setThrottlingEnabled:function(e){S.setThrottlingEnabled(e)},setThrottlingDelay:function(e){S.setThrottlingDelay(e)},getThrottlingDelay:function(){return S.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){A.getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return A.getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,n,i){if("undefined"==typeof i&&(i=!0),i&&S.getCurrentState()!==d.IDLE&&R.end(),S.getCurrentState()==d.IDLE){var a="",r=0;if(null!=e.ns_st_cn)a=String(e.ns_st_cn);else for(var o=0;o<b.length;o++)e[b[o]]&&(a+=b[o]+":"+e[b[o]]+";");A.getClip().isClipStarted()?(A.hashExists(A.getClip().getHash())||(A.storeHash(A.getClip().getHash()),A.storeClipNumber(A.getClip().getHash(),A.getClip().getClipNumber())),A.storeClipPlaybackCounters(),r=A.hashExists(a)?A.getClipNumber(a):t.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):A.getMaxClipNumber()+1):r=A.hashExists(a)?A.getClipNumber(a):A.getClip().getClipNumber(),A.getClip().reset(),A.getClip().setHash(a),A.getClip().setClipNumber(r),A.getClip().setLabels(e,null);var s=A.getStoredClipRegisters(a);return s&&(A.getClip().setClipStarted(!0),A.getClip().setSegmentPlaybackCounter(s.segmentPlaybackCounter),A.getClip().setClipLoadCounter(s.clipLoadCounter),A.getClip().setAssetPlaybackCounter(s.assetPlaybackCounter),A.getClip().setLowestPartNumberPlayed(s.lowestPartNumberPlayed),A.getClip().setSeeking(s.seeking),A.getClip().setSeekingTimeBeforeEnd(s.seekingTimeBeforeEnd),A.getClip().setSeekStartPosition(s.seekingStartPosition),A.getClip().setClipPlaybackIntervals(s.clipPlaybackIntervals),A.getClip().setUniquePlaybackInterval(s.uniquePlaybackInterval),A.getClip().setLongestPlaybackInterval(s.longestPlaybackInterval),A.getClip().setVideoTrack(s.videoTrack),A.getClip().setAudioTrack(s.audioTrack),A.getClip().setSubtitleTrack(s.subtitleTrack),A.getClip().setCDN(s.cdn),A.getClip().setPreviousUniquePlaybackInterval(s.uniquePlaybackInterval),A.getClip().setPreviousEventIndependentUniquePlaybackInterval(s.uniquePlaybackInterval),A.getClip().setPreviousLongestPlaybackInterval(s.longestPlaybackInterval)),A.getClip().incrementClipLoadCounter(),A.getClip().isClipStarted()&&n&&(A.incrementPlayCounter(),A.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,t){return"undefined"==typeof t&&(t=!0),t&&S.getCurrentState()!==d.IDLE&&R.end(),S.getCurrentState()==d.IDLE?(A.isPlaylistStarted()&&A.reset(),A.setLabels(e,null),!0):!1},importState:function(){},exportState:function(){return{}},getVersion:function(){return u.STREAMSENSE_VERSION},addListener:function(e){S.addListener(e)},removeListener:function(e){S.removeListener(e)},getClip:function(){return A.getClip()},getPlaylist:function(){return A},setHttpGet:function(e){"function"==typeof e&&(R.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(R.getPlatformAPI().httpPost=e)},setExitEndEvent:function(e){P=e},isExitEndEventEnabled:function(){return P}});var L,M;t.isBrowser()?(L=window,M=document):(L={},M={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.extend(this,{prepareUrl:a}),t.extend(this,{customNotify:r,viewNotify:function(e,t){e=e||R.getPixelURL(),e&&i(e,t)}}),t.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",_),window.addEventListener("unload",_)):window.attachEvent&&(window.attachEvent("onbeforeunload",_),window.attachEvent("onunload",_))),t.getNamespace().comScore&&(O=t.getNamespace().comScore.exports,C=O.c()),R.reset(),e&&R.setLabels(e),n&&R.setPixelURL(n)}}();return function(n){function i(e,t){return y[C]||r(e,t)}function a(){C=-1;for(var t=0;S>=t;t++)if(y.hasOwnProperty(String(t))){C=t;break}return e.StreamSense.activeIndex=C,C}function r(t,n){return t=t||null,n=n||null,t&&"object"==typeof t&&(n=t,t=null),y[++S]=new e.StreamSense(n,t),a(),y[S]}function o(){var t=!1,n=C;if("number"==typeof arguments[0]&&isFinite(arguments[0]))n=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var i in y)if(y.hasOwnProperty(i)&&y[i]===arguments[0]){n=i;break}return y.hasOwnProperty(String(n))&&(t=y[n],delete y[n],t.reset(),a()),t}function s(e){return e=e||{},i().setPlaylist(e),i().getPlaylist()}function l(e,t,n){return e=e||{},"number"==typeof t&&(e.ns_st_cn=t),i().setClip(e,n),i().getClip()}function d(e,t,n){return"undefined"==typeof e?!1:(n=n||null,t=t||{},i().notify(e,t,n))}function c(e){"undefined"!=typeof e&&i().setLabels(e)}function u(){return i().getLabels()}function _(e){"undefined"!=typeof e&&i().getPlaylist().setLabels(e)}function p(){return i().getPlaylist().getLabels()}function h(e){"undefined"!=typeof e&&i().getClip().setLabels(e)}function g(){return i().getClip().getLabels()}function f(e){return i().reset(e||{})}function E(e){return i().getPlaylist().reset(e||{})}function m(e){return i().getClip().reset(e||{})}function T(e){return e=e||{},i().viewNotify(null,e)}function A(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},"number"==typeof t&&(e.ns_st_po=t),i().customNotify(e,t)}function v(){return i().exportState()}function I(e){i().importState(e)}var y={},S=-1,C=-1;t.extend(n,{activeIndex:C,newInstance:r,"new":r,destroyInstance:o,destroy:o,newPlaylist:s,newClip:l,notify:d,setLabels:c,getLabels:u,setPlaylistLabels:_,getPlaylistLabels:p,setClipLabels:h,getClipLabels:g,resetInstance:f,resetPlaylist:E,resetClip:m,viewEvent:T,customEvent:A,exportState:v,importState:I})}(m),m.PlayerEvents=l,m.InternalStates=d,m.ImplementationType=c,m}(),e.StreamingTag=e.StreamingTag||function(){var n=e.StreamSense,i=(e.StreamSense.PlayerEvents,e.StreamSense.InternalStates||null),a=e.StreamSense.ImplementationType||null,r=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType;return function(){var e={LongFormOnDemand:"11",ShortFormOnDemand:"12",Live:"13",UserGeneratedLongFormOnDemand:"21",UserGeneratedShortFormOnDemand:"22",
UserGeneratedLive:"23",Bumper:"99",Other:"00"},o={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},s=function(e){function o(){if(r)if(t.getNamespace().comScore)f=new n,f.setImplementationType(a.REDUCED);else if(t.exists(e))if(E=t.isTrue(console.log),t.exists(e.customerC2)&&e.customerC2.length>0){var i=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");f=new n,f.setPixelURL(i+".scorecardresearch.com/p?c1=2"),f.setLabel("c2",e.customerC2),f.setImplementationType(a.REDUCED)}else E&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}function s(e){t.exists(e)||(e={});for(var n in T)T.hasOwnProperty(n)&&!t.exists(e[T[n]])&&("ns_st_ci"==T[n]?e.ns_st_ci="0":e[T[n]]="*null");return e}function l(e){for(var t in T)if(T.hasOwnProperty(t)&&!d(T[t],h,e))return!1;return!0}function d(e,n,i){if(t.exists(e)&&t.exists(n)&&t.exists(i)){var a=n[e],r=i[e];return t.exists(a)&&t.exists(r)&&a===r}return!1}function c(e){p++;var n={ns_st_cn:p,ns_st_pn:"1",ns_st_tp:"0"};t.extend(n,e),f.setClip(n),h=e,f.play()}function u(e){p++,e=s(e);var n={ns_st_cn:p,ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};t.extend(n,e),f.setClip(n),f.play(),g=!1}function _(e,t){e=s(e),A==m.None&&(A=t),g&&A==t&&l(e)?(f.getClip().setLabels(e),f.getState()!=i.PLAYING&&f.play()):c(e),g=!0,A=t}var p=0,h=null,g=!1,f=null,E=!1,m={None:0,AudioContent:1,VideoContent:2},T=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],A=m.None;t.extend(this,{playAdvertisement:function(){if(f){E&&console&&console.log("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");var e={ns_st_ct:"va"};u(e)}},playVideoAdvertisement:function(e,n){if(f){var i={ns_st_ct:"va"};n?i.ns_st_ct="va"+n:E&&console&&console.log("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e&&t.extend(i,e),u(i)}},playAudioAdvertisement:function(e,n){if(f){var i={ns_st_ct:"aa"};n?i.ns_st_ct="aa"+n:E&&console&&console.log("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e&&t.extend(i,e),u(i)}},playContentPart:function(e){if(f){E&&console&&console.log("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};e&&t.extend(n,e),_(n,m.VideoContent)}},playVideoContentPart:function(e,n){if(f){var i={ns_st_ct:"vc"};n?i.ns_st_ct="vc"+n:E&&console&&console.log("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e&&t.extend(i,e),_(i,m.VideoContent)}},playAudioContentPart:function(e,n){if(f){var i={ns_st_ct:"ac"};n?i.ns_st_ct="ac"+n:E&&console&&console.log("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e&&t.extend(i,e),_(i,m.AudioContent)}},stop:function(){f&&f.pause()}}),o()};return function(e){}(s),s.ContentType=e,s.AdType=o,s}()}(),e})};var swfobject=function(){function e(){if(!G){try{var e=V.getElementsByTagName("body")[0].appendChild(f("span"));e.parentNode.removeChild(e)}catch(t){return}G=!0;for(var n=F.length,i=0;n>i;i++)F[i]()}}function t(e){G?e():F[F.length]=e}function n(e){if(typeof k.addEventListener!=D)k.addEventListener("load",e,!1);else if(typeof V.addEventListener!=D)V.addEventListener("load",e,!1);else if(typeof k.attachEvent!=D)E(k,"onload",e);else if("function"==typeof k.onload){var t=k.onload;k.onload=function(){t(),e()}}else k.onload=e}function i(){x?a():r()}function a(){var e=V.getElementsByTagName("body")[0],t=f(N);t.setAttribute("type",L);var n=e.appendChild(t);if(n){var i=0;!function(){if(typeof n.GetVariable!=D){var a=n.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),W.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else if(10>i)return i++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,r()}()}else r()}function r(){var e=B.length;if(e>0)for(var t=0;e>t;t++){var n=B[t].id,i=B[t].callbackFn,a={success:!1,id:n};if(W.pv[0]>0){var r=g(n);if(r)if(!m(B[t].swfVersion)||W.wk&&W.wk<312)if(B[t].expressInstall&&s()){var c={};c.data=B[t].expressInstall,c.width=r.getAttribute("width")||"0",c.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(c.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(c.align=r.getAttribute("align"));for(var u={},_=r.getElementsByTagName("param"),p=_.length,h=0;p>h;h++)"movie"!=_[h].getAttribute("name").toLowerCase()&&(u[_[h].getAttribute("name")]=_[h].getAttribute("value"));l(c,u,n,i)}else d(r),i&&i(a);else A(n,!0),i&&(a.success=!0,a.ref=o(n),i(a))}else if(A(n,!0),i){var f=o(n);f&&typeof f.SetVariable!=D&&(a.success=!0,a.ref=f),i(a)}}}function o(e){var t=null,n=g(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=D)t=n;else{var i=n.getElementsByTagName(N)[0];i&&(t=i)}return t}function s(){return!K&&m("6.0.65")&&(W.win||W.mac)&&!(W.wk&&W.wk<312)}function l(e,t,n,i){K=!0,S=i||null,C={success:!1,id:n};var a=g(n);if(a){"OBJECT"==a.nodeName?(I=c(a),y=null):(I=a,y=n),e.id=M,(typeof e.width==D||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==D||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),V.title=V.title.slice(0,47)+" - Flash Player Installation";var r=W.ie&&W.win?"ActiveX":"PlugIn",o="MMredirectURL="+k.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+V.title;if(typeof t.flashvars!=D?t.flashvars+="&"+o:t.flashvars=o,W.ie&&W.win&&4!=a.readyState){var s=f("div");n+="SWFObjectNew",s.setAttribute("id",n),a.parentNode.insertBefore(s,a),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}u(e,t,n)}}function d(e){if(W.ie&&W.win&&4!=e.readyState){var t=f("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(c(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(c(e),e)}function c(e){var t=f("div");if(W.win&&W.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(N)[0];if(n){var i=n.childNodes;if(i)for(var a=i.length,r=0;a>r;r++)1==i[r].nodeType&&"PARAM"==i[r].nodeName||8==i[r].nodeType||t.appendChild(i[r].cloneNode(!0))}}return t}function u(e,t,n){var i,a=g(n);if(W.wk&&W.wk<312)return i;if(a)if(typeof e.id==D&&(e.id=n),W.ie&&W.win){var r="";for(var o in e)e[o]!=Object.prototype[o]&&("data"==o.toLowerCase()?t.movie=e[o]:"styleclass"==o.toLowerCase()?r+=' class="'+e[o]+'"':"classid"!=o.toLowerCase()&&(r+=" "+o+'="'+e[o]+'"'));var s="";for(var l in t)t[l]!=Object.prototype[l]&&(s+='<param name="'+l+'" value="'+t[l]+'" />');a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+s+"</object>",Y[Y.length]=e.id,i=g(e.id)}else{var d=f(N);d.setAttribute("type",L);for(var c in e)e[c]!=Object.prototype[c]&&("styleclass"==c.toLowerCase()?d.setAttribute("class",e[c]):"classid"!=c.toLowerCase()&&d.setAttribute(c,e[c]));for(var u in t)t[u]!=Object.prototype[u]&&"movie"!=u.toLowerCase()&&_(d,u,t[u]);a.parentNode.replaceChild(d,a),i=d}return i}function _(e,t,n){var i=f("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function p(e){var t=g(e);t&&"OBJECT"==t.nodeName&&(W.ie&&W.win?(t.style.display="none",function(){4==t.readyState?h(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function h(e){var t=g(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function g(e){var t=null;try{t=V.getElementById(e)}catch(n){}return t}function f(e){return V.createElement(e)}function E(e,t,n){e.attachEvent(t,n),H[H.length]=[e,t,n]}function m(e){var t=W.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function T(e,t,n,i){if(!W.ie||!W.mac){var a=V.getElementsByTagName("head")[0];if(a){var r=n&&"string"==typeof n?n:"screen";if(i&&(P=null,R=null),!P||R!=r){var o=f("style");o.setAttribute("type","text/css"),o.setAttribute("media",r),P=a.appendChild(o),W.ie&&W.win&&typeof V.styleSheets!=D&&V.styleSheets.length>0&&(P=V.styleSheets[V.styleSheets.length-1]),R=r}W.ie&&W.win?P&&typeof P.addRule==N&&P.addRule(e,t):P&&typeof V.createTextNode!=D&&P.appendChild(V.createTextNode(e+" {"+t+"}"))}}}function A(e,t){if(q){var n=t?"visible":"hidden";G&&g(e)?g(e).style.visibility=n:T("#"+e,"visibility:"+n)}}function v(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=D?encodeURIComponent(e):e}var I,y,S,C,P,R,D="undefined",N="object",b="Shockwave Flash",O="ShockwaveFlash.ShockwaveFlash",L="application/x-shockwave-flash",M="SWFObjectExprInst",w="onreadystatechange",k=window,V=document,U=navigator,x=!1,F=[i],B=[],Y=[],H=[],G=!1,K=!1,q=!0,W=function(){var e=typeof V.getElementById!=D&&typeof V.getElementsByTagName!=D&&typeof V.createElement!=D,t=U.userAgent.toLowerCase(),n=U.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(t),a=n?/mac/.test(n):/mac/.test(t),r=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,o=!1,s=[0,0,0],l=null;if(typeof U.plugins!=D&&typeof U.plugins[b]==N)l=U.plugins[b].description,!l||typeof U.mimeTypes!=D&&U.mimeTypes[L]&&!U.mimeTypes[L].enabledPlugin||(x=!0,o=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof k.ActiveXObject!=D)try{var d=new ActiveXObject(O);d&&(l=d.GetVariable("$version"),l&&(o=!0,l=l.split(" ")[1].split(","),s=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(c){}return{w3:e,pv:s,wk:r,ie:o,win:i,mac:a}}();(function(){W.w3&&((typeof V.readyState!=D&&"complete"==V.readyState||typeof V.readyState==D&&(V.getElementsByTagName("body")[0]||V.body))&&e(),G||(typeof V.addEventListener!=D&&V.addEventListener("DOMContentLoaded",e,!1),W.ie&&W.win&&(V.attachEvent(w,function(){"complete"==V.readyState&&(V.detachEvent(w,arguments.callee),e())}),k==top&&!function(){if(!G){try{V.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),W.wk&&!function(){return G?void 0:/loaded|complete/.test(V.readyState)?void e():void setTimeout(arguments.callee,0)}(),n(e)))})(),function(){W.ie&&W.win&&window.attachEvent("onunload",function(){for(var e=H.length,t=0;e>t;t++)H[t][0].detachEvent(H[t][1],H[t][2]);for(var n=Y.length,i=0;n>i;i++)p(Y[i]);for(var a in W)W[a]=null;W=null;for(var r in swfobject)swfobject[r]=null;swfobject=null})}();return{registerObject:function(e,t,n,i){if(W.w3&&e&&t){var a={};a.id=e,a.swfVersion=t,a.expressInstall=n,a.callbackFn=i,B[B.length]=a,A(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return W.w3?o(e):void 0},embedSWF:function(e,n,i,a,r,o,d,c,_,p){var h={success:!1,id:n};W.w3&&!(W.wk&&W.wk<312)&&e&&n&&i&&a&&r?(A(n,!1),t(function(){i+="",a+="";var t={};if(_&&typeof _===N)for(var g in _)t[g]=_[g];t.data=e,t.width=i,t.height=a;var f={};if(c&&typeof c===N)for(var E in c)f[E]=c[E];if(d&&typeof d===N)for(var T in d)typeof f.flashvars!=D?f.flashvars+="&"+T+"="+d[T]:f.flashvars=T+"="+d[T];if(m(r)){var v=u(t,f,n);t.id==n&&A(n,!0),h.success=!0,h.ref=v}else{if(o&&s())return t.data=o,void l(t,f,n,p);A(n,!0)}p&&p(h)})):p&&p(h)},switchOffAutoHideShow:function(){q=!1},ua:W,getFlashPlayerVersion:function(){return{major:W.pv[0],minor:W.pv[1],release:W.pv[2]}},hasFlashPlayerVersion:m,createSWF:function(e,t,n){return W.w3?u(e,t,n):void 0},showExpressInstall:function(e,t,n,i){W.w3&&s()&&l(e,t,n,i)},removeSWF:function(e){W.w3&&p(e)},createCSS:function(e,t,n,i){W.w3&&T(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=V.location.search||V.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return v(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return v(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(K){var e=g(M);e&&I&&(e.parentNode.replaceChild(I,e),y&&(A(y,!0),W.ie&&W.win&&(I.style.display="block")),S&&S(C)),K=!1}}}}();!function(e){return e.tve_mvpd_list=tve_mvpd_list={ace_communications:"94a7ccd9c75c450defc2838d5257ba8f",adobe:"9d903ccd68212f85fc2e700e4733e52f",advanced_cable_communications:"a33d71917e22dceba56d1a3f55217b9f",algona_municipal_utilities:"e0fbbdbf6af6f9bd241c85433b65522e",allwest_communications:"6d7f729aca46293249a3e8a4f0c9cff1",alpine_communications:"5c2b8729771ba37e08d3ec484be4c3a1",anne_arundel_broadband:"60407462a822d73fe2ac22cc3ab25e8e",antietam:"71446d94accc8732930edf9bf98e5f7a",arkwest_communications:"e2308e19dc9f634603680291dfb2602d",armstrong:"d5dacc43370fdfe28148a9862573dff4",arvig:"2526e086e58d7ade4acde09dc260b4af",astound:"4cf08b527749125fb040df23f5a5e0da",att:"65db43f237832cbf0f299bd8f2bcf2ac",attott:"7c643c97da4e11fada42a3cce8355174",atlantic_broadband:"4282dae1eaf9e99559ab04e3e25d61a3",atmc:"6119f71a2683ce312a62bc4cf1047bf6",baldwin_telecom:"103f1f6365f2d13d366ee497e14f5098",bay_creek_communications:"421a727371d9cfadbc18b1e28be19cf1",bektel:"96116b90f122ffb3c87fdfc09b09c4b6",bend:"edc684181ea918cf9842a1ae65316afc",bitwise:"aada41a40a2a3bbcecdd63a7f79a2bd5",blueridge:"18b72b6df7d754a563ee5f017bc5f155",brighthouse:"dd55c99281c6667544470a832b1c9065",broadstripe:"5cf00e80761489a66bc4941ffdf5d9b8",btc_broadband:"5fdbe081f21d0370567776a819ec9726",buckeye_cablesystem:"77e7d2d60ed044ed59489e46be800ca2",buckeye_cablevision:"b9c811bd7aa79800b1b3a624701a6804",burlington_telecom:"9d5d828be191887f67044d949da72852","butler-bremer_communications":"ea0832d1bcddbb7f7f74d581af68a138",bvu_optinet:"5ec8fb817f2fb0a0e1e0a32346dc5fc3",cspire:"5f2128395c0ef64e339fbd5f2a5031e8",cable_one:"9957840c4f0e25ff1999c4c1cce0c245",cable_service:"fd14dffc19649ba0fd1560dba6a45d8f",cable_america:"79af9adfe2dbed189efc3c2da36d188b",cablevision:"725bd42fc9c9394e790b9a73610da431",canby_telcom:"1b9b22ca20124e3287f8e67926f533ff",cas_cable:"eda12e3976bb0c28d12bcda09af44092",cass:"3cab68956fa7c8129671ef96bc1adf7c",cc_communications:"ff72051f06f59c8eb8a8adeea36f2cf8",cedar_falls_utilities:"4fc9e6fc11df3a6df287427de4c69486",central_scott_cst:"cc84bca42d7eb09de5266e82f86ea358",centurylink_prism:"713cb00ba175af79d249e525034f72f9",centurylink_stream:"022f02444b8cd131b066ad501519c687",centurylink:"98cdd726a2733a6bf85720bb3c4d442f",charter:"4776c3504c43638698130796a1fce1cc",charter_direct:"14a820c31e15825033556d751bf07bfe",chippewa_valley_cable:"f03fbb4e96cfe0702b95447c0a23530e",cimtel_cable:"a1129d396221c3fa90da349cc6886936",cincinnati_bell:"f128b6778619d38c781ccba6116d5642",citizens_cablevision:"95bd2c875ac115ab16d827a604f08aa7",citizens_cablevision_floyd:"222aed2141c1e141e9baa953ffe77ada",citizens_telephone_corporation:"2eddf42c6f11f2a34a48a8fbc8c540a8",citylink:"73a9b16474b3b2f3d5e1ef89d275c64d",clay_county_rural_telephone_cooperative_endeavor_communication:"8e196e5b26248cf57fa9bc85caddd2ec",clear_creek_cablevision:"d7e7a3d2624bfd468d8c64f1c5783471",clickcabletv_auth_gateway_net:"d3b72befa9b18c34942adfe942660b97",cns:"f32a97390abb58dc789ecfb99ef664d4",comcast:"d8b58f7bfce28eefcc1cdd5b95c3b663",comcast_sso:"2d11694969f76e6ef9fbcd5b17f38943",comporium:"16a5c1e5799496922116a5c397a944fc",consolidated:"50ccd24213ad19f252294915a5f1a424",consolidated_auth_gateway_net:"2c73e7583831e9e38aaf2426cf5b72d4",conway_corporation:"3d341a187ef844624ba0cd5046688f74",cox:"45641e46f614125065559617b3efc5a2",crestview_cable_communications:"7bd3634eb089d82dfdcd646a35e09722",cross_tv:"314022f66e089eca9a0f2ea4a49995f8",crosslake:"bc29247bda190d403e95bae52b92bab2",ct_communications:"c9b71d692da81838e9e768ee751f4e92",ctc040:"21ba2c26cf2bd5c7262e327c625ef206",cunningham_telephone_cable:"5c4daa63ee1e6369a7886a89aa4aac47",d_and_p_communications:"81fbaf6aaaceb1ee3e9b165184a375a5",daltonutilities:"2989b8723003cd2221e0f9299c708d41",delcambre_telephone_llc:"bf23217d9859a73d8b5894e1a218a5ef",directv:"3e3b995fe19c7c1ab54f8a302ae04b94",dtv:"53da17a30bd0d3c946a41c86cb5873f1",dish:"d51f95cd19fecba66558f490554838ee",docomo_pacific:"084cd21e2272c265e2075468e3fc91aa",dtv_now:"51c6400f227f19b4aadc4087ecb043fb",eagle_communications:"1630de36c3e5664f581942a25fa30dd3",easton_utilities:"a4b2dcd511aecc5def641073681e7a81",eatel_video:"b51c28cc13c330addd751ba2ba0f2c66",emery_telcom_video:"91426c2469c83670ddf10a8476b19798",entouch:"12dc224fd3fd2c50c08de6d71c19f5c5",endeavor_communications:"068eac231bc90f2318d4b366a5cb89c9",enventis:"e174e3f78cc06b70d5c2cd795b4dccf5",epb_chattanooga:"65327172ec32efb9a9f934616f8abf5c",eplus_broadband:"03b9f1e80ad77f603082aadee3b6141d",f_b_communications:"abeea890a13dd5579d6e8000451f883b",firstmile_technologies:"74d8083db4c8c8839c5efba353af2cc9",frankfort_plant_board:"8daf8b8c4896d8d984575e9deec71566",frontier_communications:"4153e2253705db2460b81313d436aa79",fubotv:"7126f8f365efc128852346242a8696e8",full_channel:"5ed7d921b4e0d1fcb46acc2b648828e4",gar040:"8b807701f55517307c50c8c6e364c8e9",gci:"a21770cc1c0b08a876d402cfdc416ae9",golden_west_cablevision:"bc639149a4c0dff6207856fe9f744625",google_fiber:"1c8b4d6d368fd724aa47eac5596c8d67",grande:"7a3e1c7c45a215a4cbd11d441e63ec4f",great_plains_communications:"30ff6fa4fbaadae7447fc5306f348673",gta:"d81c52f524f6faf198b5daa2a865c2df",gvtc:"72adbc0b3b397e23cc03b83e9bcd3571",hargray:"5314980f9dfb033986b09ba880061a87",hawaiian_telcom:"767bcff895dc9c965a8f05c468dce76a",hbc:"66bcfee5fb4b8905bba73f5b691dc77a",hickory:"b4e1cc5de2bedf59a4111112dc4bc988",home_telecom:"dc7aeb392b65f218ed64e25f40497016",home_town_cable_plus:"464167cf5039a15ca6a29bed740b93ea",hometel:"7db9b26109010768f0370187077ca8a0",hometel_entertainment:"cbb597ddc90ec3a485d25f7a4f165801",hood_canal_communications:"876764745972cbd670d1ce0eb336319a",horizon_cable_tv:"eb4c8b38d0dc9d79370b1449295967ab",horrytc:"ed983bf3912c5f3b87ed7c8397456d11",hotwire_communications:"117be15c477cc007d174d1c1d2ac837c",htc:"ff19d093d1e27a131db9ac3154273e14",htc_communications_ia:"c06ec185bda9a6e41fbce6c474b00f19",hulu_dmvpd:"e5e7480e1a090738eeb5c4e2bb47de52",imon_communications:"360c685bd21e6858b2c99dcfa2216337",jackson_energy:"bceee38ba7a7a523896043aa46218eb3",knology:"52e4139ad74f32a05ca50efc989505a2",lau020:"f7828c0bcde8c82d3202017809667dd5",layer3mvpd:"d02b22e4622e0e4d090e99ff375e1631",liberty_cable:"978a7b7fb8cde2b520f10e170991c5ac",lit020:"4677e0081dab2c2b5b6ba883ae94d499",long_lines:"07b3ad06c3e46c06b8287ef088705f29",loretel_system:"9f363708148c3a67521b29f9ccb223bb",lpc_connect:"f56daf4b218d10f710e77296d65d3dbd",lumos_networks:"d6b53fba63e6c6072bff94150d6bb3f4",lus_fiber:"47326a2103bffb6f1396305ee8d04a6f",madison_communications:"bcedd9bcb22f453e44615e452e993e78",mctv:"40bbf99d563ee68a97cf920c4c58fee6",mediacom:"6815c25b7ee92e5e9ec107418df14eed",merrimac_communications:"57ed1ef934dd0e34b8cc77b3b3ab3e88",metrocast:"2067134b36ec45f28a1a70c6ef43a303",metronet:"f292791db9b984ae87ecef0eda96edc2",mhtc:"77c9b8f7ac3bdcbdab9d3f35052375d3",mi_connection:"bc5de88e932e445965f9426e12a7bbc2",midhudson_cable:"b3743df100b0fc980c5729ef1138d39c",midrivers_communications:"0fff5d9a4a55a8c4262b741a6cfab8c7",midcontinent_communications:"026027fa9e38a2933cb4ec0bbc0e4b6d",midstate_communications:"f9d4ac626f9ed80d3d0d91396678765e",millenium:"80db51e28c9ba1940d2072b42206b3f7",millenium_telcom_one_source:"06aae4bd90f5956223eb79527fc7cd51",morris_broadband:"f17a0fbd1c931054553be162aea7b534",mta_communications:"802201fca7cb8e27d1290ab54242d7f3",mtc030:"f66947228c1f4bc4ae7499ba3657cd22",mus_fibernet:"5e849b80993f27e25f85e6ce78aca707",muscatine_p_w:"0b75052bdee3dca7071b5ebf1eb5f76f",nrtc:"c2b871b4031c3706db40794acdcedbac",nctc:"bb696d9b2f14fa0f673315d169d4e523",nebraska_central_telecom:"a6649363f117d91422714613f8f052eb",newwave_communications:"7ec580bd7882de93b13a65d7b948236a",nextech:"1fcea22900e060162056528f32d58737",nktelco:"4b8bb5bd95648b16463785094f4e8594",nntc:"9f8961d99ec4e390b9aff7cb03857242",nortex_communications:"2a06c79d11481581d9a0f90f4ae4751b",nor030:"593ed3a998b2b37083c52eb0a7329261",nor075:"c0eccb3ff55d65d4ad374f1f60557ca8",norwood_light_broadband:"48ac8fbdf4e4f8b52a65860e45b864e3",nulink:"8b8f5ffcf9054779ec80ab6182564116",onesource_communications:"258ee630e1c8df2c843fd1825fe82c57",openband:"de82e01b9f3d3840f7b1d95af58da172",optilink:"3db5681334c44752317cdf5df88c4ae5",orbitel:"4cbc4ee5d581c6968ef766c62e05940a",otter_com_inc:"71e7d1fbaa9f54b545df2ec96668baf6",park_region_otter_tail:"486f5af3084ec419412b5893d1e4bf4c",paul_bunyan_communications:"dd034340b71c466548196bdcfe0efeb0",philo:"7824bb97e5e03edaa15a21c0962f9d0d",phonoscope_cable:"e90ce34106e71382ae983978ad152031",pioneer_communications:"79a45efed08c464dd4bbb7d56e8500b8",pioneer_dtv:"67fffda3233e1f57e0e0b541a1717e0f",pioneer_long_distance:"7106fe93f317d3bea8a3d3f3ec113541",pla020:"edaddd89d44593555ea9ca0a28510075",plateau_telecommunications:"a395fe3d321a6e39391a23bee942bf90",sony_auth_gateway_net:"d802388e287f92d9bd0a6a630f7b4b9b",pottawatomie_telephone:"a7b0540848bd6dcbb7668e71a7a93f66",premier_communications:"59779e98392a694dfe2cdc687f1e0e1d",rai030:"74d1d3a3062d5b7d3914f48443a3f0ca",randolph_telephone:"9fbabb3e3eff96aed5b75e08e7956cf0",rcn:"d449c38c8d558224de10ff15dc764568",reinbeck_telecom:"8ad0337c4d57028b84a98667d1244c69",rancho_murieta_cable:"ee88a2bba6d46442b3b9997ab28fbfd0",rock_port_cablevision:"7f31dd76468f1c0b8a4d995ab9397c56",rogers_communications:"012d7ca0ce1d7acc274b3c005a58188a",rtc_communication_corp:"b63a32863d7721893ea93de131ac6086",sav010:"c9e5fa0918a0f43b2b68042cf348fadf",selco:"e60d4d5a3831c2ed70624f5f22970202",service_electric_bb:"8681a6ed41138deaa007ba0ea009eecc",sectv:"b7d22698a6bf8add08e2ed81485937e5",serviceelectric_auth_gateway_net:"ee25b5338caaac0739b20ea6fb41a19b",shentel:"257cd9239e39041601dcc18a04d85191",sjobergs:"04dcbf21bea127668d711a47b4d08124",skybest_tv:"b648e14dd8eb808f3cf50f688d39de38",sling:"09eb6448f873a4efb839bbc17b08b325",smithville_comm:"4ff642278a1fd9280d6017dc9379b5fa",snetv:"908543024b4f95683c271ea4269e92e5",south_slope_cooperative_communications:"b17fd364e910b481a0b4b871019461a7",spectrum:"743bb262648fdcac6c5518898283c220",spencer_municipal_utilities:"8f557ab9d184bd12281d4909d7e0ecfe",srt_communications:"7f322e9bcdcbd9134e219eea372413e2",suddenlink:"7823d91ca9b240df4ef611416c32bd84",summit_broadband:"5972f104dba7217a62d268ba878a4fa9",sumner_cable_tv:"574b5335f7436df49159123e67768581",surewest:"e72fedb49624aa30df7ee1dd3d9231f6",sweetwater_cable_television_co:"2aad6ed682586e4bd7f9edda394091ad",swiftel:"5ba04c7e6786d270833b2f5348ad6fcd",tct_west:"7395fb24c5c85bd62e09800b080900ff",tds:"3b84f8cfd144e7211160037ebacbf0e7",twc:"975cd70e2de25291acc0efc98a48935e",tri_county_communications_cooperative:"bcec3f9eeba093a656f0b4d4f66a2fdb",truvista:"595155ce5cc5103488644c42b5b4e315",tsc:"28e098175bb05703eb34c5adbb234370",tullahoma_utilities_board:"dd87ce8d18c91a90a3d629560125efb0",twin_valley:"025bbdd0f83449381217c5ee020b2bdb",unitedtel:"1b1a86d9b4bfdefb3091374d9cdc9ed7",univision:"72133b54ada6b97de3ddfd20790cbed7",valunet:"78521e2ac85d38b49f8884f33c1925f6",verizon:"5525ff59adcaac313923ab89d0a618c5",verizon_fios:"640c0120eec6c69e91dabd0032a2fa55",verizon_hba:"8d8efc96fcf8c4947c5a0f5b07b8f2fe",vtel:"6470560db7ffca7f4362a5072c3968e6",volcano_vision:"088de7db5a81e3962d0fc9e28d08b113",waitsfield_cable:"1f1b23b025ee9ccc897de6186518481c",watch_abc_default:"dce77ac5cbd62c3b53c84cf498e6ba30",watch_datg:"76a2849433f69a1977ad5ffbf14f9f0c",wave_broadband:"77ba599a94b5ee6d3972d7b2b7ac7ca4",west_carolina_communications:"4a26e128c67b004d35e327812d72d8b7",west_central_telephone_association:"c6ec94996797d421f386e2b7f6b7ae08",west_river_cooperative_telephone_company:"1b4fea3b0897a9a28e6061cdf89e736a",western_iowa_networks:"dca9b1a399a80b69ba33c6edc93148ce",wide_open_west:"fe2066988e1f50e0bbe6ea672084d574",windstream:"4278e68eb5bf1c74ae050176d8a3ca46",windstream_d_and_e_systems_inc:"b1bdb3b451fac34a2d5d7bf0bca0a9d1",windstream_lexcom_entertainment_llc:"6e54c805854972656e7d6b1421d31944",windstream_kentucky_llc:"30f0a4f039ee98aa3a4e49800bf4e6c3",windstream_nebraska:"0f75031c615202d868311ab8666aa497",wtc:"27daa922e196bd91a0fe8cdf922591fa",yadtel:"f2f7b016744ae707696cbf304721cb1c",youtube_subscription_platform:"027b2b4baccdc848db095a7db10da595"},tve_mvpd_list}(window),window.addHeartbeatAnalyticsLibrary=function(){!function(e){if("undefined"==typeof t)var t={};if("undefined"==typeof n)var n={};if("undefined"==typeof i)var i={};if(i.radio||(i.radio={}),i.plugin||(i.plugin={}),"undefined"==typeof a)var a={};a.clock||(a.clock={}),function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function i(e,i,a,r,o,s){return t(n(t(t(i,e),t(r,s)),o),a)}function a(e,t,n,a,r,o,s){return i(t&n|~t&a,e,t,r,o,s)}function r(e,t,n,a,r,o,s){return i(t&a|n&~a,e,t,r,o,s)}function o(e,t,n,a,r,o,s){return i(t^n^a,e,t,r,o,s)}function s(e,t,n,a,r,o,s){return i(n^(t|~a),e,t,r,o,s)}function l(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var i,l,d,c,u,_=1732584193,p=-271733879,h=-1732584194,g=271733878;for(i=0;i<e.length;i+=16)l=_,d=p,c=h,u=g,_=a(_,p,h,g,e[i],7,-680876936),g=a(g,_,p,h,e[i+1],12,-389564586),h=a(h,g,_,p,e[i+2],17,606105819),p=a(p,h,g,_,e[i+3],22,-1044525330),_=a(_,p,h,g,e[i+4],7,-176418897),g=a(g,_,p,h,e[i+5],12,1200080426),h=a(h,g,_,p,e[i+6],17,-1473231341),p=a(p,h,g,_,e[i+7],22,-45705983),_=a(_,p,h,g,e[i+8],7,1770035416),g=a(g,_,p,h,e[i+9],12,-1958414417),h=a(h,g,_,p,e[i+10],17,-42063),p=a(p,h,g,_,e[i+11],22,-1990404162),_=a(_,p,h,g,e[i+12],7,1804603682),g=a(g,_,p,h,e[i+13],12,-40341101),h=a(h,g,_,p,e[i+14],17,-1502002290),p=a(p,h,g,_,e[i+15],22,1236535329),_=r(_,p,h,g,e[i+1],5,-165796510),g=r(g,_,p,h,e[i+6],9,-1069501632),h=r(h,g,_,p,e[i+11],14,643717713),p=r(p,h,g,_,e[i],20,-373897302),_=r(_,p,h,g,e[i+5],5,-701558691),g=r(g,_,p,h,e[i+10],9,38016083),h=r(h,g,_,p,e[i+15],14,-660478335),p=r(p,h,g,_,e[i+4],20,-405537848),_=r(_,p,h,g,e[i+9],5,568446438),g=r(g,_,p,h,e[i+14],9,-1019803690),h=r(h,g,_,p,e[i+3],14,-187363961),p=r(p,h,g,_,e[i+8],20,1163531501),_=r(_,p,h,g,e[i+13],5,-1444681467),g=r(g,_,p,h,e[i+2],9,-51403784),h=r(h,g,_,p,e[i+7],14,1735328473),p=r(p,h,g,_,e[i+12],20,-1926607734),_=o(_,p,h,g,e[i+5],4,-378558),g=o(g,_,p,h,e[i+8],11,-2022574463),h=o(h,g,_,p,e[i+11],16,1839030562),p=o(p,h,g,_,e[i+14],23,-35309556),_=o(_,p,h,g,e[i+1],4,-1530992060),g=o(g,_,p,h,e[i+4],11,1272893353),h=o(h,g,_,p,e[i+7],16,-155497632),p=o(p,h,g,_,e[i+10],23,-1094730640),_=o(_,p,h,g,e[i+13],4,681279174),g=o(g,_,p,h,e[i],11,-358537222),h=o(h,g,_,p,e[i+3],16,-722521979),p=o(p,h,g,_,e[i+6],23,76029189),_=o(_,p,h,g,e[i+9],4,-640364487),g=o(g,_,p,h,e[i+12],11,-421815835),h=o(h,g,_,p,e[i+15],16,530742520),p=o(p,h,g,_,e[i+2],23,-995338651),_=s(_,p,h,g,e[i],6,-198630844),g=s(g,_,p,h,e[i+7],10,1126891415),h=s(h,g,_,p,e[i+14],15,-1416354905),p=s(p,h,g,_,e[i+5],21,-57434055),_=s(_,p,h,g,e[i+12],6,1700485571),g=s(g,_,p,h,e[i+3],10,-1894986606),h=s(h,g,_,p,e[i+10],15,-1051523),p=s(p,h,g,_,e[i+1],21,-2054922799),_=s(_,p,h,g,e[i+8],6,1873313359),g=s(g,_,p,h,e[i+15],10,-30611744),h=s(h,g,_,p,e[i+6],15,-1560198380),p=s(p,h,g,_,e[i+13],21,1309151649),_=s(_,p,h,g,e[i+4],6,-145523070),g=s(g,_,p,h,e[i+11],10,-1120210379),h=s(h,g,_,p,e[i+2],15,718787259),p=s(p,h,g,_,e[i+9],21,-343485551),_=t(_,l),p=t(p,d),h=t(h,c),g=t(g,u);return[_,p,h,g]}function d(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){return d(l(c(e),8*e.length))}function _(e,t){var n,i,a=c(e),r=[],o=[];for(r[15]=o[15]=void 0,a.length>16&&(a=l(a,8*e.length)),n=0;16>n;n+=1)r[n]=909522486^a[n],o[n]=1549556828^a[n];return i=l(r.concat(c(t)),512+8*t.length),d(l(o.concat(i),640))}function p(e){var t,n,i="0123456789abcdef",a="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),a+=i.charAt(t>>>4&15)+i.charAt(15&t);return a}function h(e){return unescape(encodeURIComponent(e))}function g(e){return u(h(e))}function f(e){return p(g(e))}function E(e,t){return _(h(e),h(t))}function m(e,t){return p(E(e,t))}function T(e,t,n){return t?n?E(t,e):m(t,e):n?g(e):f(e)}e.md5=T}(t),function(e){"use strict";var t={};t.startsWith=function(e,t){return 0==e.indexOf(t)},e.StringUtils=t}(t),function(e){"use strict";var t={};t.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},t.merge=function(e,n){var i=t.clone(e);for(var a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i},e.ObjectUtils=t}(t),function(e){"use strict";function t(e,t,n){this.fn=e,this.ctx=t,this.params=n}t.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},e.radio.Command=t}(i),function(e){"use strict";function t(e,t){this._queue=[],this._lastTs=0,this._isSuspended="undefined"!=typeof e?e:!1,this._delay="undefined"!=typeof t?t:0}t.prototype.addCommand=function(e){this._queue.push(e),this._drain()},t.prototype.cancelAllCommands=function(){this._queue=[]},t.prototype.isEmpty=function(){return 0===this._queue.length},t.prototype.suspend=function(){this._isSuspended=!0},t.prototype.resume=function(){this._isSuspended=!1,this._drain()},t.prototype.flush=function(){this._isSuspended=!1;for(var e=0;e<this._queue.length;e++){var t=this._queue[e];t.run()}this._queue=[]},t.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var e=this;!function t(){var n=e._queue.shift();n?e._runCommand(n,function(){e._isSuspended||t()}):e._drainInProgress=!1}()}},t.prototype._runCommand=function(e,t){function n(){e.run(),null!=t&&t.call(i)}var i=this;if(0==this._lastTs)n();else{var a=(new Date).getTime(),r=a-this._lastTs;this._lastTs=a,r<this._delay?setTimeout(n,this._delay-r):n()}},e.radio.CommandQueue=t}(i),function(e){"use strict";function t(e,t){if(this._name=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function n(e,n){if(e===n)return!0;for(var i=(e||"").split(t.SEPARATOR),a=(n||"").split(t.SEPARATOR),r=!0,o=0;o<i.length;o++)r=r&&(i[o]===t.WILDCARD||i[o]===a[o]);return r}t.WILDCARD="*",t.SEPARATOR=":",t.prototype.toString=function(){return"<channel: "+this._name+">"},t.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(i,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},t.prototype.on=function(e,t,n){this._isShutDown||(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({fn:t,ctx:n}))},t.prototype.off=function(e,t,n){if(!this._isShutDown){if(t="function"==typeof t?t:null,!e&&null==t&&!n)return void(this._listeners={});if(e)this._removeListener(e,t,n);else for(e in this._listeners)this._listeners.hasOwnProperty(e)&&this._removeListener(e,t,n)}},t.prototype.trigger=function(e){if(!this._isShutDown)for(var t in this._listeners)if(this._listeners.hasOwnProperty(t)&&n(t,e.name))for(var i=this._listeners[t].slice(0),a=0;a<i.length;a++){var r=i[a];r.fn.call(r.ctx,e)}},t.prototype.comply=function(e,t,n){this._isShutDown||(this._commands[e]={cmd:t,ctx:n})},t.prototype.command=function(e,t){if(!this._isShutDown){var n=this._commands[e];return n?void n.cmd.call(n.ctx,t):void this._logger.warn(i,"#command > No command handler for: "+e)}},t.prototype.reply=function(e,t,n){this._isShutDown||(this._requests[e]={fn:t,ctx:n})},t.prototype.request=function(e){if(!this._isShutDown){var t=this._requests[e];return t?t.fn.call(t.ctx):(this._logger.warn(i,"#request > No request handler for: "+e),null)}},t.prototype._removeListener=function(e,t,n){t="function"==typeof t?t:null;var i=this._listeners[e];if(i){if(!i.length||null==t&&!n)return void delete this._listeners[e];for(var a=0;a<i.length;a++){var r=i[a];null!==t&&t!==r.fn||n&&n!==r.ctx||this._listeners[e].splice(a,1);
}}};var i="radio::Channel";e.radio.Channel=t}(i),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._channels={}}var n=e.radio.Channel;t.prototype.channel=function(e){return this._channels[e]||(this._channels[e]=new n(e,this._logger)),this._channels[e]},t.prototype.shutdown=function(){for(var e in this._channels)this._channels.hasOwnProperty(e)&&this._channels[e].shutdown()},e.radio.Radio=t}(i),function(e){"use strict";function t(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e}e.extend=t}(i),function(e){"use strict";function t(){}t.prototype.write=function(e){throw new Error("Implementation error: Method must be overridden.")},e.ILogWriter=t}(i),function(e){"use strict";function t(){}t.prototype.write=function(e){window.console&&console.log&&console.log(e)},e.LogWriter=t}(i,n),function(e){"use strict";function t(){}t.prototype.setLogWriter=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.debug=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.info=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.warn=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.error=function(e,t){throw new Error("Implementation error: Method must be overridden.")},e.ILogger=t}(i),function(e){"use strict";function t(){this._logWriter=new i}function n(e){return 10>e?"00"+e:100>e?"0"+e:""+e}var i=e.LogWriter;t.prototype.setLogWriter=function(e){if(!e)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=e,this._enabled=!1},t.prototype.getLogWriter=function(){return this._logWriter},t.prototype.getEnabled=function(){return this._enabled},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this._enabled=!1},t.prototype.debug=function(e,t){this._log(e,r,t)},t.prototype.info=function(e,t){this._log(e,a,t)},t.prototype.warn=function(e,t){this._log(e,o,t)},t.prototype.error=function(e,t){this._log(e,s,t)},t.prototype._log=function(e,t,i){if(t==s||this._enabled){var a="",r=new Date;a+="["+r.toTimeString()+"."+n(r.getMilliseconds())+"] ["+t+"] ",a+="["+e+"] "+i,this._logWriter.write(a)}};var a="INFO",r="DEBUG",o="WARN",s="ERROR";e.Logger=t}(i),function(e){"use strict";function t(e,t){this._pluginName=e,this._eventName=t}var n=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getEventName=function(){return this._eventName},t.prototype.getName=function(){return this._pluginName+n.SEPARATOR+this._eventName},e.Trigger=t}(i),function(e){"use strict";function t(e,t){this.name=e,this.data=t}t.SUCCESS="success",t.ERROR="error",t.createFromTrigger=function(e){return new t(e.getName())},e.Event=t}(i),function(e){"use strict";function t(){this._events={}}t.prototype.addEventListener=function(e,t,n){e&&t&&(n=n||window,this._events[e]=this._events[e]||[],this._events[e].push({cb:t,ctx:n}))},t.prototype.removeEventListener=function(e,t,n){if(e&&t){n=n||window;var i,a,r=!1;for(a in this._events)if(e===a){r=!0;break}if(r){for(i=this._events[a].length-1;i>=0;i--){var o=this._events[a][i];t===o.cb&&n===o.ctx&&this._events[a].splice(i,1)}this._events[a].length||delete this._events[a]}}},t.prototype.dispatchEvent=function(e){if(e.name){var t,n;for(t in this._events)if(this._events.hasOwnProperty(t)&&e.name===t){var i=this._events[t],a=i.slice(0),r=a.length;for(n=0;r>n;n++)a[n].cb.call(a[n].ctx,e);break}}},t.prototype.removeAllListeners=function(e){if(e){var t,n;for(n in this._events)if(this._events.hasOwnProperty(n)){for(t=this._events[n].length-1;t>=0;t--){var i=this._events[n][t];i.ctx===e&&this._events[n].splice(t,1)}this._events[n].length||delete this._events[n]}}else this._events={}},e.EventDispatcher=t}(i),function(e){"use strict";function t(){}function n(e,t){this.url=e||null,this.method=t,this._xmlhttp=null}function i(){i.__super__.constructor.call(this),this._connection=null}var a=e.Event,r=e.EventDispatcher;t.GET="GET",i.RESPONSE="response",i.INSTANCE="instance",e.extend(i,r),i.prototype.close=function(){this.removeAllListeners(null)},i.prototype.load=function(e){e&&e.method&&e.url&&(e._xmlhttp=this._createCORSRequest(e),e._xmlhttp?e._xmlhttp.send():this._loadImage(e))},i.prototype._createCORSRequest=function(e){var t=null;if("undefined"!=typeof window.XMLHttpRequest){var n=new window.XMLHttpRequest;"withCredentials"in n&&(t=n,t.open(e.method,e.url,!0))}if(null==t&&"undefined"!=typeof window.XDomainRequest&&(t=new window.XDomainRequest,t.open(e.method,e.url)),t){var r={};r[i.INSTANCE]=this;var o=this;t.onload=function(){return t.status&&parseInt(t.status,10)>=400?this.onerror():(r[i.RESPONSE]=t.responseText,void o.dispatchEvent(new a(a.SUCCESS,r)))},t.onerror=function(){o.dispatchEvent(new a(a.ERROR,r))}}return t},i.prototype._loadImage=function(e){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=e.url;var t={};t[i.RESPONSE]="",t[i.INSTANCE]=this,this.dispatchEvent(new a(a.SUCCESS,t))},e.URLRequestMethod=t,e.URLRequest=n,e.URLLoader=i}(i),function(e){"use strict";var t="js",n="1.5.7.68",i="55a81f",a=4,r={};r.getVersion=function(){return t+"-"+n+"-"+i},r.getMajor=function(){return r.getNumberAtPosition(0)},r.getMinor=function(){return r.getNumberAtPosition(1)},r.getMicro=function(){return r.getNumberAtPosition(2)},r.getPatch=function(){return r.getNumberAtPosition(3)},r.getBuild=function(){return i},r.getApiLevel=function(){return a},r.getNumberAtPosition=function(e){return n.split(".")[e]},e.Version=r}(n),function(e){"use strict";function t(e,t){this._message=e,this._details=t}t.prototype.getMessage=function(){return this._message},t.prototype.getDetails=function(){return this._details},e.ErrorInfo=t}(n),function(e){"use strict";function t(){this.debugLogging=!1}e.HeartbeatConfig=t}(n),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.HeartbeatDelegate=t}(n),function(e){"use strict";function t(){}t.prototype.configure=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.bootstrap=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.resolveData=function(e){throw new Error("Implementation error: Method must be overridden.")},e.plugin.IPlugin=t}(i),function(e){"use strict";function t(e,t,n,i){this.trigger=e,this.action=n,this.plugin=t,this._paramMappings={},this.mergeParams(i)}var n=e.plugin.ParamMapping;t.prototype.mergeParams=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this._paramMappings[n.getKeyName()]=n}},t.prototype.getParams=function(){var e=[];for(var t in this._paramMappings)this._paramMappings.hasOwnProperty(t)&&e.push(this._paramMappings[t]);return e},t.prototype.addParam=function(e){this._paramMappings[e.getKeyName()]=e},t.prototype.removeParam=function(e,t){var i=new n(e,t);this._paramMappings.hasOwnProperty(i.getKeyName())&&delete this._paramMappings[i.getKeyName()]},e.plugin.Behaviour=t}(i),function(e){"use strict";function t(e,t,i){this._pluginName=e,this._key=t,this._paramName=i||e+n.SEPARATOR+t}var n=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getKey=function(){return this._key},t.prototype.getKeyName=function(){return this._pluginName+n.SEPARATOR+this._key},t.prototype.getParamName=function(){return this._paramName},e.plugin.ParamMapping=t}(i),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._plugins={},this._behaviours={},this._radio=new i(this._logger),this._dataChannel=this._radio.channel(o),this._ctrlChannel=this._radio.channel(s)}var n=e.Event,i=e.radio.Radio,a=e.radio.Channel,r=e.plugin.Behaviour;t.ERROR="error",t.prototype.addPlugin=function(e){var t=e.getName();this._plugins[t]&&this._logger.warn(l,"#addPlugin > Replacing plugin: "+t),this._plugins[t]=e,e.bootstrap(this)},t.prototype.setupPlugins=function(){for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].setup()},t.prototype.pluginExists=function(e){return!!this._plugins[e]},t.prototype.isPluginInitialized=function(e){return this._plugins[e]&&this._plugins[e].isInitialized()},t.prototype.on=function(e,t,n,i){this._dataChannel.on(e+a.SEPARATOR+t,n,i)},t.prototype.off=function(e,t,n,i){var r=e&&t?e+a.SEPARATOR+t:null;this._dataChannel.off(r,n,i)},t.prototype.trigger=function(e){var t=e.name,n=this._behaviours[t];if(n){var i,a,r,o,s,l={},d={};for(i=0;i<n.length;i++)if(r=n[i],o=r.getParams())for(a=0;a<o.length;a++)s=o[a],l[s.getPluginName()]=l[s.getPluginName()]||[],s.key in l[s.getPluginName()]||l[s.getPluginName()].push(s.getKey());for(var c in l)l.hasOwnProperty(c)&&(d[c]=this.request(c,l[c]));for(i=0;i<n.length;i++){r=n[i];var u={_behaviour:r,_eventData:e.data||{}};if(o=r.getParams()){for(a=0;a<o.length;a++)s=o[a],u[s.getParamName()]=d[s.getPluginName()]?d[s.getPluginName()][s.getKey()]:null;this.command(r.plugin.getName(),r.action,u)}}}this._dataChannel.trigger(e)},t.prototype.request=function(e,t){var n=this._plugins[e];return n&&t&&0!=t.length?n.resolveData(t):null},t.prototype.raise=function(e){this._errorInfo=e;var i=new n(t.ERROR,e);this._ctrlChannel.trigger(i)},t.prototype.getErrorInfo=function(){return this._errorInfo},t.prototype.destroy=function(){this._radio.shutdown();for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].destroy()},t.prototype.comply=function(e,t,n){this._dataChannel.comply(e.getName()+a.SEPARATOR+t,n,e)},t.prototype.command=function(e,t,n){this._dataChannel.command(e+a.SEPARATOR+t,n)},t.prototype.registerBehaviour=function(e,t,n,i){var a=e.getName(),o=new r(e,t,n,i);this._behaviours[a]=this._behaviours[a]||[],this._behaviours[a].push(o)};var o="data_channel",s="ctrl_channel",l="plugin::PluginManager";e.plugin.PluginManager=t}(i),function(e,t){"use strict";function n(e){this._name=e,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new i}var i=e.Logger,a=e.Trigger,r=e.Event,o=t.ErrorInfo;n.INITIALIZED="initialized",n.prototype.configure=function(e){},n.prototype.bootstrap=function(e){this._pluginManager=e,this._isDestroyed&&this._pluginManager.raise(new o("Invalid state.","Plugin already destroyed."))},n.prototype.setup=function(){this._trigger(n.INITIALIZED),this._isInitialized=!0},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},n.prototype.enable=function(){this._isEnabled=!0,this._enabled()},n.prototype.disable=function(){this._isEnabled=!1,this._disabled()},n.prototype.getName=function(){return this._name},n.prototype.getLogger=function(){return this._logger},n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.resolveData=function(e){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,e);var t=null;if(e)for(var n=0;n<e.length;n++){var i=e[n];this._dataResolver.hasOwnProperty(i)&&(t=t||{},"function"==typeof this._dataResolver[i]?t[i]=this._dataResolver[i].call(this):t[i]=this._dataResolver[i])}return t},n.prototype.toString=function(){return"<plugin: "+this._name+">"},n.prototype._enabled=function(){},n.prototype._disabled=function(){},n.prototype._teardown=function(){},n.prototype._canProcess=function(){return this._isEnabled?this._isDestroyed?(this._logger.error(this._logTag,"Plugin destroyed."),!1):!0:(this._logger.error(this._logTag,"Plugin disabled."),!1)},n.prototype._trigger=function(e,t){var n=r.createFromTrigger(new a(this.getName(),e));n.data=t,this._pluginManager.trigger(n)},e.plugin.BasePlugin=n}(i,n),function(e){"use strict";function t(e,t,n){this.name=e,this.interval=t,this.isActive=!1,this.repeatCount="undefined"!=typeof n?n:a,this._nextTickTimestamp=0,this.reset()}function n(e,t){if(!e)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._timers={};var n=this;this._clock=window.setInterval(function(){n._onTick()},1e3*r)}t.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},t.prototype.shouldTick=function(){var e=(new Date).getTime();return e>this._nextTickTimestamp-r/2?(this.tick++,this._updateNextTickTimestamp(),!0):!1},t.prototype._updateNextTickTimestamp=function(){this._nextTickTimestamp=this._createdTimestamp+1e3*this.interval*(this.tick+1)},n.prototype.createTimer=function(e,n,i){this._timers[e]=new t(e,n,i)},n.prototype.destroyTimer=function(e){delete this._timers[e]},n.prototype.resumeTimer=function(e,t){t="undefined"!=typeof t?t:!1,this._logger.debug(i,"#resumeTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!0,t&&n.reset())},n.prototype.pauseTimer=function(e,t){t="undefined"!=typeof t?t:!1,this._logger.debug(i,"#pauseTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!1,t&&n.reset())},n.prototype.isTimerPaused=function(e){var t=this._timers[e];return t?!t.isActive:!1},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},n.prototype._onTick=function(){for(var e in this._timers)if(this._timers.hasOwnProperty(e)){var t=this._timers[e];t.isActive&&t.shouldTick()&&(t.interval>1&&this._logger.debug(i,"#_onTick() > "+t.name+"("+t.tick+" | "+t.repeatCount+")"),0!=t.repeatCount?(this._service.onTick(t.name,t.interval,t.tick),t.repeatCount!=a&&t.repeatCount--):this.destroyTimer(t.name))}};var i="service.clock::TimerManager",a=-1,r=.25;e.clock.TimerDescriptor=t,e.clock.TimerManager=n}(a),function(e,t,n){"use strict";function i(e){if(i.__super__.constructor.call(this,s),!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._timerManager=new a(this,this._logger),this._setupDataResolver()}var a=n.clock.TimerManager,r=t.StringUtils,o=e.plugin.BasePlugin;e.extend(i,o),i.prototype.bootstrap=function(e){i.__super__.bootstrap.call(this,e),this._pluginManager.comply(this,l,this._cmdCreate),this._pluginManager.comply(this,c,this._cmdResume),this._pluginManager.comply(this,d,this._cmdPause),this._pluginManager.comply(this,u,this._cmdDestroy)},i.prototype._teardown=function(){this._timerManager.destroy()},i.prototype._cmdCreate=function(e){var t=e[h]||m;this._timerManager.createTimer(e[_],e[p],t)},i.prototype._cmdPause=function(e){this._timerManager.pauseTimer(e[_],!!e[f])},i.prototype._cmdResume=function(e){this._timerManager.resumeTimer(e[_],!!e[f])},i.prototype._cmdDestroy=function(e){this._timerManager.destroyTimer(e[_])},i.prototype.onTick=function(e,t,n){e+=".tick";var i={};i[_]=e,i[p]=t,i[g]=n,this._trigger(e,i)},i.prototype._setupDataResolver=function(){var e={},t=this._timerManager;e[E]=function(e){return t.isTimerPaused(e)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,i=0;i<t.length;i++){var a=t[i];if(n=n||{},r.startsWith(a,E)){var o=a.split(E+".");o.length>0&&(n[a]=e[E].call(this,o[1]))}}return n}};var s="service.clock",l="create",d="pause",c="resume",u="destroy",_="name",p="interval",h="repeat_count",g="tick",f="reset",E="is_paused",m=-1;n.clock.ClockService=i}(i,t,a),function(e,t,n){"use strict";function i(e,t){if(this._logger=new a,this._pluginManager=new r(this._logger),this._pluginManager.addPlugin(new o(this._logger)),t)for(var n=0;n<t.length;n++)this._pluginManager.addPlugin(t[n]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var a=e.Logger,r=e.plugin.PluginManager,o=t.clock.ClockService;i.prototype.configure=function(e){if(!e)throw new Error("Configuration object cannot be NULL.");console.logLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(s,"Instance is destroyed.")},i.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var s="Heartbeat";n.Heartbeat=i}(i,a,n),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=i),e.ADB.va||(e.ADB.va=n),e.ADB.va.utils||(e.ADB.va.utils=t),e.ADB.va.plugins||(e.ADB.va.plugins={})}(this),!function(e){if("undefined"==typeof t)var t={};!function(e){"use strict";var t={};t.ASSET_TYPE_VOD="vod",t.ASSET_TYPE_LIVE="live",t.ASSET_TYPE_LINEAR="linear",e.AssetType=t}(t),function(e){"use strict";function t(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},e.AdBreakInfo=t}(t),function(e){"use strict";function t(){this.id=null,this.name=null,this.length=null,this.position=null}t.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position},e.AdInfo=t}(t),function(e){"use strict";function t(){this.name=null,this.length=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},e.ChapterInfo=t}(t),function(e){"use strict";function t(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}t.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},e.QoSInfo=t}(t),function(e){"use strict";function t(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.streamType=null,this.resumed=!1}t.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", streamType="+this.streamType+", resumed="+this.resumed},e.VideoInfo=t}(t),function(e){"use strict";function t(){this.debugLogging=!1}e.VideoPlayerPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getAdBreakInfo=function(){return null},t.prototype.getAdInfo=function(){return null},t.prototype.getChapterInfo=function(){return null},t.prototype.getQoSInfo=function(){return null},e.VideoPlayerPluginDelegate=t}(t),function(e,t){"use strict";function n(e){if(n.__super__.constructor.call(this,s),!e)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=e,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._isTrackingAd=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._setupDataResolver()}var i=e.plugin.ParamMapping,a=e.Trigger,r=e.plugin.BasePlugin,o=t.VideoPlayerPluginConfig;e.extend(n,r),n.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof o))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");console.logLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+console.logLogging+")")},n.prototype.bootstrap=function(e){n.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},n.prototype._cmdVideoIdleStart=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},n.prototype._cmdVideoIdleResume=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(h),this._trigger(g),e.isInChapter&&this._trigger(P),e.isInAd&&(this._trigger(A),this._isTrackingAd=!0)),this._videoIdle=!1},n.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(h),this._isTrackingSessionStarted=!0;var e=this._dataResolver(["video.resumed"]);e.hasOwnProperty("video.resumed")&&e["video.resumed"]&&this._trigger(g)}},n.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._trigger(_),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},n.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(p),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._videoIdle=!1}},n.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&(this._trigger(m),this._startPlayheadTimer())},n.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")){this._stopPlayheadTimer();var e={};e[M]=!1,this._trigger(T,e)}},n.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&(this._stopPlayheadTimer(),this._trigger(I))},n.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&(this._trigger(y),this._startPlayheadTimer())},n.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&(this._stopPlayheadTimer(),this._trigger(S))},n.prototype.trackSeekComplete=function(){if(this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")){this._trigger(C),this._startPlayheadTimer();var e=this._dataResolver(["ad.isInAd"]);this._isTrackingAd=e.hasOwnProperty("ad.isInAd")&&e["ad.isInAd"]}},n.prototype.trackComplete=function(e){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){var t={};t[L]=e,this._stopPlayheadTimer(),this._trigger(f,t)}},n.prototype.trackTimedMetadata=function(e){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(E,e)},n.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(P)},n.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(R)},n.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(A),this._isTrackingAd=!0)},n.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(v),this._isTrackingAd=!1)},n.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(D)},n.prototype.trackVideoPlayerError=function(e){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+e+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var t={};t[w]=u,t[k]=e,this._trigger(N,t)}},n.prototype.trackApplicationError=function(e){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+e+")"),this._startSessionIfNeeded("trackApplicationError")){var t={};t[w]=c,t[k]=e,this._trigger(N,t)}},n.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},n.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new a(d,b),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new a(d,O),this,"handleVideoIdleResume",[new i(l,"ad.isInAd","isInAd"),new i(l,"chapter.isInChapter","isInChapter")])},n.prototype._setupDataResolver=function(){function e(){return o.video?o.video:(o.video=s._delegate.getVideoInfo(),s._logger.info(s._logTag,"Data from delegate > VideoInfo: "+o.video),o.video)}function t(){return o.ad?o.ad:(o.ad=s._delegate.getAdInfo(),s._logger.info(s._logTag,"Data from delegate > AdInfo: "+o.ad),o.ad)}function n(){return o.pod?o.pod:(o.pod=s._delegate.getAdBreakInfo(),s._logger.info(s._logTag,"Data from delegate > AdBreakInfo: "+o.pod),o.pod)}function i(){return o.chapter?o.chapter:(o.chapter=s._delegate.getChapterInfo(),s._logger.info(s._logTag,"Data from delegate > ChapterInfo: "+o.chapter),o.chapter)}function a(){return o.qos?o.qos:(o.qos=s._delegate.getQoSInfo(),s._logger.info(s._logTag,"Data from delegate > QoSInfo: "+o.qos),o.qos)}var r={},o={},s=this;r["video.id"]=function(){var t=e(),n=t?t.id:null;return s._logger.debug(s._logTag,"Resolving video.id: "+n),n},r["video.name"]=function(){var t=e(),n=t?t.name:null;return s._logger.debug(s._logTag,"Resolving video.name: "+n),n},r["video.length"]=function(){var t=e(),n=t?t.length:NaN;return s._logger.debug(s._logTag,"Resolving video.length: "+n),n},r["video.playerName"]=function(){var t=e(),n=t?t.playerName:null;return s._logger.debug(s._logTag,"Resolving video.playerName: "+n),n},r["video.streamType"]=function(){var t=e(),n=t?t.streamType:null;return s._logger.debug(s._logTag,"Resolving video.streamType: "+n),n},r["video.playhead"]=function(){var t=e(),n=t?t.playhead:NaN;return s._logger.debug(s._logTag,"Resolving video.playhead: "+n),n},r["video.resumed"]=function(){var t=e(),n=t?t.resumed:!1;return s._logger.debug(s._logTag,"Resolving video.resumed: "+n),n},r["video.playheadStalled"]=function(){return this._playheadStalled},r["pod.name"]=function(){var e=n(),t=e?e.name:null;return s._logger.debug(s._logTag,"Resolving pod.name: "+t),t},r["pod.playerName"]=function(){var e=n(),t=e?e.playerName:null;return s._logger.debug(s._logTag,"Resolving pod.playerName: "+t),t},r["pod.position"]=function(){var e=n(),t=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving pod.position: "+t),t},r["pod.startTime"]=function(){var e=n(),t=e?e.startTime:NaN;return s._logger.debug(s._logTag,"Resolving pod.startTime: "+t),t},r["ad.isInAd"]=function(){var e=t(),n=null!=e;return s._logger.debug(s._logTag,"Resolving ad.isInAd: "+n),n},r["ad.isInAdBreak"]=function(){var e=n(),t=null!=e;return s._logger.debug(s._logTag,"Resolving ad.isInAdBreak: "+t),t},r["ad.id"]=function(){var e=t(),n=e?e.id:null;return s._logger.debug(s._logTag,"Resolving ad.id: "+n),n},r["ad.name"]=function(){var e=t(),n=e?e.name:null;return s._logger.debug(s._logTag,"Resolving ad.name: "+n),n},r["ad.length"]=function(){var e=t(),n=e?e.length:NaN;return s._logger.debug(s._logTag,"Resolving ad.length: "+n),n},r["ad.position"]=function(){var e=t(),n=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving ad.position: "+n),n},r["chapter.isInChapter"]=function(){var e=i(),t=null!=e;return s._logger.debug(s._logTag,"Resolving chapter.isInChapter: "+t),t},r["chapter.name"]=function(){var e=i(),t=e?e.name:null;return s._logger.debug(s._logTag,"Resolving chapter.name: "+t),t},r["chapter.length"]=function(){var e=i(),t=e?e.length:NaN;return s._logger.debug(s._logTag,"Resolving chapter.length: "+t),t},r["chapter.position"]=function(){var e=i(),t=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving chapter.position: "+t),t},r["chapter.startTime"]=function(){var e=i(),t=e?e.startTime:NaN;return s._logger.debug(s._logTag,"Resolving chapter.startTime: "+t),t},r["qos.bitrate"]=function(){var e=a(),t=e?e.bitrate:NaN;return s._logger.debug(s._logTag,"Resolving qos.bitrate: "+t),t},r["qos.fps"]=function(){var e=a(),t=e?e.fps:NaN;return s._logger.debug(s._logTag,"Resolving qos.fps: "+t),t},r["qos.droppedFrames"]=function(){var e=a(),t=e?e.droppedFrames:NaN;return s._logger.debug(s._logTag,"Resolving qos.droppedFrames: "+t),t},r["qos.startupTime"]=function(){var e=a(),t=e?1e3*e.startupTime:NaN;return s._logger.debug(s._logTag,"Resolving qos.startupTime: "+t),t},this._dataResolver=function(e){if(!e||0==e.length)return null;o={};for(var t=null,n=0;n<e.length;n++){var i=e[n];t=t||{},t[i]=r.hasOwnProperty(i)?r[i].call(this):null}return t}},n.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(T)))},n.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,this._playheadStalled&&(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this.trackPlay()))},n.prototype._startPlayheadTimer=function(){var e=this;this._playheadTimer||(this._playheadTimer=setInterval(function(){if(e._canProcess()){var t=e._dataResolver(["ad.isInAd","video.playhead"]);if(e._isTrackingAd)e._playheadStalled&&e._trackExitStall(),t.hasOwnProperty("ad.isInAd")&&!t["ad.isInAd"]&&(e._isTrackingAd=!1);else{var n=t["video.playhead"];n!=e._previousPlayhead?e._trackExitStall():e._previousPlayhead>=0&&n==e._previousPlayhead&&(e._stalledPlayheadCount++,e._stalledPlayheadCount==U&&e._trackPlayheadStall()),e._previousPlayhead=n}}},V))},n.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},n.prototype._startSessionIfNeeded=function(e){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+e+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+e+"() > No active tracking session."),!1)};var s="player",l=s,d="adobe-heartbeat",c="sourceErrorExternal",u="sourceErrorSDK",_="video_load",p="video_unload",h="video_start",g="video_resume",f="video_complete",E="timed_metadata",m="play",T="pause",A="ad_start",v="ad_complete",I="buffer_start",y="buffer_complete",S="seek_start",C="seek_complete",P="chapter_start",R="chapter_complete",D="bitrate_change",N="track_error",b="video_idle_start",O="video_idle_resume",L="callback",M="filter_report",w="source",k="error_id",V=1001,U=2;t.VideoPlayerPlugin=n}(e.ADB.core,t),e.ADB.va.plugins.videoplayer||(e.ADB.va.plugins.videoplayer=t);
}(this),!function(e){if("undefined"==typeof t)var t={};t.clock||(t.clock={}),t.context||(t.context={}),t.filter||(t.filter={}),t.model||(t.model={}),t.network||(t.network={}),function(e,t){"use strict";function n(e,t,n,i,a){if(!t)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=t,!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=e,!a)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+n,this._logger=a,this._isDestroyed=!1,this._createTimer(n,i),this._installHandlers()}var i=e.Event;n.KEY_NAME="name",n.KEY_INTERVAL="interval",n.KEY_RESET="reset",n.prototype.resume=function(e){this._logger.debug(this._logTag,"Starting timer: "+this._name);var t={};t[n.KEY_NAME]=a+"."+this._name,t[n.KEY_RESET]=e,this._pluginManager.command(r,l,t)},n.prototype.pause=function(e){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var t={};t[n.KEY_NAME]=a+"."+this._name,t[n.KEY_RESET]=e,this._pluginManager.command(r,s,t)},n.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var e={};e[n.KEY_NAME]=a+"."+this._name,this._pluginManager.command(r,d,e)}},n.prototype.setInterval=function(e){var t=c+"."+a+"."+this._name,n=this._pluginManager.request(r,[t])[t];this.pause(!0),this._createTimer(this._name,e),n||this.resume(!0)},n.prototype._cmdResume=function(e){var t=!1;null!=e&&e.hasOwnProperty(n.KEY_RESET)&&(t=e[n.KEY_RESET]),this.resume(t)},n.prototype._cmdPause=function(e){var t=!1;null!=e&&e.hasOwnProperty(n.KEY_RESET)&&(t=e[n.KEY_RESET]),this.pause(t)},n.prototype._onTick=function(e,t){this._channel.trigger(new i("clock:"+this._name+".tick",t))},n.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(r,a+"."+this._name+".tick",this._onTick,this)},n.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},n.prototype._createTimer=function(e,t){this._name=e,this._interval=t;var i={};i[n.KEY_NAME]=a+"."+this._name,i[n.KEY_INTERVAL]=this._interval,this._pluginManager.command(r,o,i)};var a="heartbeat",r="service.clock",o="create",s="pause",l="resume",d="destroy",c="is_paused";t.clock.Timer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,r,s,i)}var i=e.Event,a=t.clock.Timer;e.extend(n,a),n.prototype._onCheckStatusComplete=function(e){var t=e.data[u];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");t>o?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+t),this.setInterval(o)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(s)},n.prototype._getSettings=function(e){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new i(l))},n.prototype._installHandlers=function(){n.__super__._installHandlers.call(this),this._channel.on(d,this._getSettings,this),this._channel.on(c,this._onCheckStatusComplete,this),this._channel.reply(u,function(){return this._interval},this)};var r="check_status",o=600,s=60,l="clock:check_status.tick",d="clock:check_status.get_settings",c="net:check_status_complete",u="check_status_interval";t.clock.CheckStatusTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,a,r,i)}var i=t.clock.Timer;e.extend(n,i),n.prototype._onCheckStatusComplete=function(e){var t=e.data[o];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(r)},n.prototype._installHandlers=function(){n.__super__._installHandlers.call(this),this._channel.on(s,this._onCheckStatusComplete,this),this._channel.reply(o,function(){return this._interval},this)};var a="reporting",r=10,o="reporting_interval",s="net:check_status_complete";t.clock.ReportingTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,a,r,i)}var i=t.clock.Timer;e.extend(n,i);var a="idle",r=1800;t.clock.IdleTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,a,r,i)}var i=t.clock.Timer;e.extend(n,i);var a="flush_filter",r=.25;t.clock.FlushFilterTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,n){if(!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(!t)throw new Error("Reference to the channel object cannot be NULL");if(!n)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new r(e,t,n),this._checkStatusTimer=new i(e,t,n),this._flushFilterTimer=new a(e,t,n),this._idleTimer=new o(e,t,n)}var i=t.clock.CheckStatusTimer,a=t.clock.FlushFilterTimer,r=t.clock.ReportingTimer,o=t.clock.IdleTimer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},t.clock.Clock=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){this.value=e,this.hint=t}function i(e){this.realm=e,this.data={}}n.HINT_SHORT="short",i.prototype.setField=function(e,t,i){this.data[e]=new n(t,i)},i.prototype._createAccessor=function(e,t,n){var i=this;return function(){return arguments.length&&(i[e]=arguments[0],i.setField(t,arguments[0],n)),i[e]}},t.model.Dao=i,t.model.DaoField=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.adId(e.adId()),this.sid(e.sid()),this.resolver(e.resolver()),this.podId(e.podId()),this.podPosition(e.podPosition()),this.podOffset(e.podOffset()),this.podName(e.podName()),this.adLength(e.adLength()),this.adName(e.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var i=t.model.Dao;e.extend(n,i),t.model.AdDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",a.HINT_SHORT),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.reportSuiteId(e.reportSuiteId()),this.trackingServer(e.trackingServer()),this.ssl(e.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var i=t.model.Dao,a=t.model.DaoField;e.extend(n,i),t.model.AdobeAnalyticsDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.id(e.id()),this.sid(e.sid()),this.name(e.name()),this.position(e.position()),this.length(e.length()),this.offset(e.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var i=t.model.Dao;e.extend(n,i),t.model.ChapterDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type()),this.name(e.name()),this.videoId(e.videoId()),this.publisher(e.publisher()),this.length(e.length());var t=e.adData()?new a(e.adData()):null;this.adData(t);var i=e.chapterData()?new r(e.chapterData()):null;this.chapterData(i)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var i=t.model.Dao,a=t.model.AdDao,r=t.model.ChapterDao;e.extend(n,i),n.TYPE_AD="ad",n.TYPE_MAIN_CONTENT="main",t.model.AssetDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type()),this.duration(e.duration()),this.playhead(e.playhead()),this.id(e.id()),this.source(e.source()),this.ts(e.ts()),this.prevTs(e.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var i=t.model.Dao;e.extend(n,i),n.EVENT_TYPE_AA_START="aa_start",n.EVENT_TYPE_AA_AD_START="aa_ad_start",n.EVENT_TYPE_START="start",n.EVENT_TYPE_RESUME="resume",n.EVENT_TYPE_CHAPTER_START="chapter_start",n.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",n.EVENT_TYPE_PLAY="play",n.EVENT_TYPE_PAUSE="pause",n.EVENT_TYPE_STALL="stall",n.EVENT_TYPE_BUFFER="buffer",n.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",n.EVENT_TYPE_ERROR="error",n.EVENT_TYPE_COMPLETE="complete",t.model.EventDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.bitrate(e.bitrate()),this.fps(e.fps()),this.droppedFrames(e.droppedFrames()),this.startupTime(e.startupTime()),this.isStartupTimeOverridden=e.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var i=t.model.Dao;e.extend(n,i),t.model.QoSDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.ovp(e.ovp()),this.sdk(e.sdk()),this.channel(e.channel()),this.playerName(e.playerName()),this.libVersion(e.libVersion()),this.apiLevel(e.apiLevel())}else this.ovp(a),this.sdk(a),this.channel(a),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var i=t.model.Dao;e.extend(n,i);var a="unknown";t.model.ServiceProviderDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.sessionId(e.sessionId())}else this.sessionId(null)}var i=t.model.Dao;e.extend(n,i),t.model.SessionDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type())}else this.type(null)}var i=t.model.Dao;e.extend(n,i),t.model.StreamDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.analyticsVisitorId(e.analyticsVisitorId()),this.marketingCloudVisitorId(e.marketingCloudVisitorId()),this.visitorId(e.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var i=t.model.Dao;e.extend(n,i),t.model.UserDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.audienceManagerBlob(e.audienceManagerBlob()),this.audienceManagerLocationHint(e.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var i=t.model.Dao;e.extend(n,i),t.model.AudienceManagerDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,n,l,d){this.eventData=new a,this.eventData.type(t),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(n),this.assetData=new r(e._assetData),this.streamData=new o(e._streamData),this.qosData=new s(e._qosData),this.cuserData=i.clone(e._cuserData),this.meta=l,this.callback=d,this.filterReport=!0}var i=e.ObjectUtils,a=t.model.EventDao,r=t.model.AssetDao,o=t.model.StreamDao,s=t.model.QoSDao;t.model.TrackItem=n}(e.ADB.va.utils,t),function(e,t){"use strict";function n(e,t,n,l,d,c){this.adobeAnalyticsData=e,this.userData=t,this.aamData=n,this.serviceProviderData=l,this.sessionData=d,this.eventData=new a(c.eventData),this.assetData=new r(c.assetData),this.streamData=new o(c.streamData),this.qosData=new s(c.qosData),this.cuserData=i.clone(c.cuserData),this.meta=i.clone(c.meta),this.callback=c.callback,this.filterReport=c.filterReport}var i=e.ObjectUtils,a=t.model.EventDao,r=t.model.AssetDao,o=t.model.StreamDao,s=t.model.QoSDao;t.model.CUserDao,t.model.Report=n}(e.ADB.va.utils,t),function(e){"use strict";function t(){}t.prototype.serializeReport=function(e){},t.prototype.serializeDao=function(e){},t.prototype.serializeMap=function(e){},t.prototype.serializeNumber=function(e,t,n,i){},t.prototype.serializeString=function(e,t,n,i){},e.model.ISerializer=t}(t),function(e,t){"use strict";function n(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e}var i=t.model.Dao,a=t.model.DaoField,r=t.model.ISerializer;e.extend(n,r),n.prototype.serializeReport=function(e){var t=[];return t.push(this.serializeDao(e.adobeAnalyticsData)),t.push(this.serializeDao(e.userData)),t.push(this.serializeDao(e.aamData)),t.push(this.serializeMap(e.cuserData,"cuser")),t.push(this.serializeDao(e.serviceProviderData)),t.push(this.serializeDao(e.sessionData)),t.push(this.serializeDao(e.eventData)),t.push(this.serializeDao(e.assetData)),t.push(this.serializeDao(e.streamData)),t.push(this.serializeDao(e.qosData)),t.push(this.serializeMap(e.meta,"meta")),{serializedOutput:t.filter(function(e){return!!e}).join("&"),callback:e.callback}},n.prototype.serializeDao=function(e){var t=this._processDao(e);return t.filter(function(e){return!!e}).join("&")},n.prototype.serializeMap=function(e,t){var n=[],i=t?t:"meta";for(var a in e)e.hasOwnProperty(a)&&e[a]&&n.push("s:"+i+":"+a+"="+window.encodeURIComponent(e[a]));return n.join("&")},n.prototype.serializeNumber=function(e,t,n,i){var r=s;return null==t||isNaN(t)?null:(i===a.HINT_SHORT&&(r=l),r+":"+n+":"+e+"="+Math.floor(t))},n.prototype.serializeString=function(e,t,n,i){return t?d+":"+n+":"+e+"="+window.encodeURIComponent(t):null},n.prototype._processDao=function(e){var t=[];for(var n in e.data)if(e.data.hasOwnProperty(n)){var a=e.data[n],r=a.value,s=a.hint,l=null,d=e.realm;if(null==r)continue;"number"==typeof r?l=this.serializeNumber(n,r,d,s):"string"==typeof r?l=this.serializeString(n,r,d,s):r instanceof i?l=this.serializeDao(r):this._logger.warn(o,"#_processDao() > Unable to serialize DAO. Field: "+n+". Value: "+r+"."),l&&t.push(l)}return t};var o="ah::QuerystringSerializer",s="l",l="h",d="s";t.model.QuerystringSerializer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(!e)throw new Error("Reference to the data object cannot be NULL");if(this._data=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t}n.prototype.parse=function(){var e,t,n,l,d;if(window.DOMParser){var c=new window.DOMParser;d=c.parseFromString(this._data,"text/xml")}else d=new window.ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(this.data);var u;u=parseInt(d.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10),u&&(e=u),u=parseInt(d.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10),u&&(t=u),u=parseInt(d.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10),u&&(n=1==u),d.getElementsByTagName("nielsenEnabled")[0]?(u=parseInt(d.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10),l=1==u):l=!0;var _={};return _[a]=e,_[r]=t,_[o]=n,_[s]=l,this._logger.debug(i,"#parse() > Obtained configuration settings."),_};var i="ah::SettingsParser",a="reporting_interval",r="check_status_interval",o="track_external_errors",s="nielsen_enabled";t.network.SettingsParser=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._serializer=new l(t),this._installEventListeners()}var i=e.Event,a=e.URLRequestMethod,r=e.URLRequest,o=e.URLLoader,s=t.network.SettingsParser,l=t.model.QuerystringSerializer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(d,"#destroy()"),this._uninstallEventListeners())},n.prototype._onApiConfig=function(e){var t=e.data;this._logger.debug(d,"#_onApiConfig(sb_server="+t[c]+", check_status_server="+t[u]+", publisher="+t[_]+", quiet_mode="+t[p]+", ssl="+t[h]+")"),this._trackingServer=this._updateRequestProtocol(t[c],t[h]),this._checkStatusServer=this._updateRequestProtocol(t[u],t[h]),this._publisher=t[_],this._quietMode=t[p],this._isConfigured=!0},n.prototype._onUpdateVisitorOptOut=function(e){var t=e.data;this._logger.debug(d,"#_onUpdateVisitorOptOut(visitor_opt_out="+t[f]+")"),this._visitorOptedOut=t[f]},n.prototype._onFilterReportAvailable=function(e){var t=e.data;if(!this._isConfigured)return void this._logger.warn(d,"#_onFilterReportAvailable() > Unable to send request: not configured.");var n=t[g],s=this._serializer.serializeReport(n),l=this._trackingServer+"/?"+s.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&n.eventData&&this._prevReportSent.eventData.playhead==n.eventData.playhead&&this._prevReportSent.eventData.ts==n.eventData.ts&&this._prevReportSent.eventData.prevTs==n.eventData.prevTs&&this._prevReportSent.eventData.type==n.eventData.type)return void this._logger.debug(d,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\n"+l);this._prevReportSent=n;var c=new r(l,a.GET);this._logger.debug(d,"#_onFilterReportAvailable() > "+c.url);var u=this,_=function(e){h.close(),s.callback&&s.callback.call(null)},p=function(e){h.close(),u._logger.warn(d,"#_onFilterReportAvailable() > Failed to send heartbeat report."),s.callback&&s.callback.call(null)};if(!this._quietMode&&!this._visitorOptedOut){var h=new o;h.addEventListener(i.SUCCESS,_,this),h.addEventListener(i.ERROR,p,this),h.load(c)}},n.prototype._onClockCheckStatusTick=function(e){function t(e){if(e.data){var t=new s(e.data.response,l._logger),n=t.parse();n?l._channel.trigger(new i(v,n)):l._logger.warn(d,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}p.close()}function n(e){l._logger.warn(d,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),p.close()}if(!this._isConfigured)return void this._logger.warn(d,"#_onClockCheckStatusTick() > Unable to send request: not configured.");if(!this._publisher)return void this._logger.warn(d,"#_onClockCheckStatusTick() > Publisher is NULL.");var l=this,c=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),u=this._checkStatusServer+c+".xml?r="+(new Date).getTime(),_=new r(u,a.GET),p=new o;p.addEventListener(i.SUCCESS,t,this),p.addEventListener(i.ERROR,n,this),this._logger.debug(d,"#_onClockCheckStatusTick() > Get new settings from: "+u),p.load(_)},n.prototype._updateRequestProtocol=function(e,t){var n=e;return 0===n.indexOf("http://")?n=n.slice(7):0===n.indexOf("https://")&&(n=n.slice(8)),t?"https://"+n:"http://"+n},n.prototype._installEventListeners=function(){this._channel.on(E,this._onApiConfig,this),this._channel.on(m,this._onUpdateVisitorOptOut,this),this._channel.on(T,this._onFilterReportAvailable,this),this._channel.on(A,this._onClockCheckStatusTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var d="ah::Network",c="tracking_server",u="check_status_server",_="publisher",p="quiet_mode",h="ssl",g="report",f="visitor_opt_out",E="api:config",m="api:update_visitor_optout",T="filter:data_available",A="clock:check_status.tick",v="net:check_status_complete";t.network.Network=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new l,this._installEventListeners()}function i(e){var t=[];return e&&e.forEach(function(e){e.eventData.type()==c.EVENT_TYPE_PAUSE||e.eventData.type()==c.EVENT_TYPE_STALL?(!e.filterReport||e.eventData.duration()>A)&&t.push(e):t.push(e)}),t}function a(e){var t=-1,n=-1,i=[];return e.forEach(function(e){e.eventData.type()==c.EVENT_TYPE_START?e.assetData.type()==u.TYPE_MAIN_CONTENT?-1==t?t=i.push(e)-1:(e.eventData.prevTs(-1),i[t]=e):-1==n?n=i.push(e)-1:(e.eventData.prevTs(-1),i[n]=e):i.push(e)}),i}function r(e){var t=[];return e.forEach(function(n){if(n.eventData.type()==c.EVENT_TYPE_PLAY){if(n.eventData.duration()>T)t.push(n);else if(0==n.eventData.duration()&&n.assetData.type()==u.TYPE_MAIN_CONTENT){var i=o(e);i.indexOf(n)==i.length-1&&t.push(n)}}else t.push(n)}),t}function o(e){var t=[];return e.forEach(function(e){(e.eventData.type()==c.EVENT_TYPE_PLAY||e.eventData.type()==c.EVENT_TYPE_BUFFER||e.eventData.type()==c.EVENT_TYPE_START)&&t.push(e)}),t}var s=e.radio.Command,l=e.radio.CommandQueue,d=e.Event,c=t.model.EventDao,u=t.model.AssetDao;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(I,"#destroy()"),this._uninstallEventListeners(),this.clear())},n.prototype.clear=function(){this._logger.debug(I,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},n.prototype.flush=function(){this._workQueue.addCommand(new s(this._flushBufferReport,this))},n.prototype._bufferReport=function(e){if(!this._isDestroyed){var t=e[f];if(t){var n=t.sessionData.sessionId();this._reportBuffer[n]=this._reportBuffer[n]||[],this._reportBuffer[n].push(t)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var i={};i[g]=!0,i[E]=1,this._channel.command(m,i)}}},n.prototype._flushBufferReport=function(){function e(e){if(e)for(var n=0;n<e.length;n++){var i=e[n],a=i.sessionData.sessionId();t._tsHistory[a]=t._tsHistory[a]||{};var r=i.eventData.type()+"."+(i.assetData.type()==u.TYPE_AD?i.assetData.adData().adId():i.assetData.videoId());t._tsHistory[a].hasOwnProperty(r)&&i.eventData.prevTs(t._tsHistory[a][r]),t._tsHistory[a][r]=i.eventData.ts()}}if(!this._isDestroyed){var t=this;for(var n in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(n)){var o=r(a(i(this._reportBuffer[n])));e(o);for(var s=0;s<o.length;s++){var l=o[s],c={};c[f]=l,this._channel.trigger(new d(p,c))}}this._reportBuffer={};var _=this._channel.request(v),h=this._tsHistory[_]||{};this._tsHistory={},this._tsHistory[_]=h,this._isBufferingInProgress=!1}},n.prototype._onContextReportAvailable=function(e){var t=e.data;this._workQueue.addCommand(new s(this._bufferReport,this,[t]))},n.prototype._onClockFlushFilterTick=function(e){this.flush()},n.prototype._installEventListeners=function(){this._channel.on(_,this._onContextReportAvailable,this),this._channel.on(h,this._onClockFlushFilterTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var _="context:report_available",p="filter:data_available",h="clock:flush_filter.tick",g="reset",f="report",E="repeat_count",m="clock:flush_filter.resume",T=250,A=250,v="session_id",I="ah::ReportFilter";t.filter.ReportFilter=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var i=e.ErrorInfo;n.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var n=0;n<t.length;n++){var i=t[n];switch(i){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!e.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof e.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(e.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!e.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===e.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!e.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!e.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof e.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(e.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!e.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof e.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(e.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!e.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof e.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(e.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+i)}}return!0},n.prototype._fail=function(e){var t=new i("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.context.InputDataValidator=n}(e.ADB.va,t),function(e,t){"use strict";function n(e,t){if(!t)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=t,!e)throw new Error("Reference to the context object cannot be NULL");this._context=e;
}var i=t.model.Report;n.prototype.createReportForItem=function(e){return this._logger.debug(a,"Creating report for item: "+e.eventData.type()),new i(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,e)};var a="ah::ReportFactory";t.context.ReportFactory=n}(e.ADB.core,t),function(e,t,n,i){"use strict";function a(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._lastInBandItem=null,this._autoComputedStartupTime=0,this._reportingInterval=re,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new d,this._serviceProviderData=new c,this._userData=new u,this._aamData=new _,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._activeAssetId=null,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new A(this,this._logger),this._inputDataValidator=new v(function(e){this._logger.error(I,e.getMessage()+" | "+e.getDetails()),this._channel.trigger(new s(S,e))},this),this._stashedChapterData=null,this._stashedAdData=null,this._trackExternalErrors=!0,this._installEventListeners()}var r=n.md5,o=n.ObjectUtils,s=e.Event,l=i.model.SessionDao,d=i.model.AdobeAnalyticsDao,c=i.model.ServiceProviderDao,u=i.model.UserDao,_=i.model.AudienceManagerDao,p=i.model.EventDao,h=i.model.AssetDao,g=i.model.StreamDao,f=i.model.QoSDao,E=i.model.AdDao,m=i.model.ChapterDao,T=i.model.TrackItem,A=i.context.ReportFactory,v=i.context.InputDataValidator;a.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(I,"#destroy()"),this._uninstallEventListeners())},a.prototype._onApiAnalyticsStart=function(e){this._logger.debug(I,"#_onApiAnalyticsStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._userData.visitorId(t.vid),this._userData.analyticsVisitorId(t.aid),this._userData.marketingCloudVisitorId(t.mid),this._aamData.audienceManagerBlob(t.blob),this._aamData.audienceManagerLocationHint(t.loc_hint),t.customerIDs&&(this._cuserData=t.customerIDs),this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_AA_START,t.playhead,null,t._eventData[b]);n.assetData.adData(null),n.assetData.type(h.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(n)}},a.prototype._onApiAnalyticsAdStart=function(e){this._logger.debug(I,"#_onApiAnalyticsAdStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_AA_AD_START,t.playhead,null,t._eventData[b]);this._sendHit(n)}},a.prototype._onApiVideoLoad=function(e){var t=e.data;this._logger.debug(I,"#_onApiVideoLoad(rsid="+t.rsid+", aa_trackingServer="+t.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(t,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},a.prototype._onApiVideoUnload=function(e){return this._logger.debug(I,"#_onApiVideoUnload()"),this._isTrackingSessionActive?void(this._isTrackingSessionActive=!1):void this._logger.debug(I,"#_onApiVideoUnload() > No active tracking session.")},a.prototype._onApiVideoStart=function(e){var t=e.data;if(this._logger.debug(I,"#_onApiVideoStart(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._adobeAnalyticsData.reportSuiteId(t.rsid),this._adobeAnalyticsData.trackingServer(t.trackingServer),this._adobeAnalyticsData.ssl(Number(t.useSsl)),this._serviceProviderData.ovp(t.ovp),this._serviceProviderData.sdk(t.sdk),this._serviceProviderData.channel(t.channel),this._serviceProviderData.libVersion(t.version),this._serviceProviderData.apiLevel(t.apiLvl),this._activeAssetId=t.videoId,this._serviceProviderData.playerName(t.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.length(t.videoLength),this._assetData.type(h.TYPE_MAIN_CONTENT),this._assetData.publisher(t.publisher),this._assetData.name(t.videoName),this._streamData.type(t.streamType),this._updateQoSInfo(t);var n=t.metaNielsen?o.merge(t.metaVideo,t.metaNielsen):t.metaVideo,i=new T(this,p.EVENT_TYPE_START,t.playhead,n,t._eventData[b]);this._sendHit(i)}},a.prototype._onApiVideoResume=function(e){var t=e.data;if(this._logger.debug(I,"#_onApiVideoResume(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._activeAssetId=t.videoId,this._assetData.videoId(this._activeAssetId),this._assetData.length(t.videoLength),this._assetData.type(h.TYPE_MAIN_CONTENT),this._assetData.name(t.videoName),this._streamData.type(t.streamType);var n=new T(this,p.EVENT_TYPE_RESUME,t.playhead,null,t._eventData[b]);this._sendHit(n)}},a.prototype._onApiVideoComplete=function(e){this._logger.debug(I,"#_onApiVideoComplete()");var t=e.data;if(this._checkCall("_onApiVideoComplete")){var n=new T(this,p.EVENT_TYPE_COMPLETE,this._assetData.length(),null,t._eventData[b]);this._sendHit(n),this._isVideoComplete=!0}},a.prototype._onApiPlay=function(e){this._logger.debug(I,"#_onApiPlay()");var t=e.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_PLAY,t.playhead,null,t._eventData[b]);this._sendHit(n)}},a.prototype._onApiPause=function(e){this._logger.debug(I,"#_onApiPause()");var t=e.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=t.playheadStalled?p.EVENT_TYPE_STALL:p.EVENT_TYPE_PAUSE,i=new T(this,n,t.playhead,null,t._eventData[b]);t._eventData.hasOwnProperty(O)&&(i.filterReport=t._eventData[O]),this._sendHit(i)}},a.prototype._onApiBufferStart=function(e){this._logger.debug(I,"#_onApiBufferStart()");var t=e.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_BUFFER,t.playhead,null,t._eventData[b]);this._sendHit(n)}},a.prototype._onApiSeekStart=function(e){this._logger.debug(I,"#_onApiSeekStart()"),this._checkCall("_onApiSeekStart")&&(this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(h.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},a.prototype._onApiSeekComplete=function(e){this._logger.debug(I,"#_onApiSeekComplete()");var t=e.data;if(this._checkCall("_onApiSeekComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(t.isInAd){if(!this._inputDataValidator.validateFields(t,["adId","adPosition","podPosition","podPlayerName"]))return;var n=r(this._assetData.videoId())+"_"+t.podPosition;if(this._stashedAdData&&this._stashedAdData.podId()==n&&parseInt(this._stashedAdData.podPosition(),10)==t.adPosition)this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId();else if(!this._assetData.adData()){this._activeAssetId=t.adId;var i=new E;i.adId(this._activeAssetId),i.adName(t.adName),i.adLength(t.adLength),i.podId(n),i.resolver(t.podPlayerName),i.podPosition(t.podPosition+""),i.podName(t.podName),i.podOffset(t.podSecond),i.sid(this._generateSessionId()),this._assetData.adData(i)}this._assetData.type(h.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(h.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId();if(t.isInChapter){if(!this._inputDataValidator.validateFields(t,["chapterPosition","chapterLength","chapterOffset"]))return;if(this._stashedChapterData&&t.chapterPosition==this._stashedChapterData.position())this._assetData.chapterData(this._stashedChapterData);else if(!this._assetData.chapterData()){var a=new m;a.id(r(this._assetData.videoId())+"_"+t.chapterPosition),a.name(t.chapterName),a.length(t.chapterLength),a.position(t.chapterPosition),a.offset(t.chapterOffset),a.sid(this._generateSessionId()),this._assetData.chapterData(a)}}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}},a.prototype._onApiAdStart=function(e){var t=e.data;if(this._logger.debug(I,"#_onApiAdStart(id="+t.adId+", player_name="+t.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+t.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(t,["playhead","podPosition","podPlayerName","adId","adPosition"])){this._activeAssetId=t.adId;var n=new E;n.adId(this._activeAssetId),n.adName(t.adName),n.adLength(t.adLength),n.resolver(t.podPlayerName),n.podId(r(this._assetData.videoId())+"_"+t.podPosition),n.podPosition(t.adPosition+""),n.podName(t.podName),n.podOffset(t.podSecond),n.sid(this._generateSessionId()),this._assetData.adData(n),this._assetData.type(h.TYPE_AD),this._updateQoSInfo(t);var i=o.merge(t.metaVideo,t.metaAd);i=t.metaNielsen?o.merge(i,t.metaNielsen):i;var a=new T(this,p.EVENT_TYPE_START,t.playhead,i,t._eventData[b]);this._sendHit(a)}},a.prototype._onApiAdComplete=function(e){this._logger.debug(I,"#_onApiAdComplete()");var t=e.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(this._assetData.type()!=h.TYPE_AD)return void this._logger.warn(I,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_COMPLETE,t.playhead,null,t._eventData[b]);this._sendHit(n),this._assetData.adData(null),this._assetData.type(h.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId()}},a.prototype._onApiChapterStart=function(e){var t=e.data;if(this._logger.debug(I,"#_onApiChapterStart(name="+t.chapterName+", length="+t.chapterLength+", position="+t.chapterPosition+", chapter_offset="+t.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(t,["playhead","chapterPosition","chapterOffset","chapterLength"])){var n=new m;n.id(r(this._assetData.videoId())+"_"+t.chapterPosition),n.name(t.chapterName),n.length(t.chapterLength),n.position(t.chapterPosition),n.offset(t.chapterOffset),n.sid(this._generateSessionId()),this._assetData.chapterData(n),this._updateQoSInfo(t);var i=o.merge(t.metaVideo,t.metaChapter),a=new T(this,p.EVENT_TYPE_CHAPTER_START,t.playhead,i,t._eventData[b]);a.assetData.adData(null),a.assetData.type(h.TYPE_MAIN_CONTENT),this._sendHit(a)}},a.prototype._onApiChapterComplete=function(e){this._logger.debug(I,"#_onApiChapterComplete()");var t=e.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(I,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_CHAPTER_COMPLETE,t.playhead,null,t._eventData[b]);n.assetData.adData(null),n.assetData.type(h.TYPE_MAIN_CONTENT),this._sendHit(n),this._assetData.chapterData(null)}},a.prototype._onApiBitrateChange=function(e){this._logger.debug(I,"#_onApiBitrateChange()");var t=e.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_BITRATE_CHANGE,t.playhead,null,t._eventData[b]);this._sendHit(n)}},a.prototype._onApiTrackError=function(e){var t=e.data;if(this._logger.debug(I,"#_onApiTrackError(source="+t._eventData.source+", err_id="+t._eventData.error_id+")"),!this._isTrackingSessionActive)return void this._logger.warn(I,"#_onApiTrackError() > No active tracking session.");if(this._trackExternalErrors||t._eventData.source===y){this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_ERROR,0,null,t._eventData[b]);n.eventData.id(t._eventData.error_id),n.eventData.source(t._eventData.source),this._sendHit(n)}},a.prototype._onApiTrackInternalError=function(e){var t=e.data;this._logger.debug(I,"#_onApiTrackInternalError(source="+t.source+", err_id="+t.error_id+")"),this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_ERROR,0);n.eventData.id(t.error_id),n.eventData.source(t.source),this._sendHit(n)},a.prototype._onApiQuantumEnd=function(e){this._logger.debug(I,"#_onApiQuantumEnd(interval="+this._channel.request(R)+")");var t=e.data;this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(t,["playhead"])&&(this._lastInBandItem&&(this._lastInBandItem.eventData.playhead(t.playhead),this._updateQoSInfo(t),this._lastInBandItem.qosData.bitrate(this._qosData.bitrate()),this._lastInBandItem.qosData.fps(this._qosData.fps()),this._lastInBandItem.qosData.droppedFrames(this._qosData.droppedFrames()),this._lastInBandItem.qosData.startupTime(this._qosData.startupTime())),this._sendHit(this._lastInBandItem))},a.prototype._onNetworkCheckStatusComplete=function(e){var t=e.data;this._trackExternalErrors=t[w],this._reportingInterval=t[k],this._reportingInterval||(this._reportingInterval=re),this._logger.debug(I,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},a.prototype._onResetSessionId=function(e){var t=this._generateSessionId();this._sessionData=new l,this._sessionData.sessionId(t),this._logger.debug(I,"#_resetSessionId(new sessionId="+t+")")},a.prototype._installEventListeners=function(){this._channel.on(V,this._onApiAnalyticsStart,this),this._channel.on(U,this._onApiAnalyticsAdStart,this),this._channel.on(x,this._onApiVideoLoad,this),this._channel.on(F,this._onApiVideoUnload,this),this._channel.on(B,this._onApiVideoStart,this),this._channel.on(Y,this._onApiVideoComplete,this),this._channel.on(H,this._onApiVideoResume,this),this._channel.on(G,this._onApiAdStart,this),this._channel.on(K,this._onApiAdComplete,this),this._channel.on(q,this._onApiPlay,this),this._channel.on(W,this._onApiPause,this),this._channel.on(j,this._onApiBufferStart,this),this._channel.on(z,this._onApiSeekStart,this),this._channel.on(X,this._onApiSeekComplete,this),this._channel.on(Q,this._onApiChapterStart,this),this._channel.on(J,this._onApiChapterComplete,this),this._channel.on(ee,this._onApiBitrateChange,this),this._channel.on(Z,this._onApiTrackError,this),this._channel.on($,this._onApiTrackInternalError,this),this._channel.on(te,this._onApiQuantumEnd,this),this._channel.on(ie,this._onNetworkCheckStatusComplete,this),this._channel.on(N,this._onResetSessionId,this),this._channel.reply(D,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},a.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},a.prototype._resetInternalState=function(){this._logger.debug(I,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._streamData=new g,this._qosData=new f,this._sessionData=new l,this._assetData=new h,this._cuserData=null,this._stashedAdData=null,this._stashedChapterData=null,this._lastInBandItem=null},a.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},a.prototype._updateQoSInfo=function(e){this._qosData.bitrate(e.bitrate||0),this._qosData.fps(e.fps||0),this._qosData.droppedFrames(e.droppedFrames||0),null==e.startupTime||isNaN(e.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(e.startupTime),this._qosData.isStartupTimeOverridden=!0)},a.prototype._checkCall=function(e){return this._isTrackingSessionActive?this._isVideoComplete?(this._logger.warn(I,"#"+e+"() > The video content already completed."),!1):!0:(this._logger.warn(I,"#"+e+"() > No active tracking session."),!1)},a.prototype._updateLastInBandItem=function(e){var t=(new Date).getTime(),n=1e3*Math.abs(e.eventData.playhead()-this._lastInBandItem.eventData.playhead()),i=Math.abs(t-this._lastInBandItem.eventData.ts());this._lastInBandItem.eventData.type()!=p.EVENT_TYPE_PAUSE&&this._lastInBandItem.eventData.type()!=p.EVENT_TYPE_STALL?(i*ae>=n||this._doNotOverrideEventDuration)&&i<=this._reportingInterval*ae*1e3?this._lastInBandItem.eventData.duration(t-this._lastInBandItem.eventData.ts()):(this._logger.warn(I,"[WARNING] Resetting duration in lastInBandItem to 0. playheadDelta:"+n+" tsDelta:"+i+" event type:"+this._lastInBandItem.eventData.type()),this._lastInBandItem.eventData.duration(0)):this._lastInBandItem.eventData.duration(t-this._lastInBandItem.eventData.ts()),this._doNotOverrideEventDuration&&(this._doNotOverrideEventDuration=!1),this._lastInBandItem.eventData.ts(t),this._lastInBandItem.eventData.playhead(e.eventData.playhead()),this._lastInBandItem.qosData.startupTime(e.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=e.qosData.isStartupTimeOverridden},a.prototype._sendHit=function(e){function t(e){var t=n._reportFactory.createReportForItem(e);t.qosData.isStartupTimeOverridden||t.qosData.startupTime(n._autoComputedStartupTime);var a={};a[L]=t,n._channel.trigger(new s(ne,a)),(t.eventData.type()==p.EVENT_TYPE_PLAY||t.eventData.type()==p.EVENT_TYPE_BUFFER||t.eventData.type()==p.EVENT_TYPE_START)&&(i={},i[M]=!0,n._channel.command(C,i))}var n=this,i={};switch(e.eventData.type()){case p.EVENT_TYPE_START:case p.EVENT_TYPE_PLAY:case p.EVENT_TYPE_PAUSE:case p.EVENT_TYPE_STALL:case p.EVENT_TYPE_BUFFER:this._lastInBandItem&&(this._updateLastInBandItem(e),this._lastInBandItem.eventData.type()==p.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==h.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),e!=this._lastInBandItem&&t(this._lastInBandItem)),t(e),this._lastInBandItem=e,i={},i[M]=!0,this._channel.command(C,i);break;case p.EVENT_TYPE_COMPLETE:this._lastInBandItem&&(e.assetData.type()==h.TYPE_AD&&(this._doNotOverrideEventDuration=!0),this._updateLastInBandItem(e),t(this._lastInBandItem)),t(e),e.assetData.type()==h.TYPE_MAIN_CONTENT?(this._lastInBandItem=null,i={},i[M]=!0,this._channel.command(P,i)):e.assetData.type()==h.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(h.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case p.EVENT_TYPE_CHAPTER_START:case p.EVENT_TYPE_CHAPTER_COMPLETE:this._lastInBandItem&&(this._updateLastInBandItem(e),t(this._lastInBandItem)),t(e),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(e.eventData.type()==p.EVENT_TYPE_CHAPTER_START?new m(e.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),t(this._lastInBandItem));break;default:t(e)}};var I="ah::Context",y="sourceErrorSDK",S="error",C="clock:reporting.resume",P="clock:reporting.pause",R="reporting_interval",D="session_id",N="reset_session_id",b="callback",O="filter_report",L="report",M="reset",w="track_external_errors",k="reporting_interval",V="api:aa_start",U="api:aa_ad_start",x="api:video_load",F="api:video_unload",B="api:video_start",Y="api:video_complete",H="api:video_resume",G="api:ad_start",K="api:ad_complete",q="api:play",W="api:pause",j="api:buffer_start",z="api:seek_start",X="api:seek_complete",Q="api:chapter_start",J="api:chapter_complete",Z="api:track_error",$="api:track_internal_error",ee="api:bitrate_change",te="api:quantum_end",ne="context:report_available",ie="net:check_status_complete",ae=1.5,re=10;i.context.Context=a}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";function t(e,t){this.trackingServer=e,this.publisher=t,this.ssl=!1,this.ovp=n,this.sdk=n,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var n="unknown";e.AdobeHeartbeatPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeHeartbeatPluginDelegate=t}(t),function(e,t,n){"use strict";function i(e){i.__super__.constructor.call(this,f),this._radio=new l(this._logger),this._channel=this._radio.channel(S),this._delegate=e,this._context=new u(this._channel,this._logger),this._filter=new _(this._channel,this._logger),this._network=new p(this._channel,this._logger),this._setupDataResolver()}var a=e.Event,r=e.Trigger,o=e.plugin.BasePlugin,s=e.plugin.ParamMapping,l=e.radio.Radio,d=t.ErrorInfo,c=t.Version,u=n.context.Context,_=n.filter.ReportFilter,p=n.network.Network,h=n.clock.Clock,g=n.AdobeHeartbeatPluginConfig;e.extend(i,o),i.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof g))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var t=this._config.trackingServer+"/settings/",n={};n[te]=this._config.trackingServer,n[ne]=t,n[ie]=this._config.publisher,n[ae]=this._config.quietMode,n[re]=this._config.ssl,this._channel.trigger(new a(de,n)),this._isConfigured=!0},i.prototype.bootstrap=function(e){i.__super__.bootstrap.call(this,e),this._channel.on(C,this._onError,this),this._clock=new h(this._pluginManager,this._channel,this._logger),this._channel.command(be),this._channel.trigger(new a(Ue)),this._registerCommands(),this._registerBehaviours()},i.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},i.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):i.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},i.prototype._cmdAnalyticsError=function(e){this._errorInfo||(this._errorInfo=new d("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(C,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},i.prototype._cmdAnalyticsStart=function(e){if(this._canProcess()){var t={};t[oe]=e.visitorOptedOut,this._channel.trigger(new a(ce,t)),this._channel.trigger(new a(se,e))}},i.prototype._cmdAnalyticsAdStart=function(e){this._canProcess()&&this._channel.trigger(new a(le,e))},i.prototype._cmdVideoLoad=function(e){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new a(_e,e)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new a(ue,e)),this._isTrackingSessionActive=!0)},i.prototype._cmdVideoUnload=function(e){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new a(_e,e)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},i.prototype._cmdVideoStart=function(e){this._canProcess()&&this._channel.trigger(new a(pe,e))},i.prototype._cmdVideoComplete=function(e){this._canProcess()&&this._channel.trigger(new a(he,e))},i.prototype._cmdVideoResume=function(e){this._canProcess()&&this._channel.trigger(new a(ge,e))},i.prototype._cmdPlay=function(e){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(e))},i.prototype._cmdPause=function(e){this._canProcess()&&(this._channel.trigger(new a(Te,e)),this._isPaused=!0,this._runIdleTimer(!0))},i.prototype._cmdAdStart=function(e){this._canProcess()&&(this._channel.trigger(new a(fe,e)),this._resumePlaybackIfPossible(e))},i.prototype._cmdAdComplete=function(e){this._canProcess()&&(this._channel.trigger(new a(Ee,e)),e.isInAdBreak||this._resumePlaybackIfPossible(e))},i.prototype._cmdBufferStart=function(e){this._canProcess()&&(this._channel.trigger(new a(Ae,e)),this._isBuffering=!0,this._runIdleTimer(!0))},i.prototype._cmdBufferComplete=function(e){this._canProcess()&&(this._isBuffering=!1,this._resumePlaybackIfPossible(e))},i.prototype._cmdSeekStart=function(e){this._canProcess()&&(this._channel.trigger(new a(ve,e)),this._channel.trigger(new a(Te,e)),this._isSeeking=!0,this._runIdleTimer(!0))},i.prototype._cmdSeekComplete=function(e){this._canProcess()&&(this._channel.trigger(new a(Ie,e)),this._isSeeking=!1,this._resumePlaybackIfPossible(e))},i.prototype._cmdChapterStart=function(e){this._canProcess()&&this._channel.trigger(new a(ye,e))},i.prototype._cmdChapterComplete=function(e){this._canProcess()&&this._channel.trigger(new a(Se,e))},i.prototype._cmdBitrateChange=function(e){this._canProcess()&&this._channel.trigger(new a(Re,e))},i.prototype._cmdTrackError=function(e){this._canProcess()&&this._channel.trigger(new a(Ce,e))},i.prototype._cmdClockReportingTick=function(e){this._canProcess()&&this._channel.trigger(new a(De,e))},i.prototype._cmdIdleTick=function(e){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(j),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(q))},i.prototype._onError=function(e){this._errorInfo=e.data;var t={};t[$]=Ne,t[ee]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new a(Pe,t)),this._runReportingTimer(!1),this._trigger(C,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},i.prototype._runIdleTimer=function(e){var t={};t[Z]=!0,e?this._channel.command(ke,t):this._channel.command(Ve,t)},i.prototype._runFlushFilterTimer=function(e){var t={};t[Z]=!0,e?this._channel.command(Me,t):this._channel.command(we,t)},i.prototype._runReportingTimer=function(e){var t={};t[Z]=!0,e?this._channel.command(Oe,t):this._channel.command(Le,t)},i.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},i.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new r(T,D),this,"handleVideoLoad",[new s(m,"rsid","rsid"),new s(m,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new r(T,N),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new r(T,b),this,"handleVideoStart",[new s(T,"video.id","videoId"),new s(T,"video.name","videoName"),new s(T,"video.length","videoLength"),new s(T,"video.playhead","playhead"),new s(T,"video.playerName","playerName"),new s(T,"video.streamType","streamType"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime"),new s(m,"rsid","rsid"),new s(m,"tracking_server","trackingServer"),new s(m,"channel","channel"),new s(m,"meta.video.*","metaVideo"),new s(m,"ssl","useSsl"),new s(A,"meta","metaNielsen"),new s(E,"publisher","publisher"),new s(E,"sdk","sdk"),new s(E,"ovp","ovp"),new s(E,"version","version"),new s(E,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new r(T,L),this,"handleVideoComplete",[new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,O),this,"handleVideoResume",[new s(T,"video.id","videoId"),new s(T,"video.name","videoName"),new s(T,"video.length","videoLength"),new s(T,"video.playhead","playhead"),new s(T,"video.playerName","playerName"),new s(T,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new r(T,M),this,"handlePlay",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,w),this,"handlePause",[new s(T,"video.playhead","playhead"),new s(T,"video.playheadStalled","playheadStalled"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,k),this,"handleAdStart",[new s(T,"video.playhead","playhead"),new s(T,"ad.id","adId"),new s(T,"ad.name","adName"),new s(T,"ad.length","adLength"),new s(T,"ad.position","adPosition"),new s(T,"pod.name","podName"),new s(T,"pod.playerName","podPlayerName"),new s(T,"pod.position","podPosition"),new s(T,"pod.startTime","podSecond"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime"),new s(m,"meta.video.*","metaVideo"),new s(m,"meta.ad.*","metaAd"),new s(A,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(T,V),this,"handleAdComplete",[new s(T,"video.playhead","playhead"),new s(T,"ad.isInAdBreak","isInAdBreak"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,U),this,"handleBufferStart",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,x),this,"handleBufferComplete",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,F),this,"handleSeekStart",[new s(T,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new r(T,B),this,"handleSeekComplete",[new s(T,"video.playhead","playhead"),new s(T,"ad.isInAd","isInAd"),new s(T,"ad.id","adId"),new s(T,"ad.position","adPosition"),new s(T,"pod.playerName","podPlayerName"),new s(T,"pod.position","podPosition"),new s(T,"chapter.isInChapter","isInChapter"),new s(T,"chapter.position","chapterPosition"),new s(T,"chapter.name","chapterName"),new s(T,"chapter.length","chapterLength"),new s(T,"chapter.startTime","chapterOffset"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),
this._pluginManager.registerBehaviour(new r(T,Y),this,"handleChapterStart",[new s(T,"video.playhead","playhead"),new s(T,"chapter.position","chapterPosition"),new s(T,"chapter.name","chapterName"),new s(T,"chapter.length","chapterLength"),new s(T,"chapter.startTime","chapterOffset"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime"),new s(m,"meta.video.*","metaVideo"),new s(m,"meta.chapter.*","metaChapter"),new s(A,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(T,H),this,"handleChapterComplete",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,G),this,"handleBitrateChange",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,K),this,"handleTrackError"),this._pluginManager.registerBehaviour(new r(v,X),this,"handleClockReportingTick",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(v,J),this,"handleIdleTick",[]),this._pluginManager.registerBehaviour(new r(E,j),this,"handleClockReportingTick",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,C),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new r(m,P),this,"handleAnalyticsStart",[new s(m,"vid","vid"),new s(m,"aid","aid"),new s(m,"mid","mid"),new s(m,"customerIDs","customerIDs"),new s(m,"visitorOptedOut","visitorOptedOut"),new s(m,"blob","blob"),new s(m,"loc_hint","loc_hint"),new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,R),this,"handleAnalyticsAdStart",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")])},i.prototype._setupDataResolver=function(){var e={},t=this;e.version=function(){return c.getVersion()},e.api_level=function(){return c.getApiLevel()},e.tracking_server=function(){return t._config?t._config.trackingServer:null},e.publisher=function(){return t._config?t._config.publisher:null},e.quiet_mode=function(){return t._config?t._config.quietMode:!1},e.ovp=function(){return t._config?t._config.ovp:null},e.sdk=function(){return t._config?t._config.sdk:null},e.is_primetime=function(){return t._config?t._config.__isPrimetime:!1},e.psdk_version=function(){return t._config?t._config.__psdkVersion:null},e.session_id=function(){return t._channel.request(I)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,i=0;i<t.length;i++){var a=t[i];n=n||{},n[a]=e.hasOwnProperty(a)?e[a].call(this):null}return n}},i.prototype._resumePlaybackIfPossible=function(e){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle&&(this._isVideoIdle=!1,this._resumePlaybackFromIdle()),this._runIdleTimer(!1),this._channel.trigger(new a(me,e)))},i.prototype._resumePlaybackFromIdle=function(){this._trigger(j),this._filter.clear(),this._channel.trigger(new a(y)),this._trigger(W),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var f="adobe-heartbeat",E=f,m="adobe-analytics",T="player",A="nielsen",v="service.clock",I="session_id",y="reset_session_id",S="heartbeat-channel",C="error",P="aa_start",R="sc_ad_start",D="video_load",N="video_unload",b="video_start",O="video_resume",L="video_complete",M="play",w="pause",k="ad_start",V="ad_complete",U="buffer_start",x="buffer_complete",F="seek_start",B="seek_complete",Y="chapter_start",H="chapter_complete",G="bitrate_change",K="track_error",q="video_idle_start",W="video_idle_resume",j="quantum_close",z="heartbeat.reporting",X=z+".tick",Q="heartbeat.idle",J=Q+".tick",Z="reset",$="source",ee="error_id",te="tracking_server",ne="check_status_server",ie="publisher",ae="quiet_mode",re="ssl",oe="visitor_opt_out",se="api:aa_start",le="api:aa_ad_start",de="api:config",ce="api:update_visitor_optout",ue="api:video_load",_e="api:video_unload",pe="api:video_start",he="api:video_complete",ge="api:video_resume",fe="api:ad_start",Ee="api:ad_complete",me="api:play",Te="api:pause",Ae="api:buffer_start",ve="api:seek_start",Ie="api:seek_complete",ye="api:chapter_start",Se="api:chapter_complete",Ce="api:track_error",Pe="api:track_internal_error",Re="api:bitrate_change",De="api:quantum_end",Ne="sourceErrorHeartbeat",be="clock:check_status.resume",Oe="clock:reporting.resume",Le="clock:reporting.pause",Me="clock:flush_filter.resume",we="clock:flush_filter.pause",ke="clock:idle.resume",Ve="clock:idle.pause",Ue="clock:check_status.get_settings";n.AdobeHeartbeatPlugin=i}(e.ADB.core,e.ADB.va,t),e.ADB.va.plugins.ah||(e.ADB.va.plugins.ah=t)}(this),!function(e){if("undefined"==typeof t)var t={};!function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var i=e.ErrorInfo;n.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var n=0;n<t.length;n++){var i=t[n];switch(i){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!e.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof e.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(e.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+i)}}return!0},n.prototype._fail=function(e){var t=new i("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.InputDataValidator=n}(e.ADB.va,t),function(e){"use strict";function t(){this.channel=n,this.debugLogging=!1}var n="";e.AdobeAnalyticsPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeAnalyticsPluginDelegate=t}(t),function(e,t,n,i){"use strict";function a(e,t){if(a.__super__.constructor.call(this,E),!e)throw new Error("The reference to the AppMeasurement object cannot be NULL.");this._appMeasurement=e,this._delegate=t,this._customMetaKeys=[],this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new c(!0,I),this._inputDataValidator=new f(function(e){this._errorInfo=e,this._logger.error(this._logTag,e.getMessage()+" | "+e.getDetails());var t=this;setTimeout(function(){t._trigger(y,e),t._delegate&&t._delegate.onError(t._errorInfo)},0)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var r=e.Trigger,o=e.plugin.BasePlugin,s=e.plugin.ParamMapping,l=e.radio.Channel,d=e.radio.Command,c=e.radio.CommandQueue,u=t.ErrorInfo,_=n.md5,p=n.StringUtils,h=n.ObjectUtils,g=i.AdobeAnalyticsPluginConfig,f=i.InputDataValidator;e.extend(a,o),a.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof g))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},a.prototype.bootstrap=function(e){a.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},a.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),a.__super__.setup.call(this)},a.prototype.setVideoMetadata=function(e){this._videoMetadata=h.clone(e)},a.prototype.setAdMetadata=function(e){this._adMetadata=h.clone(e)},a.prototype.setChapterMetadata=function(e){this._chapterMetadata=h.clone(e)},a.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):a.__super__._canProcess.call(this)},a.prototype._cmdVideoLoad=function(e){this._errorInfo=null},a.prototype._cmdVideoStart=function(e){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new d(this._executeOpen,this,[e]))},a.prototype._cmdAdStart=function(e){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new d(this._executeOpenAd,this,[e]))},a.prototype._cmdHeartbeatPluginError=function(e){this._errorInfo||(this._errorInfo=new u("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(y,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},a.prototype._resetAppMeasurementContextData=function(){delete this._appMeasurement.contextData["a.contentType"],delete this._appMeasurement.contextData["a.media.name"],delete this._appMeasurement.contextData["a.media.friendlyName"],delete this._appMeasurement.contextData["a.media.length"],delete this._appMeasurement.contextData["a.media.playerName"],delete this._appMeasurement.contextData["a.media.channel"],delete this._appMeasurement.contextData["a.media.view"],delete this._appMeasurement.contextData["a.media.ad.name"],delete this._appMeasurement.contextData["a.media.ad.friendlyName"],delete this._appMeasurement.contextData["a.media.ad.podFriendlyName"],delete this._appMeasurement.contextData["a.media.ad.length"],delete this._appMeasurement.contextData["a.media.ad.playerName"],delete this._appMeasurement.contextData["a.media.ad.pod"],delete this._appMeasurement.contextData["a.media.ad.podPosition"],delete this._appMeasurement.contextData["a.media.ad.podSecond"],delete this._appMeasurement.contextData["a.media.ad.view"];for(var e=0;e<this._customMetaKeys.length;e++){var t=this._customMetaKeys[e];delete this._appMeasurement.contextData[t]}this._customMetaKeys=[]},a.prototype._executeOpen=function(e){if(this._logger.debug(this._logTag,"#_executeOpen(id="+e.videoId+", videoName="+e.videoName+", streamType="+e.streamType+", length="+e.videoLength+", playerName="+e.playerName+", channel="+e.channel+", isPrimetime="+e.isPrimetime+", sessionId="+e.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","streamType","videoLength","playerName"])){this._resetAppMeasurementContextData();for(var t in e.metaVideo)e.metaVideo.hasOwnProperty(t)&&(this._appMeasurement.contextData[t]=e.metaVideo[t],this._customMetaKeys.push(t));if(e.metaNielsen)for(var t in e.metaNielsen)e.metaNielsen.hasOwnProperty(t)&&(this._appMeasurement.contextData[t]=e.metaNielsen[t],this._customMetaKeys.push(t));this._appMeasurement.contextData["a.contentType"]=e.streamType,this._appMeasurement.contextData["a.media.name"]=e.videoId,this._appMeasurement.contextData["a.media.friendlyName"]=e.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(e.videoLength)||"0.0",this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=e.channel||"",this._appMeasurement.contextData["a.media.view"]=!0,this._appMeasurement.contextData["a.media.vsid"]=e.sessionId,this._appMeasurement.pev3=S,this._appMeasurement.pe=e.isPrimetime?R:P,this._appMeasurement.track();var n=this;setTimeout(function(){n._trigger(b,e)},0)}},a.prototype._executeOpenAd=function(e){var t=_(e.videoId)+"_"+e.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+e.adId+", streamType="+e.streamType+", length="+e.adLength+", podPlayerName="+e.podPlayerName+", parentId="+e.videoId+", podId="+t+", parentPodPosition="+e.adPosition+", podSecond="+e.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){e.podSecond=null==e.podSecond||isNaN(e.podSecond)?e.playhead:e.podSecond,this._resetAppMeasurementContextData();var n;for(n in e.metaVideo)e.metaVideo.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaVideo[n],this._customMetaKeys.push(n));for(n in e.metaAd)e.metaAd.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaAd[n],this._customMetaKeys.push(n));if(e.metaNielsen)for(var n in e.metaNielsen)e.metaNielsen.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaNielsen[n],this._customMetaKeys.push(n));this._appMeasurement.contextData["a.contentType"]=e.streamType,this._appMeasurement.contextData["a.media.name"]=e.videoId,this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=e.channel||"",this._appMeasurement.contextData["a.media.vsid"]=e.sessionId,this._appMeasurement.contextData["a.media.friendlyName"]=e.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(e.videoLength)||"0.0",this._appMeasurement.contextData["a.media.ad.name"]=e.adId,this._appMeasurement.contextData["a.media.ad.friendlyName"]=e.adName||"",this._appMeasurement.contextData["a.media.ad.podFriendlyName"]=e.podName||"",this._appMeasurement.contextData["a.media.ad.length"]=Math.floor(e.adLength)||"0.0",this._appMeasurement.contextData["a.media.ad.playerName"]=e.podPlayerName,this._appMeasurement.contextData["a.media.ad.pod"]=t,this._appMeasurement.contextData["a.media.ad.podPosition"]=Math.floor(e.adPosition)||"0.0",this._appMeasurement.contextData["a.media.ad.podSecond"]=Math.floor(e.podSecond)||"0.0",this._appMeasurement.contextData["a.media.ad.view"]=!0,this._appMeasurement.pev3=C,this._appMeasurement.pe=e.isPrimetime?N:D,this._appMeasurement.track();var i=this;setTimeout(function(){i._trigger(O,e)},0)}},a.prototype._setupDataResolver=function(){var e={},t=this;e.rsid=function(){return t._appMeasurement.account},e.tracking_server=function(){return t._appMeasurement.ssl&&t._appMeasurement.trackingServerSecure?t._appMeasurement.trackingServerSecure:t._appMeasurement.trackingServer},e.ssl=function(){return t._appMeasurement.ssl},e.vid=function(){return t._appMeasurement.visitorID},e.aid=function(){return t._appMeasurement.analyticsVisitorID},e.mid=function(){return t._appMeasurement.marketingCloudVisitorID},e.blob=function(){return t._appMeasurement.audienceManagerBlob},e.loc_hint=function(){return t._appMeasurement.audienceManagerLocationHint?parseInt(t._appMeasurement.audienceManagerLocationHint):""},e.customerIDs=function(){var e=t._appMeasurement.visitor.getCustomerIDs(),n={};for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];if("object"==typeof a){for(var r in a)a.hasOwnProperty(r)&&("authState"==r?n[i+".as"]=a[r]:n[i+"."+r]=a[r]);n[i+".as"]||(n[i+".as"]="0")}}return n},e.channel=function(){return t._config?t._config.channel:null},e.meta=function(e){var n=e.split(".");if(n.length<2)return null;var i=n.shift();switch(e=n.join("."),i){case"video":return e==l.WILDCARD?t._videoMetadata:t._videoMetadata[e];case"ad":return e==l.WILDCARD?t._adMetadata:t._adMetadata[e];case"chapter":return e==l.WILDCARD?t._chapterMetadata:t._chapterMetadata[e];default:return null}},e.visitorOptedOut=function(){return void 0==t._appMeasurement.visitorOptedOut?!1:t._appMeasurement.visitorOptedOut},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,i=0;i<t.length;i++){var a=t[i];n=n||{},p.startsWith(a,"meta.")?n[a]=e.meta(a.split("meta.")[1]):n[a]=e.hasOwnProperty(a)?e[a].call(this):null}return n}},a.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},a.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new r(A,L),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new r(A,M),this,"handleVideoStart",[new s(A,"video.id","videoId"),new s(A,"video.streamType","streamType"),new s(A,"video.name","videoName"),new s(A,"video.length","videoLength"),new s(A,"video.playerName","playerName"),new s(A,"video.streamType","streamType"),new s(v,"is_primetime","isPrimetime"),new s(v,"session_id","sessionId"),new s(m,"channel","channel"),new s(m,"meta.video.*","metaVideo"),new s(T,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(A,w),this,"handleAdStart",[new s(A,"video.id","videoId"),new s(A,"video.streamType","streamType"),new s(A,"video.playhead","playhead"),new s(A,"video.playerName","playerName"),new s(A,"video.name","videoName"),new s(A,"video.length","videoLength"),new s(A,"ad.id","adId"),new s(A,"ad.length","adLength"),new s(A,"ad.position","adPosition"),new s(A,"ad.name","adName"),new s(A,"pod.name","podName"),new s(A,"pod.position","podPosition"),new s(A,"pod.playerName","podPlayerName"),new s(A,"pod.startTime","podSecond"),new s(v,"is_primetime","isPrimetime"),new s(v,"session_id","sessionId"),new s(m,"channel","channel"),new s(m,"meta.video.*","metaVideo"),new s(m,"meta.ad.*","metaAd"),new s(T,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(v,y),this,"handleHeartbeatPluginError")},a.prototype._onAppMeasurementReady=function(){this._workQueue.resume()};var E="adobe-analytics",m=E,T="nielsen",A="player",v="adobe-heartbeat",I=2e3,y="error",S="video",C="videoAd",P="ms_s",R="msp_s",D="msa_s",N="mspa_s",b="aa_start",O="sc_ad_start",L="video_load",M="video_start",w="ad_start";i.AdobeAnalyticsPlugin=a}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";var t={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},n={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"};e.VideoMetadataKeys=t,e.AdMetadataKeys=n}(t),e.ADB.va.plugins.aa||(e.ADB.va.plugins.aa=t)}(this)},Visitor.getInstance=function(e,t){var n,i,a=window.s_c_il;if(0>e.indexOf("@")&&(e+="@AdobeOrg"),a)for(i=0;i<a.length;i++)if((n=a[i])&&"Visitor"==n._c&&n.marketingCloudOrgID==e)return n;return new Visitor(e,t)},function(){function e(){t.$=n}var t=window.Visitor,n=t.Ta,i=t.Qa;n||(n=!0),i||(i=!1),window.addEventListener?window.addEventListener("load",e):window.attachEvent&&window.attachEvent("onload",e),t.kb=(new Date).getTime()}(),function(e){e.Bento=e.Bento||{}}(window),function(e){function t(){function t(){return Ut(o+"loading ima js sdk from: "+e.IMAVars.SDK_URL),pi.loadScript({url:e.IMAVars.SDK_URL,onLoad:function(){e.onImaJsSdkLoaded()},onError:function(){e.onImaJsSdkLoadError()}}),gt}function n(){return gi.sendGETRequest({url:pn})}function i(e,t,n){var i=ht,a=t&&t+s||s,d=pi.createElement,c={type:"application/x-shockwave-flash",id:a,name:a,align:"middle",data:pn,width:"0",height:"0",style:"position:absolute; visibility:hidden;"},u=[{name:"quality",value:"high"},{name:"scale",value:"noborder"},{name:"wmode",value:"transparent"},{name:"allowscriptaccess",value:"always"},{name:"allowfullscreen",value:"true"},{name:"FlashVars",value:"playerId="+t+"&adType="+n+(Vt()?"&logCallback=LOG&errorCallback=ERROR":mt)}],_=u.length,p=d(lt,c),h=Xt(e)?document.getElementById(e):e,g=r(h,l);for(Ut(o+"loading ad bridge from: "+pn);_--;)p.appendChild(d("param",u[_]));return(i=document.getElementById(a))&&i.parentNode.removeChild(i),g?g.parentNode.replaceChild(p,g):h&&h.appendChild(p),a}function a(e){var t=document.getElementById(e),n=document.getElementById(d.FW_BRIDGE_PLACEHOLDER_ID);n||(n=pi.createElement("div",{id:d.FW_BRIDGE_PLACEHOLDER_ID})),t&&t.parentNode.replaceChild(n,t)}function r(e,t){var n=ht,i=[];if(e){if(n=e.getElementsByClassName(t),n&&n.length>0)return n[0];i=e.childNodes;for(var a in i)if(i[a]&&i[a].id&&i[a].id===t)return i[a]}}var o=st+"AdSdkLoader ",s=e.AdVars.AD_BRIDGE_ID,l=e.AdVars.AD_PLACE_HOLDER_ID,d=e.FreewheelVars;return this.loadFWJsSdk=Et,this.getAdBridgePlaceholder=r,this.loadAdBridgeSwf=i,this.preloadAdBridgeSwf=n,this.replaceAdBridgeWithPlaceholderDiv=a,this.loadImaJsSdk=t,this}function n(){function t(e){var t=window.location!==window.parent.location?document.referrer:window.top.document.location.href,n=t||e.ref||mt,i=vi.queryStringToObject(n.toLowerCase());return Xt(i[o.DEBUG_MODE])&&an(i[o.DEBUG_MODE])&&Xt(i[o.TSLA])?i[o.TSLA]:e.timeSinceLastAd}function n(e){var t=+_i.getLocalStorage(r.VIDEO_PLAYED_TIME),n=+li.getTSLATime(e);return Jt(t)&&(t=1e3*t),Jt(n)||(n=0),0>=n||!Jt(t)||0===t||t>n?gt:ft}function i(){var e=_i.getLocalStorage(r.LAST_PLAYTIME_CODE),t=new Date;t=Math.round(t.getTime()/1e3),t-e===1&&_i.setLocalStorage(r.VIDEO_PLAYED_TIME,parseInt(_i.getLocalStorage(r.VIDEO_PLAYED_TIME))+1),_i.setLocalStorage(r.LAST_PLAYTIME_CODE,t)}function a(t,n,i,a){var r,o=e.FreewheelVars;return r=0!==t.currentIndex&&!n||t.hasContentEnd!==ft?t.currentIndex+1===i&&t.hasContentEnd===gt&&(1>=a||qt(a))?o.POSTROLL:0!==t.currentIndex&&t.hasContentEnd===ft?o.MIDROLL:ft:o.PREROLL}var r=e.AdVars,o=e.FreewheelVars;return this.getTSLATime=t,this.isTimeSinceLastAdElapsed=n,this.persistVideoPlayedTime=i,this.getAdType=a,this}function i(){function e(e){for(var t,n=e.length;n--;)t=e.indexOf(e[n]),t!==n&&e.splice(t,1);return e}function t(e,t){tn(e,t)||e.push(t)}function n(e,t){return $t(e[t])||(e[t]=[]),e[t]}function i(e,t){for(;tn(e,t);)e.splice(e.indexOf(t),1)}return this.getOrCreateArray=n,this.pushIfAbsent=t,this.filterDuplicates=e,this.removeValue=i,this}function a(){this.everyInstance=[],this.by={last:{}}}function r(){function t(){return this.setupOmnitureInstance(),this.getOmnitureDayOfTheWeek()}function n(){return this.setupOmnitureInstance(),this.getOmnitureTimeWithAbbreviation()}function i(){c=window.AppMeasurement.getInstance(e.Config.omnitureAccount),this.getOmnitureDayOfTheWeek=a,this.getOmnitureTimeWithAbbreviation=r}function a(){return c.getTimeParting("d",-5)}function r(){return c.getTimeParting("h",-5)}function o(){return u[(new Date).getDay()]}function s(){return(new Date).toLocaleTimeString().replace(/:\d+ /,mt)}function l(){return(new Date).toISOString().slice(0,-1)+" GMT"}function d(e){return new Date(e.slice(0,-4)+"Z")}var c,u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return this.getDayOfTheWeek=o,this.getTimeWithAbbreviation=s,this.getDateInISOFormat=l,this.getDateFromISOFormat=d,this.getOmnitureDayOfTheWeek=t,this.getOmnitureTimeWithAbbreviation=n,this.setupOmnitureInstance=i,this}function o(){function e(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0}function t(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0}function n(n){var i=ft,a=n.getBoundingClientRect(),r=e(),o=t(),s=r>0&&o>0;return n&&nn(n.getBoundingClientRect)?(s&&(i=a.bottom>=0&&a.right>=0&&a.top<r&&a.left<o),i):ft}function i(e){if(!e)return ft;var t=gt,n=getComputedStyle(e);switch(gt){case n.display===Mn:t=ft;break;case n.visibility===Ln:t=ft;break;case 0===e.clientHeight:t=ft;break;case e.clientHeight<1&&e.clientWidth>2:t=ft}return t}function a(e){if(Xt(e.url))try{var t=document.createElement("script");return t.setAttribute("type","text/javascript"),t.setAttribute("src",e.url),e.hasOwnProperty("async")&&Zt(e.async)&&t.setAttribute("async",e.async),e.hasOwnProperty("onLoad")&&typeof e.onLoad===dt&&(t.onload=t.onreadystatechange=e.onLoad),e.hasOwnProperty("onError")&&typeof e.onError===dt&&(t.onerror=e.onError),e.hasOwnProperty("isAppendToBody")&&e.isAppendToBody?document.getElementsByTagName("body")[0].appendChild(t):document.getElementsByTagName("head")[0].appendChild(t),t}catch(n){xt(o,"loadScript failed url: ",e.url+" Error: ",n)}}function r(e,t){var n,i=ht;if(!Xt(e))return xt(o,"First argument supplied to createElement was not a string, NULL element returned."),ht;if(i=document.createElement(e),Gt(t))for(n in t)t.hasOwnProperty(n)&&i.setAttribute(n,t[n]);return i}var o=st+"BentoDOMUtility";return this.isElementInViewport=n,this.loadScript=a,this.createElement=r,this.isElementDisplayed=i,this}function s(){function t(e,t){for(var n,i=e.split(/[&|=]/g),a=mt,r=i.length;r--;)n=i[r],n=decodeURIComponent(n),n=vi.sanitize(n,t),n=encodeURIComponent(n),n=(r%2?Ct:At)+n,a=n+a;return a.slice(1)}function n(n){var o=e.IMAVars.VIDEO_TAG_URL,s=vi.queryStringToObject(Hn),l=[r.ENVIRONMENT,r.DFP_SCHEMA,r.REQUEST_MODE,r.POSITION_START,r.VMAP_FORMAT,r.LANGUAGE_EN,r.FOLLOW_NETWORK_RULES,r.URL_KEY_MACRO],d=n.playerConfig,c=e.Config.imaAdUnit?e.Config.imaAdUnit:"money_test",u=ht,_=ht,p=ft,h=ht;if(Gt(d)){if(Xt(d.adLocationID)&&(c=d.adLocationID),_=Si.getMostRecentStatus(d),Xt(_.hash)&&(h=_.hash,p=_.authRequired),u=r.AUTHORIZATION_REQUIRED+Ct+p,Bt(h)||(u+=At+r.AUTHENTICATING_ENTITY+Ct+vi.sanitize(h)),Yt(d.embedVars)){var g=d.embedVars;Xt(g.locationPath)&&(c=g.locationPath),l.push(r.CORRELATOR_KEY+Qt(g.correlator,r.CORRELATOR_MACRO)),Xt(g.custParams)&&(u+=At+t(g.custParams))}if(Xt(s[r.OVERRIDE_CUST_PARAMS])&&(u+=At+r.OVERRIDE_CUST_PARAMS+Ct+vi.sanitize(s[r.OVERRIDE_CUST_PARAMS])),Xt(d.adKeyValues)&&(u+=At+t(d.adKeyValues)),Wt(n.currentItemIndex)&&Gt(d.feed.items[n.currentItemIndex].rss.group)&&Xt(d.feed.items[n.currentItemIndex].rss.group.category.franchise)){var f=d.feed.items[n.currentItemIndex].rss.group.category.franchise,E=r.EXCLUSION_CATEGORIES+vi.sanitize(f);if(d.requiresCoppaCompliance){var m=_i.getLocalStorage(r.LAST_ITEM_FRANCHISE);Bt(m)||m===f||(E+=vt+vi.sanitize(m))}_i.setLocalStorage(r.LAST_ITEM_FRANCHISE,f),u+=At+E,zt(u,r.EXCLUSION_CATEGORIES)&&(u=i(u))}l.push(r.CUST_PARAMS_KEY+encodeURIComponent(u)),l.push(r.DESCRIPTION_URL_KEY+encodeURIComponent(Qt(n.playerConfig.ref,Hn)))}if(Xt(s[r.OVERRIDE_CMS_ID])?l.push(r.CMS_ID_KEY+s[r.OVERRIDE_CMS_ID]):Gt(d)&&Xt(d.imaCmsID)?l.push(r.CMS_ID_KEY+d.imaCmsID):Gt(e.Config)&&Xt(e.Config.imaCmsID)&&l.push(r.CMS_ID_KEY+e.Config.imaCmsID),Xt(s[r.OVERRIDE_AD_UNIT_ID])?l.push(r.AD_UNIT_KEY+Tt+s[r.OVERRIDE_AD_UNIT_ID]):Gt(d)&&Xt(d.imaNetworkID)?l.push(r.AD_UNIT_KEY+Tt+d.imaNetworkID+(c?Tt+c:mt)):Gt(e.Config)&&Xt(e.Config.imaNetworkID)&&l.push(r.AD_UNIT_KEY+Tt+e.Config.imaNetworkID+(c?Tt+c:mt)),Xt(s[r.OVERRIDE_VIDEO_ID])||Xt(s[r.VIDEO_ID_KEY])){var T=s[r.OVERRIDE_VIDEO_ID]||s[r.VIDEO_ID_KEY];l.push([r.VIDEO_ID_KEY,T].join(Ct))}else Gt(n.contentInfo)&&Xt(n.contentInfo.videoId)&&l.push([r.VIDEO_ID_KEY,n.contentInfo.videoId].join(Ct));if(Gt(d)&&d.requiresCoppaCompliance&&l.push(r.CHILD_DIRECTED_TREATMENT),n.width&&n.height){var A="640x480";Gt(d)&&Xt(d.imaAdSize)?A=d.imaAdSize:Gt(e.Config)&&Xt(e.Config.imaAdSize)&&(A=e.Config.imaAdSize),l.push("sz="+A+bt+n.width+"x"+n.height),"mobile"!==d.networkConnectionType&&n.width>=382&&n.height>=216?l.push("pp=medium"):l.push("pp=small")}return Ut(a+"getAdUrl: ",l),o+l.join(At)}function i(e){for(var t=r.EXCLUSION_CATEGORIES,n=gt,i=[];n;){var a=e.indexOf(r.EXCLUSION_CATEGORIES),o=0,s=0,l=mt;-1!==a?(o=e.slice(a),s=o.indexOf(At),l=-1!==s?o.slice(0,s):o,e=e.replace(At+l,mt),l=l.replace(r.EXCLUSION_CATEGORIES,mt),i.push(l)):n=ft}return en(i)||(t+=i.join(vt),e+=At+t),e}var a=st+"IMAUrlUtility ",r=e.IMAVars;return this.getAdUrl=n,this}function l(){function t(e,t){var n=cn()||Date.now()-o;if(t){Wt(r[t])||(r[t]={});for(var i in a)an(r[t].hasOwnProperty(i))||(r[t][i]=a[i]);r[t][e]=Math.floor(100*n)/100}else a[e]=Math.floor(100*n)/100}function n(t,n){var i={},a={};i.client="bento",i.beaconType=t,i.beaconVersion="0.1.0",a.displayAd={indexExchangeHB:e.Config.indexExchangeEnabled&&Gt(window.headertag)&&!rn(window.headertag.apiReady)?gt:ft,amazonA9HB:Wt(r[n.id])&&r[n.id].hasOwnProperty("amazonA9Received"),instanceID:s||ht,inView:pi.isElementDisplayed(n)},a.milestones=r[n.id],i.data=a,e.sendMegabeaconData({data:i})}function i(){r=[],a=[]}var a=[],r=[],o=0,s=Math.floor(1e7*Math.random());return o=Kt(window,"performance.timing.navigationStart")?window.performance.timing.navigationStart:Date.now(),this.setTiming=t,this.resetMileStones=i,this.generateMegaBeacon=n,this}function d(){function e(e){return typeof e===ct&&e!==mt}function t(e,t,n){t=t?t:vt,n=n?n:Ct;for(var i,a=e.split(t),r=a.length,o={};r--;)i=a[r].split(n),o[i[0]]=i[1];return o}function n(e,t,n){if(jt(e)&&Jt(t)){if(n){var i=e.lastIndexOf(n);i>0&&(e=e.substr(0,i))}e.length>t&&(e=e.substring(0,t))}return e}function i(e,t){return e&&e.length?e+vt+t:t}function a(e){return e.replace(/^\{|\}$/g,mt)}function r(e){for(var t=e.split(","),n=[],i=t.length,a=0;i>a;a++)Xt(t[a])&&n.push("User Segment;"+t[a]);return n.join(",")}function o(e){return Xt(e)?e+vt:e}function s(e,t){for(var n=e.match(/{\w+}/g),i=n?n.length:0,a=0;i>a;a++){var r=n[a],o=r.replace(/{|}/g,mt),s="ord"===o?Math.floor(Math.random()*Math.pow(10,(mt+999999).length))%999999:t[o];s&&(e=e.replace(r,s))}
return e}function l(e){return e=e.replace(/^\s*|\s*$/gi,mt).replace(/^[\/\\]|[\/\\]$/gi,mt)}function d(e){var t=/^.*\?/;return vi.toObject((e||Wn()).replace(t,mt),At)}function c(e,t,n){var i,a,r="\"'=!+#*~;^()<>[],&";return Xt(n)&&zt(r,n)&&(r=r.replace(n,mt)),on(t)?a=t:(t=t||r,i="[\\"+t.split(mt).join("|\\")+"]",a=new RegExp(i,"g")),e.replace(a,mt)}return this.isDefined=e,this.toObject=t,this.lengthLimiter=n,this.appendWithComma=i,this.stripToken=a,this.getFormattedUserSegment=r,this.addComma=o,this.replaceTokens=s,this.trimSlashes=l,this.queryStringToObject=d,this.sanitize=c,this}function c(){function e(e){var t=mt;return Xt(e)?(t=e.replace(/\s+/g,mt).toLowerCase(),void(r=window.tve_mvpd_list[t]||mt)):(r=t,ft)}function t(){s=ft}function n(t){return s=gt,Gt(t.provider)?(a=t.provider.displayName||t.provider.id,o=t.isLoggedIn&&gt||ft,void e(a)):ft}function i(t){var n={},i=mt,a=mt,l=mt,d=ht;return n.hash=mt,n.loggedIn=ft,n.authRequired=ft,Xt(r)&&!Bt(o)&&an(s)?(n.hash=r,n.loggedIn=o,n.authRequired=s,n):Gt(t)&&Gt(t.tve)&&(d=t.tve,s=d.tveAuthRequired||ft,n.authRequired=s,Xt(r)||e(d.tveMvpdName),Xt(r))?(n.hash=r,n.loggedIn=gt,n):(i=_i.getLocalStorage("TVEAuth_CURRENT_PROVIDER_NAME"),a=_i.getLocalStorage("TVEAuth_CURRENT_PROVIDER_ID"),Xt(i)||Xt(a)?(o=gt,n.loggedIn=o,l=i||a,e(l),r?(n.hash=r,n):(n.noValidTVEDataFound=gt,n)):(o=ft,n))}var a=mt,r=mt,o=ht,s=ft;return this.storeMostRecentStatus=n,this.getMostRecentStatus=i,this.resetAuthRequirements=t,this}function u(){function t(e){this.onFeedLoaded({player:e,config:e.config,metadata:e.config.feed}),a(e.config)&&e.bento.ready(cn())}function n(t){return Gt(t)&&jt(t.id)&&rn(Bt(e.getPlayer(t.id)))}function i(e){return qt(e)||an(e.noBento)}function a(e){return rn(i(e))}function r(t,n){return rn(Gt(t))?ft:(Ut(this.LOGTAG+"Invoking Bento.onPlayerConfig",t),this.bentoApi=e.addPlayer(n),this.bentoApi[C](t),gt)}function o(t,a){var r=rn(Gt(t))||n(t.player)||i(t.config),o={},s=ht,l=ht,d=an(e.Config.amazonVideoBiddingEnabled&&e.Config.freewheelEnabled);return r?(Ut(this.LOGTAG+"Feed is not an object | Player is already added | Player is configured with noBento set to TRUE"),ft):(o=JSON.parse(JSON.stringify(t.config)),s=o.feed.items.length,this.feed=t,Ut(this.LOGTAG+"onFeedLoaded feed",this.feed),d&&(c>0&&Ni.initialize(),"episode"===o.contentType&&(1===s&&Wt(l=o.feed.items[0].rss.group.category.adCuePoints)?Ni.requestMidrollBids(l.length):Ni.requestMidrollBids(s-1))),c++,this.processPlayerConfig(o,t.player),this.bentoApi[y](t),this.bentoApi)}function s(){return this.feed}function l(){if(!e.addEventToWaitQueueIfDomNotLoaded({callbackObject:d,callback:l})){var t,n,i,a,r=window||r,o=r._edgeplayerFeedLoad||[],s=r.EdgePlayer,u=s&&s.getPlayers&&s.getPlayers();if(c=0,r._edgeplayerFeedLoad=o,o.push(this.onFeedLoaded),$t(u))for(t=0;t<u.length;t++)n=u[t],i=n&&n.config,a=i&&i.feed,Wt(a)&&this.feedLoaded(n)}}var d=this,c=0;return this.LOGTAG=st+"EpFeedProxy",this.feed=ht,this.bentoApi=ht,this.processPlayerConfig=r,this.onFeedLoaded=o.bind(this),this.feedLoaded=t,this.getFeed=s,this.init=l,this}function _(){function t(e){return Jt(e)&&e>-1}function n(){y=1}function i(e){var t=ht,n=mt;return Xt(e)&&(e+=vt+It+e,e=document.querySelector(e)),sn(e)?(n=e.getAttribute("id"),Xt(n)||(n="display-"+Gn()),t=e.cloneNode(),t.setAttribute("id",n+"-ad-container"),t.removeAttribute("style"),t.removeAttribute("class"),Gt(t.dataset)&&Xt(t.dataset.adhidden)&&(t.dataset.adhidden=mt+ft),e.appendChild(t),t):e}function a(e){for(var t=Object.keys(e),n={event16:"pv",event34:"searchDYM",event33:"searchDYM",event35:"searchConversion",event36:"searchTA",event37:"searchResult",event38:"searchResult",event39:"searchTA",event100:"activity",eVar2:"searchTerm",eVar3:"searchType",eVar9:"pageName",eVar44:"previousPageName",eVar45:"dayOfWeek",eVar46:"hourOfDay",eVar49:"channel",eVar53:"vuid",eVar57:"uuid",eVar67:"timestamp",eVar68:"franchise",eVar74:"siteID",eVar80:"category",eVar100:"activity",prop32:"timestamp",prop41:"newRepeat",prop68:"pageFranchise"},i=mt,a={};i=t.pop();)n[i]?a[n[i]]=e[i]:(xt(I+i+" is not listed as available for translation, passing through as is."),a[i]=e[i]);return a}function r(t){var n=t||{};return Gt(n)&&(n=a(n)),e[_e](n),gt}function o(t){var n=t||{};return Gt(n)&&(n=a(n)),e[Oe](n),gt}function s(){for(var t=/@/g,n=window.vmn_page_data.mappings["ad-unit"]||{},i=Object.keys(n),a=mt,r=mt,o=mt;a=i.shift();)r=n[a].replace(t,mt),o+=Tt+(window.vmn_page_data.metadata[r]||n[a]);an(window.vmn_page_data.metadata.is_main)&&(o+=Tt+"home"),e.Config.adUnitDefault=o}function l(){var t=window.vmn_page_data.mappings["exclusion-categories"];return Xt(t)?(jt(e.Config.adExclusionCategories)||(e.Config.adExclusionCategories=mt),-1!==e.Config.adExclusionCategories.indexOf(t)?(Ut(I,"Bento config already contains the exclusion categories from vmn_page_data."),gt):Xt(e.Config.adExclusionCategories)?(e.Config.adExclusionCategories+=vt+t,gt):(e.Config.adExclusionCategories=t,gt)):(xt(I,"No exclusion categories from vmn_page_data"),ft)}function d(){var t,n=/@/g,i=Gt(window.vmn_page_data.mappings["key-values"])&&window.vmn_page_data.mappings["key-values"]||{},a=[],r={},o=mt,s=mt;for(a=Object.keys(i);o=a.pop();)s=i[o].replace(n,mt),r[o]=window.vmn_page_data.metadata[s]||i[o];Kt(window,"MTVN.config.projectX")&&(t=window.MTVN.config.projectX,t.phase&&t.targetVal&&(Ut(I,"Adding phase and target values to page-level targeting."),r.px_phase=t.phase.toString(),r.px_target=t.targetVal.toString())),e.Config.adPageTargeting=r}function c(){var n=window.vmn_page_data.settings,i=n.reload_interval,a=n.reload,r=n.slots;return t(e.Config.adRefreshRate)?(Ut(I,"Ad refresh rate has been set in Bento, using this refresh rate."),ft):!$t(r)&&Jt(i)&&an(a)?(e.Config.adRefreshRate=i,gt):(Ut(I,"No global refresh rate enabled in legacy configuration."),ft)}function u(){return Gt(window.vmn_page_data)?(Gt(window.vmn_page_data.mappings)&&(s(),d(),l()),Gt(window.vmn_page_data.settings)&&c(),gt):Ft(I,"Page ads will likely fail due to missing vmn_page_data object!")}function _(n,i){var a=Gt(window.vmn_page_data)&&window.vmn_page_data.settings||{},r=0;switch(gt){case t(+n):r=+n;break;case t(+e.Config.adRefreshRate):r=+e.Config.adRefreshRate;break;case tn(a.slots,i)&&t(+a.reload_interval):r=+a.reload_interval}return r}function p(e){var t,n,i,a,r,o,s=(window.btg.config,window.btg.Demdex);if(Kt(window,"btg.config.Demdex.enabled")&&rn(window.btg.config.Demdex.enabled)||!Gt(s))return Ut(I,"Skipping adding Demdex segments to ad request, Demdex is not enabled in CODA."),e;if(s.setData(),n=s.getSegment("dfp"),!Xt(n))return Ut(I,"No applicable segments found for DFP targeting in Demdex."),e;for(Yt(e)||(e={}),t={},i=n.split(Rt),ci.removeValue(i,mt);a=i.pop();)a=a.split(Ct),r=a[0],o=a[1],jt(t[r])&&(o+=vt+t[r]),t[r]=o;return e=hi(e,t)}function g(){return e[nt]()}function f(t,n){var a,r,o,s;return n=i(n),o=e.AdSlotVOCollection.byIndex("element",n),Wt(o)&&o.destroy(),Gt(t)&&sn(n)?(u(),a=n.getAttribute("id"),s=n.parentNode.getAttribute("id"),r=new h({adUnit:t.adUnit,validSizes:t.size,targetingValues:t.keyValues,targetRefreshRate:_(t.reloadInterval,s),targetElement:n,targetElementId:a}),e.Config.adPageTargeting=p(e.Config.adPageTargeting),r.targetingValues.slot=y++,e[tt]([r]),gt):xt(I,"Invalid arguments for translateLegacyCreateAd")}function E(){var t=document.querySelectorAll("div[id][data-ad-sizes]"),n=ht,a=ht,r=ht,o=mt,s=mt,l=0,d=ft;if(!Gt(t))return xt(I,"No elements found designated as ad slots!");for(u(),l=t.length;l--;){if(a=i(t[l]),n=a.dataset,d=e.AdSlotVOCollection.byIndex("element",a),Wt(d)&&d.destroy(),!Gt(n)||!sn(a))return xt(I,"Invalid arguments for translateLegacyCreateAdsFromMarkup");s=a.parentNode.getAttribute("id"),o=a.getAttribute("id"),r=new h({adUnit:n.adUnit,validSizes:n.adSizes,targetingValues:n.adKeyvalues,targetRefreshRate:_(n.adReloadInterval,s),targetElement:a,targetElementId:o}),e.Config.adPageTargeting=p(e.Config.adPageTargeting),r.targetingValues.slot=y++,e[tt]([r])}return gt}function m(){return nn(Object.freeze)?(delete window.btg.DoubleClick,Object.defineProperty(window.btg,"DoubleClick",{value:{createAd:f,resetSlotCounter:n,createAdsFromMarkup:E,init:Et,setSurrogateAd:Et,refresh:g,createdAdsRefresh:g},writable:ft,configurable:gt}),Object.freeze(window.btg.DoubleClick),window.btg.DoubleClick):xt(I,"This browser does not support Object.freeze!  Legacy facade translation may receive interference.")}function T(){return nn(Object.freeze)?(delete window.btg.Controller,Object.defineProperty(window.btg,"Controller",{value:{init:Et,sendLinkEvent:r,sendPageCall:o},writable:ft,configurable:gt}),Object.freeze(window.btg.Controller),u(),window.btg.Controller):xt(I,"This browser does not support Object.freeze!  Legacy reporting facade translation may receive interference.")}function A(t){var n=t.getData()||{};if(n.omnitureEnabled&&n.unReleasedFeatureEnabled&&T(),n.pageAdsEnabled&&(y=1,m()),Kt(window,"btg.config.Omniture")){var i=window.btg.config.Omniture;if(!an(i.dynamicAccountSelection)||!Xt(i.dynamicAccountList))return ft;e.Config.omnitureConditionalAccounts=i.dynamicAccountList}return gt}function v(){return n(),Gt(window.MTVN.config)&&Gt(window.MTVN.config.btg)&&Gt(window.btg.config)?Gt(window.MTVN.config.btg.DoubleClick)&&Gt(window.btg.config.DoubleClick)?an(window.MTVN.config.btg.DoubleClick.auto)||an(window.btg.config.DoubleClick.auto)?E():(Ut(I,"Automatic ad placement is disabled in CODA, ad placement must be manually invoked."),ft):(Ut(I,"No DoubleClick-specific configuration found for CODA."),ft):(Ut(I,"Cannot find CODA run-time or default config objects."),ft)}var I=st+"LegacyAdapter - ",y=1;return window.btg=window.btg||{},window.btg.isCoreLoaded=ft,window.MTVN=window.MTVN||{},this[S]=A,this[Oe]=v,this}function p(){var t=oi;window.document.addEventListener(t.LOADED_COMPONENT,function(){}),window.document.addEventListener(t.ERROR,function(t){e.onTVEError({code:t.errorCode,message:t.errorMessage})}),window.document.addEventListener(t.CHECKED_STATUS,function(t){e.onTVEStatusCheck(t.TVESubscriber)}),window.document.addEventListener(t.LOGGED_IN,function(t){e.onTVELogin({status:t.status,mvpd:t.mvpdId})}),window.document.addEventListener(t.LOGGED_OUT,function(e){}),window.document.addEventListener(t.SELECTED_PROVIDER,function(t){e.onTVEProviderSelected({mvpd:t.mvpdId})}),window.document.addEventListener(t.PROVIDER_NOT_LISTED_BUTTON_CLICK,function(t){e.onTVEProviderNotListed()}),window.document.addEventListener(t.PROVIDER_DISPLAY,function(t){e.onTVEProviderDisplay()}),window.document.addEventListener(t.LEARN_MORE_CLICK,function(e){}),window.document.addEventListener(t.SPECIAL_PREVIEW_SELECTED,function(t){e.onTVEElvisSelected({method:t.method,mvpd:t.mvpdObj})}),window.document.addEventListener(t.SPECIAL_PREVIEW_LOGGED_IN,function(t){e.onTVEElvisLogin({method:t.method,mvpd:t.mvpdObj})}),window.document.addEventListener(t.SPECIAL_PREVIEW_EXPIRED,function(t){e.onTVEElvisExpired(t.mvpdObj)}),window.document.addEventListener(t.SPECIAL_PREVIEW_LOCKED,function(t){e.onTVEElvisLocked(t.mvpdObj)}),window.document.addEventListener(t.FREE_PREVIEW_SELECTED,function(t){e.onTVEFreePreviewSelected()}),window.document.addEventListener(t.FREE_PREVIEW_LOGGED_IN,function(t){e.onTVEFreePreviewLogin()}),window.document.addEventListener(t.FREE_PREVIEW_EXPIRED,function(t){e.onTVEFreePreviewExpired()})}function h(t){return e.AdSlotVOCollection.catalog(ni.INACTIVE,this),this.adUnit=mt,this.adUnitPath=mt,this.validSizes=[],this.targetingValues={},this.targetRefreshRate=ht,this.exclusionCategories=[],this.element=ht,this.isDisplayed=ft,this.id=mt,this.instanceIndex=e.AdSlotVOCollection.everyInstance.indexOf(this),Gt(t)&&this.setAdUnit(t.adUnit).setValidSizes(t.validSizes).setTargetingValues(t.targetingValues).setTargetRefreshRate(t.targetRefreshRate).setExclusionCategories(t.exclusionCategories).setElement(t.targetElement).setId(t.targetElementId),this}function g(e){var t=st+"StreamSense ",n=ei,i={},a=ft,r=ft,o=0,s=gt,l={},d=1,c=ht,u=ht,_=ht,p=ft,h=function(e,t){return ft},g=0,f={},E=ht,m=ht,T=ht;e&&e.getFirstItemData&&(E=e.getFirstItemData(),u=e.getPlaylistMetadata());var A=function(e,n){return e&&e.getData()?(n||Ut(t,e.getName(),e.getData()),e.getData()):{}},v=function(){return 1e3*g},I=function(e){if(!a&&Wt(window.ns_)&&Wt(window.ns_.StreamSense)){i=new ns_.StreamSense({},n.BASE_URL()+"?"+Ti.toString({c1:n.TYPEID,c2:e.comScorePrimaryID}));var o=ns_.StreamSense.PlayerEvents;h=function(e,n){var s=o[e];Ut(t+"streamTrack",s,a),n||(r=s===o.PLAY),i.notify(s,{},v())},i&&h&&(a=gt),e.feed.items.length>1&&s&&i.setPlaylist()}return Ut(t+"initStreamSense isReady",a),a},y=function(e,t){var n=A(e,gt);return n=n.adPlayhead||n.playhead,Jt(n)?(g=Math.floor(n),g=t&&0===g?.1:g):ft},S=function(c){var u,p=e.getMetadata()||{};if(Ut(t+"onPlayStart",p,a),!a||e.isInAdBreak())return ft;_=_||e.getIsLive(),r=gt,y(c),o=p.itemIndex;var g=p.hasPlaylist&&p.isFullEpisode?p.playlistDuration:p.duration;return _?p.clipTypeId=n.CLIP_LIVE:g>=n.MAX_DURATION?p.clipTypeId=n.CLIP_LONG:p.clipTypeId=n.CLIP_SHORT,l.hasOwnProperty(p.videoId)?p.partIndex=l[p.videoId]:(p.partIndex=d++,l[p.videoId]=p.partIndex),u=Di.fromMetadata(p,T,_),E.isMonolithicContent&&(u.ns_st_cl=1e3*e.getMonolithicSegDuration(),u.ns_st_tp=e.getCuePoints().length+1),i.setClip(u),h("PLAY"),s=ft,gt},P=function(e){var n=function(){Ut(t+"onResumePlay",g),y(e,gt),r=gt,h("PLAY")};Bt(m)||Date.now()-m>500?n():setTimeout(n,500)},M=function(e){y(e),Ut(t+"onPause/onSeekStart",g),m=Date.now(),h("PAUSE")},w=function(){h("END"),i.resetInstance&&i.resetInstance()},V=function(){s=gt},U=function(e){var t=y(e);return p&&(h("PLAY"),p=ft),t},x=function(e){return y(e)},F=function(e){c=A(e)},Y=function(t){e.isInAdBreak()&&h(t,gt)},H=function(){var n;return Ut(t+"onAdPlayStart"),a?(_=e.getIsLive(),void(Bt(c)||Bt(u)||(g=0,n=Di.fromAdMetadata(c,u,d,E,_),E.isMonolithicContent&&(n.ns_st_tp=e.getCuePoints().length+1),i.setClip(n),Y("PLAY"),d++))):void xt(t+"StreamSense Library is not available on the window")},G=function(){Ut(t+"onAdPlayEnd"),Y("END"),i.resetInstance&&i.resetInstance()},K=function(){Ut(t+"onAdPause"),e.isInAdPlay()&&Y("PAUSE")},q=function(){Ut(t+"onAdUnPause"),e.isInAdPlay()&&Y("PLAY")},W=function(){r&&(Ut(t+"onBufferStall starts"),h("PAUSE"),p=gt)},Z=function(e){T=A(e);var t=T.comscoreAdTracking||T.comScoreAdTracking;return t&&(f[$]=x,f[X]=F,f[j]=H,f[z]=G,f[J]=K,f[Q]=q),d=1,I(T)};return f[C]=Z,f[R]=S,f[L]=U,f[k]=V,f[O]=w,f[B]=w,f[Ae]=W,f[b]=M,f[N]=M,f[D]=P,f}function f(){function t(){return"https:"===document.location.protocol&&ti.SECURE_SUBDOMAIN+o||ti.STANDARD_SUBDOMAIN+o}function n(t){var n=t.getData()||{};return a.C3=n.comScoreC3,a.C6=n.comScoreC6,a.C15=n.comScoreC15,an(e.Config.unReleasedFeatureEnabled)&&(r[Oe]=i),gt}function i(){var e=["C1=",ti.C1,"&C2=",ti.C2,"&C3=",a.C3||ti.DEFAULT_C3,"&C4=",ti.C4,"&C5=",ti.C5,"&C6=",a.C6||ti.DEFAULT_C6,"&C15=",a.C15||ti.DEFAULT_C5].join(mt),n={url:t()+e};return pi.loadScript(n),gt}var a={},r={},o=ti.DESTINATION;return r[S]=n,r}function E(){function t(){var e=Array.prototype.slice.apply(arguments);Ft(I,e)}function n(){function t(){var t=e.AdSlotVOCollection[ni.INACTIVE];$t(t)&&!en(t)&&(clearTimeout(i),i=setTimeout(n,100))}function n(){clearTimeout(i),T(e.AdSlotVOCollection[ni.INACTIVE])}var i;window.addEventListener("focus",t,ft),window.document.addEventListener("scroll",t,ft),window.document.addEventListener(vn,t,ft)}function i(){var t=ht;return _i.set("bento-poe",gt,24),t=document.createElement("div"),t.setAttribute("style","position: absolute; visibility:hidden"),document.body.appendChild(t),{adUnit:e.Config.adUnitDefault,validSizes:ni.POE_SIZE,targetingValues:{},targetRefreshRate:0,targetElement:t}}function a(){function n(e){window.googletag.cmd.push(function(){window.googletag.pubads().setLocation(e.coords.latitude,e.coords.longitude)})}return an(e.Config.allowGeolocation)&&nn(window.navigator.getCurrentPosition)?void window.navigator.getCurrentPosition(n,t):ft}function r(){window.googletag.cmd.push(function(){var e=window.googletag.pubads();e.collapseEmptyDivs(),e.enableAsyncRendering(),e.enableSingleRequest(),e.disableInitialLoad(),window.googletag.enableServices()})}function o(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],pi.loadScript({url:_n()+ni.LIBRARY_SRC,async:gt,onError:t}),n(),a(),d(),r()}function s(e){var t=e.slot.getSlotElementId();mi.setTiming("adRendered",t),mi.generateMegaBeacon("pageAdRendered",document.getElementById(t))}function l(e){var t=e.slot.getSlotElementId();mi.setTiming("adImpression",t),mi.generateMegaBeacon("pageAdImpression",document.getElementById(t))}function d(){window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener(ni.PUBAD_EVENT_SLOT_RENDERED,s),window.googletag.pubads().addEventListener(ni.PUBAD_EVENT_IMPRESSION,l)})}function c(){var t=vi.queryStringToObject(Hn);if(Yt(e.Config.adPageTargeting)||(e.Config.adPageTargeting={}),t.hasOwnProperty(ni.TEST_MODE_TARGETING_VALUES)&&(e.Config.adPageTargeting.testmode=encodeURIComponent(t[ni.TEST_MODE_TARGETING_VALUES])),!an(e.Config.requiresCoppaCompliance)){var n=_i.read(ri.LEGACY_UUID_COOKIE);Xt(n)&&(e.Config.adPageTargeting.u=n)}window.googletag.cmd.push(function(){if(Gt(e.Config.adPageTargeting)){for(var t=e.Config.adPageTargeting,n=Object.keys(t),i=mt;i=n.shift();)Wt(t[i])&&window.googletag.pubads().setTargeting(i,t[i]);return Ut(I,"Set page-level targeting values : ",e.Config.adPageTargeting),gt}})}function u(){var t=[],n=mt;return Xt(e.Config.adExclusionCategories)?void window.googletag.cmd.push(function(){for(t=e.Config.adExclusionCategories.split(vt);n=t.shift();)window.googletag.pubads().setCategoryExclusion(n);return Ut(I,"Set page-level exclusion values : ",e.Config.adExclusionCategories),gt}):ft}function _(){return window.googletag.cmd.push(function(){window.googletag.pubads().clearTargeting(),window.googletag.pubads().clearCategoryExclusions(),Ut(I,"Previous targeting and exclusion values cleared.")}),gt}function p(e){return o(),gt}function g(){return h.count=1}function f(t){t=$t(t)?t:document.querySelectorAll(ni.MARKUP_AD_DEFINITION);for(var n,i,a=t.length,r=[];a--;)i=t[a],tn(e.AdSlotVOCollection.by.element,i)||(n=(new h).setElement(i),r.push(n));return r}function E(t){var n=[];return $t(t)||(t=[t]),t.forEach(function(t,i){var a,r,o,s;switch(gt){case t instanceof h:n.push(t);break;case sn(t):s=e.AdSlotVOCollection.byIndex("element",t),Wt(s)&&s.destroy(),a=(new h).setElement(t),n.push(a);break;case Yt(t):n.push(new h(t));break;case jt(t):o=document.querySelectorAll(t),en(o)?r=(e.AdSlotVOCollection[t]||[]).splice(0):(o=Array.prototype.slice.apply(o),r=E(o)),n.push.apply(n,r);break;default:f(),n.push.apply(n,e.AdSlotVOCollection.everyInstance)}}),n.forEach(function(e){e.validate()}),n}function m(e){e.forEach(function(e){e.refresh()})}function T(t){var n=E(t);return rn(Rn())||rn(Pn())?(Ut(I,"Ignoring refresh calls when the page is not visible or tab is not in focus."),this):(e.Config.amazonPageBiddingEnabled?Ni.getPageBids(n,function(t){return Ut(I,"Handling response from Amazon bidding."),$t(t)&&t.forEach(function(t){var n=e.AdSlotVOCollection.byIndex(ni.INDEX_ID_KEY,t.slotID);return Wt(n)?(n.targetingValues.amznbid=t.amznbid,n.targetingValues.amzniid=t.amzniid,n.addTargetingValue("amznbid",t.amznbid).addTargetingValue("amzniid",t.amzniid),void window.apstag.setDisplayBids([t.slotID])):(xt(I,"Bid targeted for un-indexed ad slot, ignoring.",t),ft)}),m(n),gt}):m(n),this)}function A(t){var n=ht;return y=e.Config.allowPOEAds&&window.navigator.cookieEnabled&&!_i.read("bento-poe"),_(),c(),u(),an(y)&&(n=i(),$t(t)||(t=[t]),t.push(n)),T(t),this}function v(e){var t=E(e);return t.forEach(function(e){e.destroy()}),this}var I=st+"DFPPageReceiver - ",y=ft;return this[S]=p,this[Oe]=g,this[tt]=A,this[nt]=T,this[it]=v,this}function m(){function t(){var e=Array.prototype.slice.apply(arguments);return Ft(o,e),ft}function n(){return Jt(s)&&(mi.setTiming("indexExchangeReceived"),e.onPageEvent({"v.hbLoadTime":cn()-s})),Ut(o,"Header bidding library has loaded."),gt}function i(){return s=cn(),Ut(o,"Requesting header bidding library at - ",e.Config.indexExchangeLibraryURL),mi.setTiming("indexExchangeRequested"),pi.loadScript({url:e.Config.indexExchangeLibraryURL,async:gt,onLoad:n,onError:t,isAppendToBody:ft}),gt}function a(){return window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){Gt(window.headertag)&&an(window.headertag.apiReady)||(window.headertag=window.googletag)}),gt}function r(){return an(e.Config.pageAdsEnabled)?Xt(e.Config.indexExchangeLibraryURL)?an(e.Config.requiresCoppaCompliance)?(t("Disabling header bidding in COPPA compliant environment"),ft):(window.headertag=window.headertag||{},i(),a(),gt):(t("No header bidding library URL has been set in the Bento.Config - Please update your Bento configuration with your header bidding library location as the 'indexExchangeLibraryURL' property."),ft):(t("Cannot use header bidding receiver without first enabling page ad support!  Use config flag `pageAdsEnabled` to set page ad support."),ft)}var o=st+"HeaderTagPageReceiver - ",s=ht;return this[S]=r,this}function T(){function e(e){var o=e.getData()||{},s=o.data,l=o.topic,d={};return n(s)?(d.data={events:[s]},d.url=i.replace("{{topic}}",l||ii.DEFAULT_TOPIC),d.contentType=r,a(d),gt):(xt(t+"Object provided to be passed to Megabeacon is not valid JSON."),ft)}var t=st+"MegabeaconPageReceiver - ",n=Ti.isValidJSON,i=ii.DESTINATION,a=gi.sendPOSTRequest,r="application/json",o={};return o[Be]=e,o}function A(){function t(t){return i=t.getData()||{},an(e.Config.unReleasedFeatureEnabled)&&(a[Oe]=n),gt}function n(){var e={ci:i.nielsenCID||ai.DEFAULT_CID,cg:_i.read(ai.VMN_UUID_COOKIE),cc:ai.DEFAULT_CC,si:escape(qn()),rp:escape(Xn()),ts:ai.DEFAULT_TS,rnd:Math.round(1e9*Math.random())},t={url:_n()+ai.DESTINATION,params:e,receiver:"NielsenPage : "};return gi.sendImageBeaconRequest(t),gt}var i,a={};return a[S]=t,a}function v(){function t(){for(var e=Gt(Y.contextData)&&Object.keys(Y.contextData)||[],t=mt,n=mt;t=G.pop();)l(t,mt);for(;n=e.pop();)delete Y.contextData[n]}function n(e){return Xt(e)||(e=Y.pageName||z.defaultPageName||Qn()),z.removePageNameSlashes&&e.charAt(0)===Tt&&(e=e.substring(1)),e}function i(e){var t=Kn();return e?e:t===Tt?X.NO_CHANNEL:t.split(Tt)[1]}function a(){return Y.getNewRepeat()}function r(e){return J.indexOf(e)>-1}function o(){return e.Config.unReleasedFeatureEnabled&&(q[be]=f,q[Oe]=E,q[Le]=T,q[Me]=A,q[we]=v,q[Ve]=I,q[Ue]=y,q[xe]=h,q[_e]=m),q[Fe]=g,q[Ge]=C,q[He]=P,q[et]=D,q[Ke]=b,q[Ye]=R,q[qe]=N,q[We]=O,q[je]=L,q[ze]=M,q[Xe]=w,q[Qe]=k,q[Je]=V,q[Ze]=U,q[$e]=x,q[rt]=F,gt}function s(){return q[be]=Et,q[Oe]=Et,q[_e]=Et,q[Le]=Et,q[Me]=Et,q[we]=Et,q[Ve]=Et,q[Ue]=Et,q[xe]=Et,q[Fe]=Et,q[Ge]=Et,q[He]=Et,q[et]=Et,q[Ke]=Et,q[Ye]=Et,q[qe]=Et,q[We]=Et,q[je]=Et,q[ze]=Et,q[Xe]=Et,q[Qe]=Et,q[Je]=Et,q[Ze]=Et,q[$e]=Et,q[rt]=Et,gt}function l(e,t){return Y[e]=t||mt,gt}function d(e){return Z(),t(),e&&(Q=e),gt}function c(e,n){return Y.trackExternalLinks=ft,$(e,"o",Hn),t(),n&&(Q=n),z.trackExternalLinks&&setTimeout(function(){Y.trackExternalLinks=gt},0),gt}function u(){var t=ht,n={};return n.cookieDomain=Jn(),n.idSyncDisable3rdPartySyncing=z.isCOPPACompliant,Y=new AppMeasurement,H=Y.contextData,Z=Y.t,$=Y.tl,Y.setAccount(z.account),mn||an(z.enableFirstPartyCookie)?Y.trackingServer=n.trackingServer=e.Environment.getCnamedDomain():e.Config.omnitureRDCenabled&&(Y.trackingServer=n.trackingServer=z.account.split(vt)[0]+ri.THIRD_PARTY_SUB_DOMAIN),un()&&(Y.ssl=gt,Y.trackingServerSecure=n.trackingServerSecure="s"+Y.trackingServer),t=Visitor.getInstance(ri.MARKETING_CLOUD_ORG_ID,n),Y.visitor=t,an(z.enableVisitorNamespace)&&(Y.visitorNamespace=ri.VISITOR_NAMESPACE),Xt(e.Config.omnitureConditionalAccounts)?(Y.dynamicAccountSelection=gt,Y.dynamicAccountList=e.Config.omnitureConditionalAccounts):Y.dynamicAccountSelection=ft,gt}function _(t){var n=t.getData();return Xt(n.omnitureAccount)?(z={account:n.omnitureAccount,franchise:n.omnitureFranchise,indexFileName:n.omnitureIndexFileName,defaultPageName:n.omnitureDefaultPageName,isCOPPACompliant:n.requiresCoppaCompliance,defaultHierarchy:n.omnitureDefaultHierarchy,removePageNameSlashes:n.omnitureRemovePageSlashes,enableVisitorNamespace:n.omnitureEnableVisitorNamespace,enableFirstPartyCookie:n.omnitureEnableFirstPartyCookie,enableLinkCallPrediction:n.omnitureEnableLinkCallPrediction},W={},e.addEventToWaitQueueIfDomNotLoaded({callbackObject:q,callback:p})?void 0:(p(),gt)):(Ft(B,"Provided no Omniture account in configuration, Omniture will not be made available."),s(),ft)}function p(){t(),o(),u()}function h(e){var t=Gt(j.unassigned)&&Object.keys(j.unassigned)||ft,n=mt;if(K=e.getData().namespace||ft,!t)return gt;for(j.namespaced=j.namespaced||{};n=t.pop();)j.namespaced[K+n]=j.unassigned[n];return gt}function g(e){var t=e.getData()||{},n=t.name,i=t.value;if(!n)return ft;switch(gt){case r(n):j[n]=i;break;case Xt(K):j.namespaced=j.namespaced||{},j.namespaced[K+n]=i;break;default:j.unassigned=j.unassigned||{},j.unassigned[n]=i}return gt}function f(){}function E(e){var t=e&&e.getData()||{},r=n(t.pageName),o=Object.keys(t)||[],s=j.namespaced&&Object.keys(j.namespaced)||[],c=mt,u={franchise:X.NO_FRANCHISE,category:X.NO_CATEGORY,channel:X.NO_CHANNEL};for(J.forEach(function(e){if(!Xt(j[e])&&"pageName"!==e){if("channel"===e)return j.channel=i(t.channel);j[e]=t[e]||u[e]}}),t.activity?H[X.ACTIVITY_CONTEXT]=t.activity:H[X.ACTIVITY_CONTEXT]=X.PAGE_VIEW_ACTIVITY,l(X.PAGENAME_PROPERTY,r),H[X.CHANNEL_CONTEXT]=j.channel,H[X.FRANCHISE_CONTEXT]=j.franchise,H[X.CATEGORY_CONTEXT]=j.category,H[X.UUID_CONTEXT]=_i.read(X.LEGACY_UUID_COOKIE)||X.NO_UUID,H[X.PAGE_VIEW_CONTEXT]=gt,H[X.SITE_ID_CONTEXT]=window.location.hostname,H[X.THIRD_PARTY_CONTEXT]=!_i.read(X.THIRD_PARTY_COOKIE),H[X.REPEAT_USER_CONTEXT]=a(),H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.DAY_OF_WEEK_CONTEXT]=BentoNowUtility.getOmnitureDayOfTheWeek(),H[X.HOUR_OF_DAY_CONTEXT]=BentoNowUtility.getOmnitureTimeWithAbbreviation();c=o.pop();)Y[c]=t[c];for(;c=s.pop();)H[c]=j.namespaced[c];return d(r),gt}function m(e){for(var t=e.getData(),n=Object.keys(t),i=X.PAGE_EVENT_ACTIVITY,a={};a=n.pop();)switch(gt){case a===X.LINK_NAME_PROPERTY:i=t[a];break;case-1!==a.indexOf(X.VIACOM_CONTEXT_NAMESPACE):H[a]=t[a];break;default:Y[a]=t[a]}return c(i),gt}function T(e){}function A(e){}function v(e){var t=e.getData()||{},a=t.franchise||j.franchise,r=t.channel||j.channel,o=t.success,s=t.suggestionHappened,c=t.suggestionClicked,u=t.typeAheadClicked,_=t.searchTerm,p=n(t.pageName);return l(X.PAGENAME_PROPERTY,p),qt(o)?H[X.SEARCH_RESULT_CONTEXT]=X.GENERIC_NOT_SET:H[X.SEARCH_RESULT_CONTEXT]=o&&X.SUCCESS||X.FAILED,qt(s)||rn(s)?H[X.SEARCH_DID_YOU_MEAN_CONTEXT]=X.NO_SEARCH_DID_YOU_MEAN:H[X.SEARCH_DID_YOU_MEAN_CONTEXT]=c&&X.YES+vt+X.YES||X.YES+vt+X.NO,qt(u)?H[X.SEARCH_TYPEAHEAD_CONTEXT]=X.NO_SEARCH_TYPEAHEAD:H[X.SEARCH_TYPEAHEAD_CONTEXT]=u&&X.CONTEXT_VALUE_TRUE||X.CONTEXT_VALUE_FALSE,H[X.LAST_PAGENAME_CONTEXT]=Q||X.NOT_APPLICABLE,H[X.FRANCHISE_CONTEXT]=a||X.NO_FRANCHISE,H[X.CHANNEL_CONTEXT]=i(r),H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.PAGE_VIEW_CONTEXT]=gt,H[X.UUID_CONTEXT]=_i.read(X.LEGACY_UUID_COOKIE)||X.NO_UUID,H[X.SEARCH_TERM_CONTEXT]=_||X.NO_SEARCH_TERM,H[X.ACTIVITY_CONTEXT]=X.SEARCH_ACTIVITY,d(p),gt}function I(e){var t=e.getData()||{},a=t.franchise||j.franchise,r=t.channel||j.channel,o=t.success,s=n(t.pageName);return l(X.PAGENAME_PROPERTY,s),H[X.LAST_PAGENAME_CONTEXT]=Q||X.NOT_APPLICABLE,H[X.FRANCHISE_CONTEXT]=a||X.NO_FRANCHISE,H[X.CHANNEL_CONTEXT]=i(r),H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.UUID_CONTEXT]=_i.read(X.LEGACY_UUID_COOKIE)||X.NO_UUID,H[X.SEARCH_CONVERSION_CONTEXT]=o&&X.CONTEXT_VALUE_TRUE||X.CONTEXT_VALUE_FALSE,H[X.ACTIVITY_CONTEXT]=X.SEARCH_CONVERSION_ACTIVITY,c(X.SEARCH_CONVERSION_ACTIVITY),gt}function y(e){}function C(e){var t=e.getData()||{};return Gt(t.provider)&&(W.providerName=t.provider.displayName||t.provider.id),H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.TVE_USER_STATUS_CONTEXT]=t.isLoggedIn&&X.AUTHENTICATED_TVE_USER||X.UNAUTHENTICATED_TVE_USER,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.ACTIVITY_CONTEXT]=X.TVE_AUTH_CHECK_ACTIVITY,c(X.TVE_AUTH_CHECK_ACTIVITY),gt}function P(e){var t=e.getData()||{},a=t.channel||j.channel,r=n(t.pageName);return W.mostRecentLoginStep=X.ERROR_TVE_STEP,l(X.PAGENAME_PROPERTY,r),H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.CHANNEL_CONTEXT]=i(a),H[X.TVE_ERROR_CODE_CONTEXT]=t.code||X.NO_TVE_ERROR_CODE,H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.ACTIVITY_CONTEXT]=X.TVE_ERROR_ACTIVITY,c(X.TVE_ERROR_ACTIVITY,r),gt}function R(){var e=j.pageName||n();return l(X.PAGENAME_PROPERTY,e),W.mostRecentLoginStep=X.WELCOME_SCREEN_TVE_STEP,H[X.CHANNEL_CONTEXT]=i(j.channel),H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.ACTIVITY_CONTEXT]=X.TVE_WELCOME_SCREEN_ACTIVITY,H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,c(X.TVE_WELCOME_SCREEN_ACTIVITY,e),gt}function D(){var e=n();return W.mostRecentLoginStep=X.LOGIN_START_TVE_STEP,l(X.PAGENAME_PROPERTY,e),H[X.CHANNEL_CONTEXT]=i(j.channel),H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.ACTIVITY_CONTEXT]=X.TVE_LOGIN_START_ACTIVITY,c(X.TVE_LOGIN_START_ACTIVITY,e),gt}function N(e){var t=e.getData()||{},a=t.mvpd,r=t.channel||j.channel,o=n(t.pageName);return W.mostRecentLoginStep=X.PROVIDER_SELECTED_TVE_STEP,Xt(a)&&(W.providerName=a),l(X.PAGENAME_PROPERTY,o),H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.CHANNEL_CONTEXT]=i(r),H[X.ACTIVITY_CONTEXT]=X.TVE_PROVIDER_SELECTED_ACTIVITY,H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),c(X.TVE_PROVIDER_SELECTED_ACTIVITY,o),gt}function b(e){var t=e.getData()||{},a=t.mvpd,r=t.channel||j.channel,o=n(t.pageName);return W.mostRecentLoginStep=X.SUCCESSFUL_LOGIN_TVE_STEP,Xt(a)&&(W.providerName=a),H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.CHANNEL_CONTEXT]=i(r),H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.TVE_USER_STATUS_CONTEXT]=X.AUTHENTICATED_TVE_USER,H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.ACTIVITY_CONTEXT]=X.TVE_LOGIN_COMPLETE_ACTIVITY,c(X.TVE_LOGIN_COMPLETE_ACTIVITY,o),gt}function O(){var e=n(),t=j.channel;return W.mostRecentLoginStep=X.PROVIDER_NOT_LISTED_TVE_STEP,l(X.PAGENAME_PROPERTY,e),H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.CHANNEL_CONTEXT]=i(t),H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.ACTIVITY_CONTEXT]=X.TVE_PROVIDER_NOT_LISTED_ACTIVITY,c(X.TVE_PROVIDER_NOT_LISTED_ACTIVITY,e),gt}function L(e){var t=e.getData()||{},a=t.channel||j.channel,r=n(t.pageName);return l(X.PAGENAME_PROPERTY,r),Gt(t.mvpd)&&(W.providerName=t.mvpd.displayName||t.mvpd.id),Xt(t.method)?(W.mostRecentLoginStep=X.SOCIAL_LOGIN_SELECTED_TVE_STEP.replace(/{METHOD}/,t.method),H[X.TVE_SOCIAL_METHOD_CONTEXT]=t.method):(W.mostRecentLoginStep=X.SOCIAL_LOGIN_SELECTED_TVE_STEP.replace(/{METHOD}/,X.NO_TVE_SOCIAL_METHOD),H[X.TVE_SOCIAL_METHOD_CONTEXT]=X.NO_TVE_SOCIAL_METHOD),H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.CHANNEL_CONTEXT]=i(a),H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.ACTIVITY_CONTEXT]=X.TVE_SOCIAL_LOGIN_SELECTED_ACTIVITY,c(X.TVE_SOCIAL_LOGIN_SELECTED_ACTIVITY,r),gt}function M(e){
var t=e.getData()||{},a=t.channel||j.channel,r=n(t.pageName);return l(X.PAGENAME_PROPERTY,r),Gt(t.mvpd)&&(W.providerName=t.mvpd.displayName||t.mvpd.id),Xt(t.method)?(W.mostRecentLoginStep=X.SOCIAL_LOGIN_SUCCEEDED_TVE_STEP.replace(/{METHOD}/,t.method),H[X.TVE_SOCIAL_METHOD_CONTEXT]=t.method):(W.mostRecentLoginStep=X.SOCIAL_LOGIN_SUCCEEDED_TVE_STEP.replace(/{METHOD}/,X.NO_TVE_SOCIAL_METHOD),H[X.TVE_SOCIAL_METHOD_CONTEXT]=X.NO_TVE_SOCIAL_METHOD),H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.CHANNEL_CONTEXT]=i(a),H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TVE_USER_STATUS_CONTEXT]=X.ELVIS_AUTHENTICATED_USER,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.ACTIVITY_CONTEXT]=X.TVE_SOCIAL_LOGIN_SUCCEEDED_ACTIVITY,c(X.TVE_SOCIAL_LOGIN_SUCCEEDED_ACTIVITY,r),gt}function w(e){var t=e.getData()||{},a=t.channel||j.channel,r=n(t.pageName);return l(X.PAGENAME_PROPERTY,r),W.mostRecentLoginStep=X.SOCIAL_LOGIN_EXPIRED_TVE_STEP,Gt(t.mvpd)&&(W.providerName=t.mvpd.displayName||t.mvpd.id),H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.CHANNEL_CONTEXT]=i(a),H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TVE_USER_STATUS_CONTEXT]=X.ELVIS_EXPIRED_USER,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.ACTIVITY_CONTEXT]=X.TVE_SOCIAL_LOGIN_EXPIRED_ACTIVITY,H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,c(X.TVE_SOCIAL_LOGIN_EXPIRED_ACTIVITY,r),gt}function k(e){var t=e.getData()||{},a=n(j.pageName);return l(X.PAGENAME_PROPERTY,a),W.mostRecentLoginStep=X.SOCIAL_LOGIN_LOCKED_TVE_STEP,Gt(t.mvpd)&&(W.providerName=t.mvpd.displayName||t.mvpd.id),H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.CHANNEL_CONTEXT]=i(j.channel),H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TVE_USER_STATUS_CONTEXT]=X.ELVIS_LOCKED_USER,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.ACTIVITY_CONTEXT]=X.TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY,c(X.TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY,a),gt}function V(){var e=n(j.pageName);return l(X.PAGENAME_PROPERTY,e),W.mostRecentLoginStep=X.TWENTY_FOUR_HOUR_SELECTED_TVE_STEP,H[X.CHANNEL_CONTEXT]=i(j.channel),H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.TVE_MVPD_CONTEXT]=W.providerName||X.NO_TVE_PROVIDER,H[X.ACTIVITY_CONTEXT]=X.TVE_TWENTY_FOUR_HOUR_PREVIEW_SELECTED_ACTIVITY,H[X.UUID_CONTEXT]=_i.read(X.LEGACY_UUID_COOKIE)||X.NO_UUID,c(X.TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY,e),gt}function U(){return W.mostRecentLoginStep=X.TWENTY_FOUR_HOUR_LOGIN_TVE_STEP,Xt(W.providerName)?H[X.TVE_MVPD_CONTEXT]=X.TVE_TWENTY_FOUR_HOUR_MVPD.replace(/{PROVIDER}/,W.providerName):H[X.TVE_MVPD_CONTEXT]=X.NO_TVE_PROVIDER,H[X.ACTIVITY_CONTEXT]=X.TVE_TWENTY_FOUR_HOUR_PREVIEW_LOGIN_ACTIVITY,H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TVE_USER_STATUS_CONTEXT]=X.TWENTY_FOUR_HOUR_LOGGED_IN_USER,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),c(X.TVE_TWENTY_FOUR_HOUR_PREVIEW_LOGIN_ACTIVITY),gt}function x(){return W.mostRecentLoginStep=X.TWENTY_FOUR_HOUR_EXPIRED_TVE_STEP,Xt(W.providerName)?H[X.TVE_MVPD_CONTEXT]=X.TVE_TWENTY_FOUR_HOUR_MVPD.replace(/{PROVIDER}/,W.providerName):H[X.TVE_MVPD_CONTEXT]=X.NO_TVE_PROVIDER,H[X.ACTIVITY_CONTEXT]=X.TVE_TWENTY_FOUR_HOUR_PREVIEW_EXPIRED_ACTIVITY,H[X.FRANCHISE_CONTEXT]=j.franchise||X.NO_FRANCHISE,H[X.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[X.TVE_USER_STATUS_CONTEXT]=X.TWENTY_FOUR_HOUR_EXPIRED_USER,H[X.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),c(X.TVE_TWENTY_FOUR_HOUR_PREVIEW_EXPIRED_ACTIVITY),gt}function F(e){var t=e.getData().status;H[X.AD_BLOCK_STATUS]=t.toString(),c(X.AD_BLOCK_STATUS)}var B=st+"OmniturePageReceiver - ",Y={},H=ht,G=[],K=ft,q={},W={},j={},z=ht,X=ri,Q=mt,J=["franchise","category","channel","pageName"],Z=Et,$=Et;return q[S]=_,q.clearInstancValuesAndSetupAppmeasurement=p,s(),q}function I(){function t(t){return o=window._sp_,Gt(o)&&nn(o.isAdBlocking)?(o.isAdBlocking(function(n){return nn(t)&&t(n),rn(n===_)&&(e[rt](n),Ut(r,"Notifying receivers that ad blocking status has updated, new status - ",n)),_=n,Ut(r,"Saving new ad block status - ",_),an(_)&&(e[ke](),Ut(r,"Ad blocker detected as currently active.")),gt}),gt):rn(i(t))&&nn(t)?t(ft):ft}function n(e){return e=e||Et,Bt(_)?void t(function(t){return e(t)}):e(_)}function i(e){return d++,c>=d?(Ut(r,"SourcePoint library is not fully instantiated, checking back after a few seconds."),setTimeout(t.bind(this,e),1e3*u),gt):(xt(r,"isAdBlocking method not found!"),d=0,ft)}function a(){return t(),!l&&Gt(o)&&nn(o.pageChange)?(o.pageChange(),gt):(l=ft,ft)}var r=st+"SourcePointPageReceiver - ",o=window._sp_,s={},l=gt,d=0,c=30,u=1,_=ht,p="getAdBlockingStatus",h="updateAdBlockingStatus";return s[Oe]=a,s[p]=n,s[h]=t,s}e.version="1.13.3";var y="onPlayerFeedLoaded",S="onConfigReady",C="onPlayerConfigReady",P="onMetadata",R="onPlayStart",D="onResumePlay",N="onPause",b="onSeekStart",O="onPlayEnd",L="onPlayheadUpdate",M="onPlayIndexChanged",w="onFullScreenChange",k="onPlaylistComplete",V="onUiStateChange",U="onVolumeChange",x="onMute",F="onUnMute",B="onDestroy",Y="onAdError",H="onAdTimeout",G="onIsTimeForAnAd",K="onAdLoaded",q="onAdPodPlayStart",W="onAdPodPlayEnd",j="onAdPlayStart",z="onAdPlayEnd",X="onAdMetadata",Q="onAdUnPause",J="onAdPause",Z="onAdClick",$="onAdPlayheadUpdate",ee="onAdBridgeReady",te="onAdBridgeMultiLoaded",ne="onAdRenderer",ie="onAdRequested",ae="onAdRequestCompleted",re="onAdBreakTimeout",oe="onAdStop",se="onAdManagerDestroyed",le="onAdBreakReady",de="onAdBreakNotAvailable",ce="onAdSkipped",ue="onAdPlayRequest",_e="onPageEvent",pe="onAAMDataReady",he="onVMNUUID",ge="onDemdexSegment",fe="onADMSTrackingServer",Ee="onUserSegment",me="onADMSVisitorID",Te="onReplay",Ae="onBufferStall",ve="onPlayerResize",Ie="onWindowResize",ye="onImaJsSdkLoaded",Se="onImaJsSdkLoadError",Ce="onAdsManagerReady",Pe="onContentResumeRequested",Re="onAdBufferStart",De="onAdBufferStop",Ne="onReportAdError",be="onDestroyPage",Oe="onNewPage",Le="onShare",Me="onFavorite",we="onSearch",ke="onAdBlocking",Ve="onSearchConversion",Ue="onDeepLink",xe="setCustomReportingNamespace",Fe="onCustomData",Be="sendMegabeaconData",Ye="onTVEWelcome",He="onTVEError",Ge="onTVEStatusCheck",Ke="onTVELogin",qe="onTVEProviderSelected",We="onTVEProviderNotListed",je="onTVEElvisSelected",ze="onTVEElvisLogin",Xe="onTVEElvisExpired",Qe="onTVEElvisLocked",Je="onTVEFreePreviewSelected",Ze="onTVEFreePreviewLogin",$e="onTVEFreePreviewExpired",et="onTVEProviderDisplay",tt="placeAds",nt="refreshAds",it="destroyAds",at="onReportAdSkipped",rt="onAdBlockingStatusUpdate",ot="onPlayerSeamlessMode",st="[Bento] ",lt="object",dt="function",ct="string",ut="number",_t="boolean",pt="undefined",ht=null,gt=!0,ft=!1,Et=function(){},mt="",Tt="/",At="&",vt=",",It="#",yt=".",St="?",Ct="=",Pt=":",Rt=";",Dt=" ",Nt="+",bt="|",Ot="-",Lt="_",Mt="{}",wt="x",kt=new RegExp("^w+\\d*\\.","gim"),Vt=function(){return e.Config&&e.Config.debugMode},Ut=function(){return Vt()&&console.log.apply(console,arguments)},xt=function(){return Vt()&&console.warn.apply(console,arguments)},Ft=function(){return Vt()&&console.error.apply(console,arguments)},Bt=function(e){return e===ht},Yt=function(e){return typeof e===lt},Ht=function(e){return Yt(e)&&0===Object.keys(e).length},Gt=function(e){return typeof e===lt&&e!==ht},Kt=function(e,t){for(var n=t.split(yt);t=n.shift();)if(qt(e=e[t])||!Yt(e)&&n.length)return ft;return gt},qt=function(e){return typeof e===pt},Wt=function(e){return!qt.apply(this,arguments)},jt=function(e){return typeof e===ct},zt=function(e,t){return typeof e===ct&&-1!==e.indexOf(t)},Xt=function(e){return typeof e===ct&&e!==mt},Qt=function(e,t){return Xt(e)?e:t},Jt=function(e){return typeof e===ut&&e===e},Zt=function(e){return typeof e===_t},$t=function(e){return Array.isArray(e)},en=function(e){return 0===e.length},tn=function(e,t){if($t(e)&&Wt(t)&&Wt(t.nodeType)){var n=ft;return e.forEach(function(e){Wt(e.id)&&e.id===t.id&&(n=gt)}),n}return $t(e)&&-1!==e.indexOf(t)},nn=function(e){return typeof e===dt},an=function(e){return e===gt||"true"===e},rn=function(e){return e===ft||"false"===e},on=function(e){return e instanceof RegExp},sn=function(e){return e instanceof HTMLElement},ln=function(e,t){return Wt(e)?e:t},dn=nn(Date.now)?Date.now:function(){return(new Date).getTime()},cn=function(){return!qt(window.performance)&&window.performance.now()||ht},un=function(){return Yt(e.Config)&&(an(e.Config.enableSecureMode)||qt(e.Config.enableSecureMode))},_n=function(){return un()?"https://":"http://"},pn=_n()+"btg.mtvnservices.com/aria/miso/miso.1.4.19.swf",hn=ft,gn=ft,fn=ft,En=ft,mn=ft,Tn=ft,An=ft,vn=document.msHidden&&"msvisibilitychange"||document.webkitHidden&&"webkitvisibilitychange"||"visibilitychange",In="com.br,co.uk,co.hu,co.il,com.tr,com.pl,com.ru,co.kr,com.au,co.nz,com.tw",yn="Network Player",Sn=function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return gt}catch(t){return navigator.mimeTypes&&!qt(navigator.mimeTypes["application/x-shockwave-flash"])&&!qt(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)&&gt}return ft},Cn=function(t){return t&&t.isMobilePlatform?ft:e.Config.useHTML5VideoAdsOnDesktop||e.Config.useHTML5VideoAdsOnDesktopSafari&&En?ft:Sn()?gt:ft},Pn=(typeof navigator===lt&&navigator.userAgent&&/Android|iPhone|iPad|iPod|IEMobile|Opera Mini|BlackBerry/i.test(navigator.userAgent),function(){var e=document.msHidden&&"msHidden"||document.webkitHidden&&"webkitHidden"||"hidden";return Zt(document[e])?!document[e]:Rn()}),Rn=function(){return nn(window.document.hasFocus)?window.document.hasFocus():gt},Dn="0px",Nn="px",bn="absolute",On="visible",Ln="hidden",Mn="none",wn=".pjs.bento-hide-gui .edge-gui, .edge-player.bento-hide-gui .pjs-gui { display: none; }",kn=".edge-player .edge-gui-ad-metadata { display: none; }",Vn="bento-hide-gui",Un="fw-div-bento-position",xn=".fw-div-bento-position { position: absolute; z-index: 0; height: 100%; width: 100%; display: block; }",Fn=".edge-player-ads-element { height: 100% !important; width: 100% !important; }",Bn=".bento-disable-clicks { pointer-events: none; }",Yn="bento-disable-clicks",Tn=ft,Hn=window.location!==window.parent.location?document.referrer:window.top.document.location.href,Gn=function(){return Math.random().toString(36).slice(2)},Kn=function(){return window.location.pathname||Tt},qn=function(){return window.location.href},Wn=function(){return window.location.search||St},jn=function(){return document.cookie},zn=function(e){document.cookie=e},Xn=function(){return document.referrer},Qn=function(){return document.title},Jn=function(){return window.location.host.replace(kt,mt)},Zn=function(){return document.readyState};e.AdVars={VIDEO_PLAYED_TIME:"mtvn_btg_videoPlayedTime",LAST_PLAYTIME_CODE:"mtvn_btg_lastPlayTimeCode",AMAZON_PUB_ID:3221,AD_BRIDGE_ID:"_BENTO_AD_BRIDGE-ima-ad",AD_PLACE_HOLDER_ID:"fw_placeholder",AD_BRIDGE_FAILURE_EVENT:"event101",AD_REQUEST_FAILURE_EVENT:"event102",AD_SWF_NOTLOADED_EVENT:"event103",BROWSER_DISRUPTS_PLAYBACK:"event130",NO_AD_ID:"NO_AD_ID",NO_AD_TYPE:"NO_AD_TYPE",NO_CREATIVE_ID:"NO_CREATIVE_ID",NO_CREATIVE_DURATION:"NO_CREATIVE_DURATION",NO_POD_DURATION:"NO_POD_DURATION",NO_POD_ID:"NO_POD_ID",NO_AD_INDEX:"NO_AD_INDEX",NO_AD_COUNT:"NO_AD_COUNT",PLAYER_AD_INDEX_PLACEHOLDER:"<%= currentAdIndex %>",PLAYER_AD_COUNT_PLACEHOLDER:"<%= adCount %>"},e.AppMeasureVars={URL_LIMIT:1024,DEFAULT_ITEM_INDEX:0,VISITOR_NAMESPACE:"mtvn",TRAFFIC_VAR_LIMIT:75,MIN_DURATION:30,MAX_DURATION:120,NETWORK_PATH:"video/net/",SYNDICATED_PATH:"video/syn/",VIRAL_PATH:"video/syn/",VIDEOAD_TITLE:"VIDEO_AD|",VIDEOITEM_EVENT:"event15",ADITEM_EVENT:"event29",PLAYLIST_START:"event24",BUFFER_EVENT:"event25",PLAYLIST_DURATION:"event26",PLAYLIST_LENGTH:"event28",SINGLECLIP_EVENT:"event50",PLAYLIST_EVENT:"event49",FRANCHISE_TITLE:"prop35",EVENTS:"events",PRODUCTS:"products",SEMICOLONS:";;;;",PLAYLIST_ITEM:"PLAYLIST",SINGLECLIP_ITEM:"SINGLECLIP",MEDIA_NAME:"eVar33,prop50",MEDIA_TIMEPLAYED:"event78",MEDIA_COMPLETE:"event76",MEDIA_SEGMENTVIEW:"event77",MEDIA_SEGMENTEVAR:"eVar56",MEDIA_SEGMENTEVAR_DEMDEX:"evar57eventsproductspagenamehier",MEDIA_PLAYLIST_COMPLETE:"event89",DURATION_EVENT:"event46",AD_START_EVENT:"event71",AD_END_EVENT:"event72",AD_BUMPER_START_EVENT:"event31",AD_BUMPER_END_EVENT:"event32",AD_TIME_SPENT:"event73",AD_POD_ID:"eVar38,prop54",AD_CREATIVE_ID:"eVar37,prop53",AD_POD_ITEMS:"eVar39,prop55",AD_VIDEO_TITLE:"Ad Play",LIVE_BEACON_FREQ:180,LIVE_FREQ_MAX:180,LIVE_FREQ_MIN:60,LIVE_DURATION:86400,LIVE_EVENT_START_PLAYHEAD:432e4,VMN_UUID_COOKIE:"vmn_uuid",USER_SEG_CATEGORY:"User Segment;",DEFAULT_TRACK_SECONDS:60,LOCKED:"Locked",UNLOCKED:"Unlocked",TRACKED98:"tracked98",TRACKED50:"tracked50",TRACKED:"tracked",DEFAULT_VARS:{pageName:"pageName",eVar26:"franchise",eVar27:"mtvnOwner",eVar28:"mediaCategory",eVar29:"artistName",eVar30:"applicationOrigin",eVar31:"applicationName",eVar32:"applicationContext",eVar33:"videoTitle",eVar34:"playlistTitle",eVar48:"tveAuthStatus",eVar56:"segmentName",eVar66:"playlistId",events:"events",products:"products",prop35:"mediaTitle",prop36:"franchise",prop38:"mtvnOwner",prop43:"playlistTitle",prop45:"mediaCategory",prop46:"artistName",prop47:"applicationOrigin",prop48:"applicationName",prop49:"applicationContext",prop50:"videoTitle",prop1:"agreement",prop3:"agreementId",prop30:"guid",eVar57:"vmnUUID",prop31:"userSegment",prop66:"playlistId",eVar71:"linearPubDate",eVar72:"episodeN",eVar73:"seasonN",prop59:"linearPubDate",prop60:"episodeN",prop61:"seasonN"},DEFAULT_AD_VARS:{eVar37:"creativeId",prop53:"creativeId",eVar38:"podId",prop54:"podId",eVar39:"currentAdIndex",prop55:"currentAdIndex"},DEFAULT_NETWORK_PLAYER_NAME:"NETWORK_PLAYER",DEFAULT_VIRAL_PLAYER_NAME:"VIRAL_PLAYER",DEFAULT_PARTNER_PLAYER_NAME:"PARTNER_PLAYER",NO_VID_TITLE:"NO_VID_TITLE",POD_START_EVENT:"event70",POD_COMPLETE_EVENT:"event75",NO_APPLICATION_NAME:"NAME_UNSET",NO_APPLICATION_CONTEXT:"CONTEXT_UNSET",NO_APPLICATION_ORIGIN:"ORIGIN_UNSET",TVE_AUTH_USER:"TVE Authenticated User",GUEST_USER:"Guest User",TVE_GUEST_TO_AUTH:"event42",TVE_AUTH_TO_GUEST:"event43",TVE_USER_AUTH_CHECK_SUCCESS:"event56",AD_PLAY_REQUEST_TIMEOUT:"event106",AD_BREAK_START_TIMEOUT:"event107",AD_STARTED_TIMEOUT:"event108",INTRA_AD_TIMEOUT:"event109",AGGREGATE_TIMEOUT:"event110",BENTO_CONFIG_NOT_AVAILABLE:"event111",HEART_BEAT_TRACKING_SERVER:"mtv.hb.omtrdc.net",MARKETING_CLOUD_ORG_ID:"ED7001AC512D2ABD0A490D4C@AdobeOrg",FULL_EPISODE_START_ACTIVITY:"fepStart",CLIP_START_ACTIVITY:"clipStart",SEGMENT_START_ACTIVITY:"segmentStart",SEGMENT_END_ACTIVITY:"segmentComplete",EPISODE_END_ACTIVITY:"fepComplete",CLIP_END_ACTIVITY:"clipComplete",ACTIVITY_CONTEXT_VARIABLE:"v.activity",MID_CONTEXT_VARIABLE:"v.mid",SEAMLESS_CONTEXT_VARIABLE:"v.seamlessEnabled",STREAM_TYPE_VOD:"VOD",STREAM_TYPE_LIVE:"LIVE"},e.ComscoreVars={BEACON_URL:"//beacon.securestudies.com/scripts/beacon.dll",BEACON_TYPEID:"1",VIDEOAD_TITLE:"VIDEO_AD",VIDEOAD_GENREID:"01",CONTENT_GENREID:"03",RND_KEY:"rn",PARAM_LIMIT:512,URL_LIMIT:2080},e.DemdexVars={DEMDEX_URL:function(){return _n()+"mtvn.demdex.net/"}},e.ErrorCode={INFO:30,WARN:40,ERROR:50},e.FreewheelVars={URL:function(){return _n()+"140cc.v.fwmrm.net/ad/g/1?nw={0}&prof={0}:{1}&flag=+sltp+exvt+slcb+unka+unks;"},URL_INT:function(){return _n()+"2ab7f.v.fwmrm.net/ad/g/1?nw={0}&prof={0}:{1}&flag=+sltp+exvt+slcb+unka+unks;"},URL_INT_TEST:"//293a7.v.fwmrm.net/ad/g/1?nw={0}&prof={0}:{1}&flag=+sltp+exvt+slcb+unka+unks;",LAST_GUID_PLAYED:"mtvn_btg_lastGUIDPlayed",LAST_PLAYLIST_URI_PLAYED:"mtvn_btg_lastPlaylistURIPlayed",MINTIME_BTW_ADS:10,QC_DEMO_VALUE:"vmn_btg_qcdemotargetting",FRONT_BUMPER_KEY:"_fw_front_bumper",END_BUMPER_KEY:"_fw_end_bumper",ARA_KEY:"_fw_ara",FSS_KEY:"_fw_fss",FSS_VALUE:"_fw_search",DEMDEX_SEGMENT:"mtvn_demdex_segment",VMN_UUID:"vmnUUID",DEF_CLIP_TIME:180,NETWORK_ID:82125,NETWORK_ID_TEST:82124,NETWORK_ID_INTL:174975,NETWORK_ID_INTL_TEST:168871,PROFILE_ID:"EdgeHTML5",PROFILE_ID_AS3:"EdgeAS3",PROFILE_ID_HTLM5_DESKTOP:"EdgeHTML5Desktop",DEF_MIN_TIME_FOR_ADS:0,DEF_SITE_SECTION:"viacom_default",DEF_MOB_SITE_SECTION:"viacom_default_mob",INTL_DEFAULT_ASSET_ID:41349526,MOB_SID_SUFFIX:"_mob",TAB_SID_SUFFIX:"_tab",INIT_AD_INDEX:1,PLAYLIST_KEY:"playlist",VPAID_AD:"VPAID",AUTHENTICATING_ENTITY:"_fw_ae",AUTHORIZATION_REQUIRED:"_vmn_ar",DEBUG_MODE:"fwdebug",OVERRIDE_NETWORK_ID:"fwid",OVERRIDE_PROFILE_ID:"fwprof",OVERRIDE_SSID:"fwssid",OVERRIDE_MGID:"fwcaid",TSLA:"tsla",ENTIRE_URL:"_fw_h_referer",AD_SERVER_AS3:function(){return _n()+"140cc.v.fwmrm.net/"},INTL_AD_SERVER_AS3:function(){return _n()+"2ab7f.v.fwmrm.net/"},FW_BRIDGE_ID:"freewheelBridge",DISPLAY_BASE:"video-player",PREROLL:"preRoll",MIDROLL:"midRoll",POSTROLL:"postRoll",OVERLAY:"overlay",VPAID_CLICK_DIV:"sauron_stage",FW_CUSTOMER_VISITOR_ID:"customVisitorId",VMN_UUID_COOKIE:"vmn_uuid",FW_DID_IDFA:"_fw_did_idfa",FW_DID_GOOGLE_ADVERTISING_ID:"_fw_did_google_advertising_id",FW_DESIRED_BITRATE_KEY:"desiredBitrate",FW_TEN_MINUTES_IN_SEC:600,FW_BRIDGE_PLACEHOLDER_ID:"fw_placeholder",FW_PRELOAD_AD_SLOT_BEFORE_TIME:10,FW_BANDWIDTH_KEY:"fw_bandwidth",FW_MINIMUM_BITRATE:600,FW_MAXIMUM_BITRATE_MOBILE:2e3,FW_MAXIMUM_BITRATE_DESKTOP:2500,FW_MAXIMUM_BITRATE_DESKTOP_BY_DIMENSIONS:1638,FW_BITRATE_MOBILE_WIFI_BY_DIMENSIONS:1536,FW_PRELOAD_BITRATE_RANGE_0_800:4,FW_PRELOAD_BITRATE_RANGE_800_1000:3,FW_PRELOAD_BITRATE_RANGE_1000_5000:5,FW_PRELOAD_BITRATE_RANGE_GT_5000:10,FW_FLASH_DISABLED_EVENT:"event104",FW_AD_BRIDGE_MULTI_LOADED_EVENT:"event105",FW_DEMDEX_FW_SEGMENT:"demdexFW",VIDEO_ID_KEY:"vid"},e.IMAVars={SDK_URL:"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js",CONTAINER_ID:"-ima-ad",VIDEO_TAG_URL:"//pubads.g.doubleclick.net/gampad/ads?",ENVIRONMENT:"env=vp",DFP_SCHEMA:"gdfp_req=1",PRODUCTION_NETWORK_ID:1125,TEST_NETWORK_ID:271659723,CMS_ID_KEY:"cmsid=",AD_UNIT_KEY:"iu=",CORRELATOR_KEY:"correlator=",VIDEO_ID_KEY:"vid",DESCRIPTION_URL_KEY:"description_url=",AD_SIZE:"sz="+(e&&e.Config&&e.Config.imaAdSize?e.Config.imaAdSize:"640x480")+"|",CUST_PARAMS_KEY:"cust_params=",VMAP_FORMAT:"output=xml_vmap1",POSITION_START:"unviewed_position_start=1",FOLLOW_NETWORK_RULES:"ad_rule=1",REQUEST_MODE:"impl=s",PLAYER_SIZE:"640x360",LANGUAGE_EN:"h1=en",URL_KEY_MACRO:"url=[referrer_url]",CORRELATOR_MACRO:"[timestamp]",AD_SERVER_GOOGLE_IMA:"doubleclick",AD_SERVER_FREEWHEEL:"freewheel",NO_ADS_SUPPORT:"vad=n",AUTHORIZATION_REQUIRED:"_vmn_ar",AUTHENTICATING_ENTITY:"_fw_ae",DEFAULT_MOAT_PARTNER_CODE:"viacomjsint517483624015",OVERRIDE_AD_UNIT_ID:"imaiu",OVERRIDE_CMS_ID:"imacmsid",OVERRIDE_CUST_PARAMS:"vtestmode",OVERRIDE_VIDEO_ID:"imavid",CHILD_DIRECTED_TREATMENT:"tfcd=1",EXCLUSION_CATEGORIES:"excl_cat=",FRANCHISE:"franchise",LAST_ITEM_FRANCHISE:"mtvn_btg_lastItemFranchise"},e.MessageVars={VMN_UUID:"uuid",DEMDEX_SEGMENT:"demdexfwsegment",ADMS_TRACKING_SERVER:"trackingserver",USER_SEGMENT:"usersegment",ADMS_VISITOR_ID:"visitorid"};var $n={CLIP_TYPE:"content",LOAD_CLIP:3,LOAD_AD:15,PROGRESS:49,STOP:7,END:57},ei={BASE_URL:function(){return(un()?"https://sb":"//b")+".scorecardresearch.com/p"},TYPEID:"2",MAX_DURATION:600,CLIP_SHORT:"vc11",CLIP_LONG:"vc12",CLIP_LIVE:"vc13",AD_PREROLL:"va11",AD_MIDROLL:"va12",AD_POSTROLL:"va13",AD_LIVE:"va21",AD_OTHER:"va00",LOCKED:1,UNLOCKED:0,LIVE_DURATION:86400};e.VideoVars={CONTENT_TYPE:"rss.group.category.contentType",DESCRIPTION:"rss.description",DURATION:"rss.duration",FRANCHISE:"rss.group.category.franchise",GUID:"rss.guid",INDEX:"index",IS_LIVE:"isLive",LINK:"rss.link",MEDIA_CATEGORY:"rss.group.category.contentType",PLAY_LIST_REP_TITLE:"rss.group.category.playlistRepTitle",PLAY_LIST_TITLE:"rss.group.category.playlistTitle",PLAY_LIST_URI:"rss.group.category.playlistURI",REPORTABLE:"rss.group.category.reportable",SEO_HTML_TEXT:"rss.group.category.seoHTMLText",THUMPNAIL_URL:"rss.image.url",TITLE:"rss.title",VIDEO_TITLE:"rss.group.category.videoTitle",ARTIST_NAME:"rss.group.category.artist",MTVN_OWNER:"rss.group.category.mtvnOwner",ITEM_TITLE:"rss.title"};var ti={SECURE_SUBDOMAIN:"https://sb",STANDARD_SUBDOMAIN:"http://b",DESTINATION:".scorecardresearch.com/beacon.js?",C1:"2",C2:"6036034",DEFAULT_C3:mt,C4:encodeURIComponent(Hn),C5:"20000",DEFAULT_C6:mt,DEFAULT_C15:mt},ni={LIBRARY_SRC:"www.googletagservices.com/tag/js/gpt.js",AD_DEFINITION:".bento-ad",AD_UNIT_DEFINITION:"data-ad-unit",AD_SIZES_DEFINITION:"data-valid-sizes",AD_TARGETING_DEFINITION:"data-targeting-values",AD_EXCLUSIONS_DEFINITION:"data-exclusion-categories",AD_REFRESH_DEFINITION:"data-refresh-rate",DESKTOP_AD_DEFINITION:"_web",MOBILE_AD_DEFINITION:"_mob",INDEX_ELEMENT_KEY:"element",INDEX_ID_KEY:"id",AD_ID_TEMPLATE:"gpt-ad-{{ now }}-{{ index }}",AD_UNIT_PATH_TEMPLATE:"/{{ networkID }}/{{ adUnit }}",PUBAD_EVENT_SLOT_RENDERED:"slotRenderEnded",PUBAD_EVENT_IMPRESSION:"impressionViewable",INDEX_PAGE_ADUNIT_SUFFIX:"home",MAPPINGS:"mappings",KEY_VALUES:"key-values",AD_UNIT:"ad-unit",METADATA:"metadata",EXCLUSION_CATEGORIES:"exclusion-categories",IS_MAIN:"is_main",SETTINGS:"settings",SETTINGS_DISABLE_AUTO_SLOTS:"disableAutoSlots",INACTIVE:"inactive",WAIT_MESSAGE:"Waiting on googletag.apiReady ..",TEST_MODE_TARGETING_VALUES:"testmode",POE_SIZE:[6,6]},ii={DEFAULT_TOPIC:"adperf",DESTINATION:_n()+"mb.mtvnservices.com/data/collect/v1/?__t={{topic}}&__mb_addHeader=true"},ai={DESTINATION:"//secure-us.imrworldwide.com/cgi-bin/m?",DEFAULT_CID:"us-mtvn",DEFAULT_CC:"1",DEFAULT_TS:"compact",VMN_UUID_COOKIE:"vmn_uuid"},ri={VISITOR_NAMESPACE:"mtvn",LINK_TYPE:"o",YES:"y",NO:"n",SUCCESS:"s",FAILED:"f",VIACOM_CONTEXT_NAMESPACE:"v.",CONTEXT_VALUE_TRUE:"T",CONTEXT_VALUE_FALSE:"F",NOT_APPLICABLE:"N/A",LEGACY_UUID_COOKIE:"vmn_uuid",MARKETING_CLOUD_ORG_ID:"ED7001AC512D2ABD0A490D4C@AdobeOrg",THIRD_PARTY_SUB_DOMAIN:".sc.omtrdc.net",THIRD_PARTY_COOKIE:"v.tpc",LAST_PAGENAME_CONTEXT:"v.prevPagename",UUID_CONTEXT:"v.uuid",CATEGORY_CONTEXT:"v.pageCat",CHANNEL_CONTEXT:"v.channel",ACTIVITY_CONTEXT:"v.activity",PAGE_VIEW_CONTEXT:"v.pv",SITE_ID_CONTEXT:"v.siteID",FRANCHISE_CONTEXT:"v.pageFranchise",THIRD_PARTY_CONTEXT:"v.ckieBlock",REPEAT_USER_CONTEXT:"v.newRepeat",TIMESTAMP_CONTEXT:"v.TimeStamp",DAY_OF_WEEK_CONTEXT:"v.dayW",HOUR_OF_DAY_CONTEXT:"v.hourD",SEARCH_TERM_CONTEXT:"v.searchTerm",SEARCH_RESULT_CONTEXT:"v.searchResult",SEARCH_DID_YOU_MEAN_CONTEXT:"v.searchDYM",SEARCH_TYPEAHEAD_CONTEXT:"v.searchTA",SEARCH_CONVERSION_CONTEXT:"v.searchConversion",AD_BLOCK_STATUS:"v.adBlock",TVE_MVPD_CONTEXT:"v.tveMVPD",TVE_ERROR_CODE_CONTEXT:"v.tveErrCode",TVE_USER_STATUS_CONTEXT:"v.tveUsrStat",TVE_SOCIAL_METHOD_CONTEXT:"v.socMethod",TVE_STEP_OF_LOGIN_FLOW:"v.tveStep",PAGENAME_PROPERTY:"pageName",LINK_NAME_PROPERTY:"eventName",AUTHENTICATED_TVE_USER:"TVE authenticated user",UNAUTHENTICATED_TVE_USER:"Guest user",ELVIS_AUTHENTICATED_USER:"TVE sfps authenticated user",WELCOME_SCREEN_TVE_STEP:"TVE:OverlayFlow:Start",LOGIN_START_TVE_STEP:"TVE:Settings:MVPD Selector",PROVIDER_SELECTED_TVE_STEP:"TVE:settings:MVPD Auth-Request",ERROR_TVE_STEP:"TVE:settings:Error",SUCCESSFUL_LOGIN_TVE_STEP:"TVE:settings:Successful login",PROVIDER_NOT_LISTED_TVE_STEP:"TVE:settings:Not available",SOCIAL_LOGIN_SELECTED_TVE_STEP:"TVE:settings:auth provider pick:{METHOD}",SOCIAL_LOGIN_SUCCEEDED_TVE_STEP:"TVE:settings:auth provider pick:{METHOD}:Successful login",SOCIAL_LOGIN_EXPIRED_TVE_STEP:"TVE:settings:auth provider access expiration",SOCIAL_LOGIN_LOCKED_TVE_STEP:"TVE:[Settings]:auth provider:locked",TWENTY_FOUR_HOUR_SELECTED_TVE_STEP:"TVE:settings:MVPD Auth-Request",TWENTY_FOUR_HOUR_LOGIN_TVE_STEP:"TVE:[Settings]:fps:Successful Sign-in",TWENTY_FOUR_HOUR_EXPIRED_TVE_STEP:"TVE:[Settings]:auth provider access expiration",SEARCH_ACTIVITY:"searchResult",SEARCH_CONVERSION_ACTIVITY:"searchConversion",TVE_AUTH_CHECK_ACTIVITY:"userAuthcheck",TVE_ERROR_ACTIVITY:"tveError",TVE_WELCOME_SCREEN_ACTIVITY:"tveWelcome",TVE_LOGIN_START_ACTIVITY:"tveAuthStart",TVE_LOGIN_COMPLETE_ACTIVITY:"tveSignComplete",TVE_PROVIDER_SELECTED_ACTIVITY:"tveMVPDPick",TVE_PROVIDER_NOT_LISTED_ACTIVITY:"tveMVPDnotListed",TVE_SOCIAL_LOGIN_SELECTED_ACTIVITY:"tveElvisSocialPick",TVE_SOCIAL_LOGIN_SUCCEEDED_ACTIVITY:"tveElvisSignComplete",TVE_SOCIAL_LOGIN_EXPIRED_ACTIVITY:"tveElvisExp",TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY:"tveElvisLock",TVE_TWENTY_FOUR_HOUR_PREVIEW_SELECTED_ACTIVITY:"tveFPSAuthstart",TVE_TWENTY_FOUR_HOUR_PREVIEW_LOGIN_ACTIVITY:"tveFPSSignComplete",TVE_TWENTY_FOUR_HOUR_PREVIEW_EXPIRED_ACTIVITY:"tveFPSExp",PAGE_VIEW_ACTIVITY:"pageview",PAGE_EVENT_ACTIVITY:"pageEvent",GENERIC_NOT_SET:"NOT_SET",NO_FRANCHISE:"NO_FRANCHISE",NO_CATEGORY:"NO_CATEGORY",NO_CHANNEL:"NO_CHANNEL",NO_UUID:"NO_UUID",NO_PREV_PAGENAME:"NO_PREVIOUS_PAGENAME",NO_SEARCH_TERM:"NO_SEARCH_TERM",NO_SEARCH_DID_YOU_MEAN:"NO_SEARCH_DYM",NO_SEARCH_TYPEAHEAD:"NO_SEARCH_TA",NO_TVE_ERROR_CODE:"NO_TVE_ERROR_CODE",NO_TVE_PROVIDER:"none-selected",NO_TVE_PREVIOUS_STEP:"NO_STEP_DATA_RECORDED",NO_TVE_SOCIAL_METHOD:"NO_SOCIAL_METHOD",LEGACY_DAY_OF_WEEK_VAR:"eVar45",LEGACY_DAY_OF_WEEK_PROP:"prop33",LEGACY_TIME_VAR:"eVar46",LEGACY_TIME_PROP:"prop34",LEGACY_CHANNEL_VAR:"eVar49"},oi={LOADED_COMPONENT:"TVE:componentLoaded",ERROR:"TVE:errorHappened",CHECKED_STATUS:"TVE:checkStatusCompleted",LOGGED_IN:"TVE:loginCompleted",LOGGED_OUT:"TVE:logoutCompleted",SELECTED_PROVIDER:"TVE:providerSelected",PROVIDER_DISPLAY:"TVE:signInPageCompleted",PROVIDER_NOT_LISTED_BUTTON_CLICK:"TVE:providerNotListedButtonSelected",START_WATCHING_BUTTON_CLICK:"TVE:startWatchingNowButtonClicked",LEARN_MORE_CLICK:"TVE:learnMoreButtonClicked",SPECIAL_PREVIEW_SELECTED:"TVE:specialPreviewPickedMethod",SPECIAL_PREVIEW_LOGGED_IN:"TVE:specialPreviewSucceedLoginForMethod",SPECIAL_PREVIEW_EXPIRED:"TVE:specialPreviewExpiredWithProvider",SPECIAL_PREVIEW_LOCKED:"TVE:specialPreviewLockedWithProvider",FREE_PREVIEW_SELECTED:"TVE:freePreviewWasStarted",FREE_PREVIEW_LOGGED_IN:"TVE:freePreviewLoginCompleted",FREE_PREVIEW_EXPIRED:"TVE:freePreviewExpired"},si=new t,li=new n,di=function(){var t=[],n=ht,i=st+"BentoApi ",a=function(e){t[e]||t.push(e)},r=function(e,t){for(var i=n&&n.feed&&n.feed.items?n.feed.items:[],a=ht,r=ht,o=0,s=i.length;s>o;o++)if(i[o].rss&&i[o].rss.guid===e){a=i[o].rss;break}if(a&&a.group&&a.group.category){r=a.group.category;for(var l in r)if(l===t)return"eventType"!==l||Xt(r[l])?r[l]:"NO-EVENT"}return ft},o=function(e,t){var n=t.replace(/\ |\:|\+|\{|\}|^\s|\s$/g,mt),a=mt;if(e.hasOwnProperty(n)&&e[n])return e[n];var o=e["v.mgid"]||e.guid;return(a=r(o,n))?a:(n!==mt&&xt(i+"The value "+n+" for omnitureCustomFields was not found in the feed."),t.search(/^{[\s\S]+}$/)?t:mt)},s=function(e,t,n,i,r){var s=mt,l="v.";n.substring(0,l.length)===l;if(i.indexOf(Nt)>-1)for(var d=i.split(Nt),c=0,u=d.length;u>c;c++)s+=o(e,d[c]);else s=o(e,i);s&&(t.hasOwnProperty(n)&&!an(r)||(t[n]=s,a(n)))};return{getMappedObject:function(i,r){var o,l={},d=e.AppMeasureVars.DEFAULT_VARS;if(n=r,n.omnitureHeartbeatMeasureDisabled){for(o in d)if(d.hasOwnProperty(o)){var c=d[o];i.hasOwnProperty(c)&&i[c]&&(l[o]=vi.stripToken(i[c]),a(o))}}else for(o in i)i.hasOwnProperty(o)&&(l[o]=i[o],a(o));if(Yt(r.omnitureCustomFields)){var u=r.omnitureCustomFields;for(o in u)u.hasOwnProperty(o)&&s(i,l,o,u[o],ft)}if(Yt(r.omniturePropertyOverrides)){var _=r.omniturePropertyOverrides;for(o in _)_.hasOwnProperty(o)&&s(i,l,_[o],o,gt)}return l.trackVars=t.join(vt),t=[],l}}}(),ci=new i,ui=function(){return{isMobile:function(){var e=this.getUserAgent();return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)},hasUserAgentValue:function(e){var t=this.getUserAgent();return!!t.match(e)},getPlatform:function(){return window.navigator.platform},isBrowser:function(e){switch(e){case"Chrome":return!!window.chrome;case"Firefox":return typeof InstallTrigger!==pt;case"Safari":return/constructor/i.test(window.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!window.safari||window.safari.pushNotification);case"IE":return ft||!!document.documentMode;case"Edge":return!this.isBrowser("IE")&&!!window.StyleMedia}},getUserAgent:function(){return window.navigator.userAgent}}}();!function(){function e(e){var t;jt(e)&&(t=ci.getOrCreateArray(o,e),ci.removeValue(t,s))}function t(){var t=Array.prototype.slice.apply(arguments);return s=t.pop(),o=this,en(t)&&(t.push.apply(t,Object.keys(this)),ci.removeValue(t,"by")),t.forEach(e),this}function n(e,t,n){var i=e+"__KEY",a=e+"__VALUE",r=ci.getOrCreateArray(this.by,i),o=ci.getOrCreateArray(this.by,a),s=-1,l=0;return ci.pushIfAbsent(r,t),r.forEach(function(e){e&&e.id&&e.id===t.id&&(s=l),l++}),Wt(n)&&(o[s]=n),o[s]}function i(e,t){var n=e+"__KEY",i=e+"__VALUE",a=ci.getOrCreateArray(this.by,n),r=ci.getOrCreateArray(this.by,i),o=a.indexOf(t);a.splice(o,1),r.splice(o,1)}function r(){var e=Array.prototype.slice.apply(arguments),t=e.pop(),n=this;return e.forEach(function(e){var i=ci.getOrCreateArray(n,e);ci.pushIfAbsent(i,t)}),ci.pushIfAbsent(this.everyInstance,t),this.by.last.catalog=t,this}var o,s;a.prototype.catalog=r,a.prototype.expunge=t,a.prototype.byIndex=n,a.prototype.unIndex=i}();var _i=function(){return{read:function(e){var t=jn().split(Rt),n=ht;e+=Ct;for(var i=0,a=t.length;a>i;i++){for(var r=t[i];r.charAt(0)===Dt;)r=r.substring(1,r.length);0===r.indexOf(e)&&(n=unescape(r.substring(e.length,r.length)))}return n},set:function(e,t,n,i,a){var r,o=e+Ct+escape(t);return n&&(r=new Date,r.setTime(r.getTime()+60*n*60*1e3),o+=Rt+"expires"+Ct+r.toGMTString()),a||(a=_i.getCookieAutoDomain()),"localhost"!==a&&(o+=Rt+"domain"+Ct+a),o+=Rt+"path"+Ct+(i?i:Tt),zn(o),o},remove:function(e,t,n,i){var a=e+Ct;n||(n=_i.getCookieAutoDomain()),"localhost"===n||i||(a+=Rt+"domain"+Ct+n),a+=Rt+"path"+Ct+(t?t:Tt),a+=Rt+"expires"+Ct+"Thu, 01-Jan-1970 00:00:01 GMT",zn(a)},getCookieAutoDomain:function(){var e=document.domain.split(yt),t=e.length,n=t>2?e[t-2]+"."+e[t-1]:document.domain;return t>=3&&In.match(n)!==ht&&(n=e[t-3]+"."+e[t-2]+"."+e[t-1]),n},setLocalStorage:function(e,t){try{window.localStorage?window.localStorage.setItem(e,t):_i.set(e,t)}catch(n){_i.set(e,t)}},getLocalStorage:function(e){try{return window.localStorage?window.localStorage.getItem(e):_i.read(e)}catch(t){return _i.read(e)}}}}();BentoNowUtility=new r;var pi=new o,hi=function(e,t){var n=function(e){if(typeof e===dt)try{e=new e}catch(t){}return e};if(e=n(e),t=n(t),e!==t&&typeof e===lt&&typeof t===lt)for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i]);return e},gi=function(){function e(e,n){var i=ht,a=mt,r=mt;if(qt(window.XMLHttpRequest))return Ft(t+"XMLHttpRequest is not supported by this browser."),ft;if(qt(n)||!Xt(n.url))return Ft(t+"No URL parameter passed to request, request has failed."),ft;if(i=new XMLHttpRequest,a=n.url,r=n.data,i.open(e,a),Xt(n.contentType)&&i.setRequestHeader("Content-Type",n.contentType),!jt(r))try{r=JSON.stringify(r)}catch(o){Ft(t,"Failed to convert data into string, was it a valid JSON object?",o)}return i.send(r),gt}var t=st+"HttpRequestUtility - ";return{sendPOSTRequest:function(t){return e("POST",t)},sendGETRequest:function(t){return e("GET",t)},sendImageBeaconRequest:function(e){var n=ht,i=mt,a=mt;if(!Gt(e)||!Xt(e.url))return Ft(t+"No URL parameter passed to request, request has failed."),ht;an(e.appendRandomString)&&(e.url+=Tt+Math.round(1e9*Math.random())),Gt(e.params)&&(i=Ti.toString(e.params),e.url+=(e.url.indexOf(St)>-1?At:St)+i),Wt(e.receiver)&&(a=e.receiver);try{return n=new Image(0,0),n.src=e.url,Ut(t+a+"Sending image beacon."),n}catch(r){return Ft(t+a+"Error encountered when setting up image beacon : ",r),ht}}}}(),fi=new s,Ei={random:function(e,t){return t||(t=e,e=0),Math.floor(Math.random()*(t-e+1)+e)},roundOff:function(e){return e=Jt(e)?e:0,Math.round(e)}},mi=new l;(function(t){var n=function(t){if(typeof t===lt&&JSON&&t.data){var n=e.MessageVars,i=new e.Notifier,a=i.notify,r=ht;try{r=JSON.parse(t.data)}catch(o){return}if(!Bt(r)&&r.hasOwnProperty("type"))switch(r.type){case n.VMN_UUID:a(he,r);break;case n.DEMDEX_SEGMENT:a(ge,r);break;case n.ADMS_TRACKING_SERVER:
a(fe,r);break;case n.USER_SEGMENT:a(Ee,r);break;case n.ADMS_VISITOR_ID:a(me,r)}}};return typeof t.addEventListener!==pt?t.addEventListener("message",n,ft):typeof t.attachEvent!==pt&&t.attachEvent("onmessage",n),n})(window);e.MessageUtil=function(){var e=st+"MessageUtil ",t=typeof window.parent===lt&&typeof window.parent.postMessage===dt&&window.parent!==self;return{postMessage:function(n,i){if(!t||!n)return void Ut(e+"postMessage","Cannot post message, not inside of an iframe.");var a={type:n};typeof i!==pt&&(a.value=i),a=JSON.stringify(a),Ut(e+"postMessage","Posting message "+n+" to window!"),window.parent.postMessage(a,"*")}}}();var Ti=function(){return{toString:function(e,t){if(!Gt(e))return ht;t||(t=At);var n=[];for(var i in e)e.hasOwnProperty(i)&&e[i]&&n.push(i+Ct+e[i]);return n.sort(),n.join(t)},getValueFor:function(e,t){return e.hasOwnProperty(t)?e[t]||0===e[t]?e[t]:-1:ht},getMemberIfExist:function(e,t,n){for(var i=t.split("."),a=0,r=i.length;r>a;a++){var o=i[a];if(!(!Bt(e)&&Yt(e)&&o in e))return n;e=e[o]}return e},doesMemberExist:function(e,t){return Ti.getMemberIfExist(e,t,ht)===ht?ft:gt},isEmpty:function(e){return Object.keys(e).length>0?ft:gt},isValidJSON:function(e){var t=ht;if(Xt(e))try{if(t=JSON.parse(e),Gt(t))return gt}catch(n){return ft}else if(Gt(e))try{if(t=JSON.parse(JSON.stringify(e)),Gt(t))return gt}catch(n){return ft}return ft}}}(),Ai=function(e){var t=ft,n=ht,i=function(e){},a=-1,r=[];return e===ht||typeof e!==lt||typeof e.delegate!==lt||typeof e.delegate.onQueueItem!==dt?ht:(n=e.delegate,typeof n.onQueueError===dt&&(i=n.onQueueError),typeof n.maxCount===ut&&n.maxCount>0&&(a=n.maxCount),{add:function(){return a>0&&r.length>=a?(i(new Error("maxCount exceeded: "+r.length)),ft):(r.push(arguments),r.length)},addPriority:function(){return a>0&&r.length>=a?(i(new Error("maxCount exceeded: "+r.length)),ft):(r.unshift(arguments),r.length)},start:function(){Ut(st+"Queue.start running: "+t),t||(t=gt,this.run())},run:function(){for(Ut(st+"Queue.run queue.length: "+r.length);t;)r.length>0?n.onQueueItem.apply(n,r.shift()):this.stop()},stop:function(){t=ft},isRunning:function(){return t},count:function(){return r.length},clear:function(){this.stop(),r=[]}})};e.Storage=function(){function e(e){var t=window.localStorage.getItem(s),n=Xt(t)&&t||Mt;try{d=JSON.parse(n)}catch(i){return d=_i.getLocalStorage(e),xt(o,"Conversion of localStorage to object has failed."),xt(o,"Falling back to standard localStorage methods."),d}return e?d[e]?d[e]:_i.getLocalStorage(e)||ht:d}function t(t,n){var i=ht,a=mt;if(qt(t)||qt(n))return Ft(o+"saveToLocalStorage must be called with a name and value."),ft;i=e(),Gt(i)||(i={}),i[t]=n;try{a=JSON.stringify(i),window.localStorage.setItem(s,a)}catch(r){return xt(o,"Conversion of storage object to string has failed."),ft}return a}function n(){return window.localStorage.setItem(s,Mt),Mt}function i(e){for(var t=s+Ct,n=jn().split(Rt),i=mt,a=Mt;i=n.pop();)if(i=i.replace(/\s/g,mt),i=i.replace(/\\/g,mt),0===i.indexOf(t)){a=i.substring(t.length,i.length),a=decodeURIComponent(a.replace(new RegExp(t,"g"),mt)),a=a.replace(/^['"](.*)"$/,"$1");break}try{l=JSON.parse(a)}catch(r){return l=_i.read(e),xt(o,"Conversion of cookieString to object has failed, falling back to standard cookie methods."),l}return e?l[e]?l[e]:_i.read(e)||ht:l}function a(e,t){var n,a=ht,r=s+Ct;if(qt(e)||qt(t))return Ft(o+"saveToLocalStorage must be called with a name and value."),ft;a=i(),Gt(a)||(a={}),a[e]=t;try{r+=encodeURIComponent(JSON.stringify(a))}catch(l){return xt(o,"Conversion of cookie object to string has failed."),ft}return n=_i.getCookieAutoDomain(),"localhost"!==n&&(r+=Rt+"domain"+Ct+n),r+=Rt+"path"+Ct+Tt,zn(r),r}function r(){var e=s+Ct+Mt;return zn(e),e}var o=st+"Storage - ",s="BentoStorage",l={},d={};return{getLocalStorage:function(){try{return window.localStorage.setItem("bentoTestItem","test"),window.localStorage.removeItem("bentoTestItem"),e}catch(t){return xt(o,"localStorage is not enabled for this browser - localStorage methods have been translated to cookie methods."),i}}(),saveToLocalStorage:function(){try{return window.localStorage.setItem("bentoTestItem","test"),window.localStorage.removeItem("bentoTestItem"),t}catch(e){return xt(o,"localStorage is not enabled for this browser - localStorage methods have been translated to cookie methods."),a}}(),resetLocalStorage:function(){try{return window.localStorage.setItem("bentoTestItem","test"),window.localStorage.removeItem("bentoTestItem"),n}catch(e){return xt(o,"localStorage is not enabled for this browser - localStorage methods have been translated to cookie methods."),r}}(),getCookieContents:i,saveToCookie:a,resetCookieContents:r}}();var vi=new d,Ii=function(){var e="style",t="head";return{generateStyleTag:function(n,i){if(Xt(n)){var a=document.createElement(e);return a.innerHTML=n,Xt(i)?document.querySelector(i).appendChild(a):document.getElementsByTagName(t)[0].appendChild(a),gt}return ft}}}(),yi=function(e){function t(){s?s.call(e):l||clearInterval(r)}e=e||{};var n=ft,i=0,a=0,r=ht,o=Jt(e.interval)?e.interval:1e3,s=nn(e.timerFunc)?e.timerFunc:Et,l=e.isLoop;return{start:function(){return n||(n=gt,i=dn(),r=setInterval(t,o)),i},stop:function(){var e=0;return n?(e=dn(),i=e-i,a+=i,n=ft,clearInterval(r),e):i},reset:function(){return i=a=0,clearInterval(r),i},isRunning:function(){return n},getElapsedSeconds:function(){return Math.floor(a/1e3)},getElapsedMilliSeconds:function(){return a}}},Si=new c;e.BentoApi=function(t){function n(){return mn.stop(),bn?(Ut(Tt+"adSdkFailSafeTimer - Ad Request Failed"),void $n({error:e.AdVars.AD_REQUEST_FAILURE_EVENT,type:"AD_SDK_ERROR"})):an(Nn)||mn.getElapsedSeconds()>10?(mn.reset(),Me(),gn.onAdPodPlayEnd(),void(Cn(pn)&&(zt?(Ut(Tt+"adSdkFailSafeTimer - Ad Bridge Failure"),$n({error:e.AdVars.AD_BRIDGE_FAILURE_EVENT,type:"AD_SDK_ERROR"})):(Ut(Tt+"adSdkFailSafeTimer - Ad Bridge SWF Not loaded"),$n({error:e.AdVars.AD_SWF_NOTLOADED_EVENT,type:"AD_SDK_ERROR"}),Nn=gt)))):void mn.start()}function i(){return vn.stop(),vn.getElapsedSeconds()>In?(Ut(Tt+"adFailSafeTimer - ad play request exceeded timeout. Moving to content"),vn.reset(),c(at,ht)):void vn.start()}function a(){rn(yn)&&vt&&(Ut(Tt+"clearing 10 second timer for SDK response"),mn.stop(),mn.reset(),Nn=ft,yn=gt)}function r(){Ut(Tt+"clearing the timer for ad play start"),vn.stop(),vn.reset()}function o(){bn=gt,Xe()}function s(t,n){return an(e.Config[t])?(pn.adServer===n&&Ut(Tt+"PMT ad server does not match the one in Bento Config. Using the ad server configured in Bento"),gt):void 0}function l(){return s("imaEnabled","freewheel")}function d(){return s("freewheelEnabled","doubleclick")}function c(e,t,n){return Ut(Tt+"addToQueue hasConfig: "+Kt+" event ",e,t),an(n)?wt.addPriority({event:e,data:t}):wt.add({event:e,data:t}),Kt&&(wt.stop(),wt.start()),wt.count()}function u(e){function t(t){c(e,t)}return t}function _(){var t=-1;if(en&&en.getBandwidthAvg&&(t=en.getBandwidthAvg()),!qt(t)&&-1!==t){var n={value:t,time:(new Date).getTime()};Ut(Tt+"getPlayerBandwidth bandwidthFromPlayer : ",t),_i.setLocalStorage(e.FreewheelVars.FW_BANDWIDTH_KEY,JSON.stringify(n))}}function p(){var e=Math.floor(+en.playhead),t=Math.floor(+en.absolutePlayhead);return Jt(e)&&Jt(t)||xt(Tt+"getPlayheadObject: playhead or fullEpPlayhead is not a number"),Jt(e)&&(Fn=e),Jt(t)&&(Bn=t),{playhead:Fn,fullEpPlayhead:Bn}}function h(e,t){return{active:e?e.active:t,width:tn.offsetWidth,height:tn.offsetHeight,top:tn.offsetTop,left:tn.offsetLeft,isFullScreen:t?t:Zt}}function f(e){if(Ht(pn)&&Lt)return Ut(Tt+"Ad blocking detected even before playerConfig available. Waiting for playerConfig to setupReceivers to adlessReceivers");var t=e.slice(0),n=ht;for(E();n=t.pop();)n.requirementsMet()&&(nn(n.callback)&&n.callback(),gn[n.apiName]=new n.ReceiverConstructor(gn),on.addReceiver(gn[n.apiName]));c(C,pn,gt)}function E(){for(var t=Sn.slice(0),n=ht,i=ht;n=t.pop();)Gt(i=gn[n.apiName])&&(i[B]&&i[B](e.Intent(B,p())),gn[n.apiName]=ht);on.clearReceivers()}function m(e){return _e("adBlockerStatus",e),Ut(Tt,"Delivered ad blocking status to player as ",e),Lt=e,an(e)&&T(),gt}function T(){return fe()&&Xe({errorObj:{code:"AD-BLOCKER-ENABLED",level:e.ErrorCode.WARN,message:"Ad blocker enabled. Skipping all ad breaks"}}),Dn===Sn&&(Dn=Rn,f(Dn),Ut(Tt,"Remapped receivers due to ad block detection.")),vt=ft,gt}function A(){return Dn=Pn,f(Dn),Ut(Tt+"Receivers remapped due to seamless mode."),c(ot)}function v(e){var t="on";"off"===e&&(t=e);var n={READY:ge,RESIZE:u(ve),STATE_CHANGE:me,PLAYHEAD_UPDATE:Ie,FULL_SCREEN_CHANGE:Oe,INDEX_CHANGE:Le,METADATA:ke,MEDIA_START:Ve,MEDIA_END:Ue,PLAYLIST_COMPLETE:Qn,UI_STATE_CHANGE:xe,VOLUME_CHANGE:Fe,REPLAY_REQUEST:He,BUFFERING_WAITING:be,BENTO_WAITING_FOR_AD_BREAK:je,BENTO_PAUSE_REQUESTED:$e,BENTO_RESUME_REQUESTED:Ze,BENTO_AD_BREAK_TIMEOUT:Me,PLAYER_DESTROY:we,SEAMLESS_MODE:A,BENTO_AD_CLICKED:tt,MUTED:Be,UNMUTED:Ye};if(pt=window.EdgePlayer&&window.EdgePlayer.Events,pt&&en[t])for(var i in n)pt[i]&&en[t](pt[i],n[i])}function I(){v()}function S(){v("off")}function oe(){return Ft?ft:(en.ready&&ge(),e.supports=e.supports||{},e.supports.edgeAdTimeoutFailoverEvent=gt,Ut(Tt+"init()"),wt=new Ai({delegate:gn}),I(),void(Ft=gt))}function _e(e,t){return en&&en.bento&&en.bento[e]?($t(t)?en.bento[e].apply(gn,t):qt(t)?en.bento[e].apply(gn):en.bento[e].apply(gn,[t]),Ut(Tt+"playerAPI("+e+")",t),gt):(Ut(Tt+"playerAPI()  "+e+"does not exist"),ft)}function he(e,t){return en.ready?_e(e,t):(kt.push({event:e,data:t}),ft)}function ge(){var e=ht;for(Lt&&T();e=kt.shift();)_e(e.event,e.data);he("ready",cn())}function fe(){return vt}function Ee(){return At}function me(e){var t=p();switch(Ut(Tt+"onPlayerStateChange "+e.data+" playhead: "+en.playhead+" absolutePlayhead: "+en.absolutePlayhead,t),e.data){case"play":case"playing":if(!fe()){if(!yt)return;St?Rt&&(Pt=gt):(St=gt,Ct=gt),Rt=ft,Nt=ft,Wn=ft}break;case"paused":fe()||(!Rt&&St&&jn(t),Rt=gt);break;case"seeking":Rt&&(Wn=gt),fe()||Rt||!St||(Rt=gt,bt=gt,Xn(t));break;case"error":}}function Ie(e){var t=Math.floor(e.target.playhead);if(Vn&&un.isMonolithicContent){var n=gn.getCuePoints(),i=Math.floor(e.target.absolutePlayhead);i>=Math.floor(n[Mn].time)&&(We(p()),Ct=gt),Mn=gn.getMonolithicIndex(i)}if(Nt=ft,St&&(!Rt||!en.isBuffering)&&Mt!==t){Mt=t;var a=p();qe(a),Ct?(Ct=ft,Ge(a)):(Pt||Rt&&!Wn)&&(Pt=ft,Rt=ft,zn(a))}}function be(e){Nt||c(Ae,p()),Rt=gt,Nt=gt}function Oe(e){c(w,h(ht,e.data))}function Le(e){Ut(Tt+"onIndexChange itemIndex",e.data),un.isPlaylistMode&&(qn&&Ni.initialize(),zt=ft),fn=e.data,c(M,{itemIndex:e.data})}function Me(e){Ut(Tt+"onAdBreakTimeout");var t=window.EdgePlayer;vt=ft,t&&t.Timeouts&&e&&e.data&&$n({phase:e.data.phase,type:"AD_TIMEOUT_FAILOVER"}),c(re,ht)}function we(n){Ut(Tt+"playerWillBeDestroyed",n),e.updateAdBlockingStatus(),a(),E(),S(),e.removePlayer(t)}function ke(e){Yt(e)&&Yt(e.data)&&(e&&e.data&&(En=JSON.parse(JSON.stringify(e.data))),!Bt(En)&&En.index>-1&&pn.feed&&(Ut(Tt+"onMetadata()",En),pn.feed.items[En.index].mediaGen=En.mediaGen,Qt=it(pn,En.index),Qt.itemIndex=Qt.itemIndex||Qt.index,c(P,Qt)))}function Ve(t){Ut(Tt+"onMediaStart()"),Ut(Tt,"Updating ad block status to fetch most recent status."),e.updateAdBlockingStatus(),yt=gt}function Ue(e){yt&&(Ut(Tt+"onMediaEnd()",Mt),We(p())),xn=ft,yt=ft,St=ft,Rt=ft}function xe(e){c(V,h(e.data))}function Fe(e){c(U,{volumeLevel:e.data})}function Be(){c(x)}function Ye(){c(F)}function He(e){if(qn&&(Ni.initialize(),un.isFullEpisode))switch(gt){case un.isMonolithicContent:Ni.requestMidrollBids(gn.getCuePoints().length);break;default:Ni.requestMidrollBids(un.playlistLength-1)}zt=ft,_(),c(Te)}function Ge(e){_(),c(R,e)}function Ke(){Ut(Tt+"onImaJsSdkLoadError"),Xe(),c(Se)}function qe(e){sn(L,e)}function We(e){_(),c(O,e)}function je(t){var n=window.EdgePlayer&&window.EdgePlayer.supports&&window.EdgePlayer.supports.persistAdTerminated,i=ft;if(hn=e.Config||{},i=Ti.isEmpty(hn)?gt:ft,Ut(Tt+"onIsTimeForAnAd ",t,Vt,n,i),!Bt(un)&&un.isMonolithicContent&&0!==en.absolutePlayhead&&(We(p()),St=ft),Xt(Yn)&&(Gn.messageText=Yn),an(i)&&t&&t.data&&0===t.data.currentIndex&&$n({error:e.AppMeasureVars.BENTO_CONFIG_NOT_AVAILABLE,type:"REPORT-BENTO-CONFIG"}),n&&(an(i)||rn(Vt)))he("adBreakStarted",Gn),vt=gt,Xe(an(i)?{errorObj:{code:"BENTO-CONFIG-NOT-AVAILABLE",level:e.ErrorCode.WARN,message:"Bento config not available"}}:{errorObj:{code:"ADS-DISABLED",level:e.ErrorCode.WARN,message:"Ads are disabled"}});else{if(ln=gt,he("adBreakStarted",Gn),an(pn.useQuickTimePlayerOnIphone)||dt(),vt=gt,Nn)return void gn.onAdBreakTerminated({errorObj:{code:"MISO-SWF-BLOCKED",level:e.ErrorCode.WARN,message:"Ad-bridge SWF is blocked"}});Ut(Tt+"adSdkFailSafeTimer - START"),yn=ft,mn.start(),c(G,t)}}function ze(e){return a(),vt=ft,lt(),he("adBreakTerminated",e.errorObj),gt}function Xe(e){Vn=gt,lt(),he("skipAllAdRequests"),fe()&&Gt(e)&&ze(e),vt=ft}function Qe(){vt=ft,lt(),he("adBreakSkipped")}function Je(e){he("adManifestRequest",[e,cn()]),c(ie,e)}function Ze(e){c(Q,e),he("adResumed")}function $e(e){c(J,e),he("adPaused")}function et(e){sn($,e)}function tt(){return he("adPaused"),c(Z,ht)}function nt(e){for(var t=0,n=0,i=e.length;i>n;n++)t+=+e[n].duration;return t}function it(t,n){t=t||{};var i=t.feed||{},a=i.items||[],r=a[n]||{};return r.playlistLength=a.length,r.playlistDuration=nt(a),r.title=i.title,r.isFullEpisode=vi.isDefined(t.contentType)&&"episode"===t.contentType,r.isMonolithicContent=r.isFullEpisode&&1===r.playlistLength&&Wt(gn.getCuePoints()),r.feedWithQueryParams=t.feedWithQueryParams,r.hasPlaylist=r.playlistLength>1||r.isMonolithicContent,r.isPlaylistMode=r.isFullEpisode===ft&&r.hasPlaylist,e.MetadataVO.fromRSSMetadata(r)}function rt(){var t=e.IMAVars.NO_ADS_SUPPORT,n=pn.embedVars,i=n&&n.custParams,a=i?-1===i.indexOf(t):gt;return a?void gn.setAdsStatus(gt):(Ii.generateStyleTag(kn),gn.setAdsStatus(ft))}function lt(){Gt(en.adsElement)&&Wt(en.adsElement.style)&&(en.adsElement.style.visibility=Ln);var e=ct();e&&e.classList&&e.classList.remove&&e.classList.remove(Un)}function dt(){Gt(en.adsElement)&&Wt(en.adsElement.style)&&(en.adsElement.style.visibility=On)}function ct(){return Wt(en.imaPlaceholder)?en.imaPlaceholder:void 0}function ut(e){Kn=e.persist,Yn=vi.lengthLimiter(e.adMessage,1024),Yn=vi.sanitize(Yn)}function _t(t){return-1!==t.indexOf(It+It)?(Hn=vi.lengthLimiter(t,1024),Hn=vi.sanitize(Hn,ht,It),Hn=Hn.replace(It+It,e.AdVars.PLAYER_AD_COUNT_PLACEHOLDER),Hn=Hn.replace(It,e.AdVars.PLAYER_AD_INDEX_PLACEHOLDER),void(Hn=Hn.concat(Dt+Ot+Dt))):void xt(Tt+"Incorrect ad count message syntax passed. Please pass # for ad index and ## for ad count. Example: Ad # of ##")}var pt,Tt=st+"BentoApi ",At=ft,vt=ft,yt=ft,St=ft,Ct=ft,Pt=ft,Rt=ft,Nt=ft,bt=ft,Lt=ft,Mt=-1,wt=ht,kt=[],Vt=ft,Ft=ft,Kt=ft,jt=ht,zt=ft,Qt=ht,Zt=ft,en=t||{},tn=en&&en.$el&&en.$el[0]?en.$el[0]:ht,on=new e.Notifier,sn=on.notify,ln=ft,dn=ht,un=ht,_n=ht,pn={},hn=e.Config||{},gn=this,fn=en.currentMetadata&&en.currentMetadata.index?en.currentMetadata.index:en.config&&en.config.startIndex?en.config.startIndex:0,En=ht,mn=new yi({timerFunc:n,interval:1e3}),Tn={start:Et,stop:Et,reset:Et,getElapsedSeconds:Et},An=new yi({timerFunc:i,interval:1e3}),vn=an(pn.failSafeTimerDisabled)?Tn:An,In=6,yn=ft,Sn=[{ReceiverConstructor:e.GoogleIMA,apiName:"googleIMA",requirementsMet:l,callback:rt},{ReceiverConstructor:e.Freewheel,apiName:"freewheel",requirementsMet:d,callback:rt},{ReceiverConstructor:e.HeartBeatMeasure,apiName:"heartBeatMeasure",requirementsMet:function(){return pn.omnitureEnabled&&!pn.omnitureHeartbeatMeasureDisabled},callback:function(){nn(window.addHeartbeatAnalyticsLibrary)&&(window.addHeartbeatAnalyticsLibrary(),qt(window.AppMeasurement)&&window.addAppMeasurementLibrary())}},{ReceiverConstructor:e.AppMediaMeasure,apiName:"appMediaMeasure",requirementsMet:function(){return pn.omnitureEnabled&&pn.omnitureHeartbeatMeasureDisabled},callback:function(){nn(window.addLegacyVideoReportingLibrary)&&(window.addLegacyVideoReportingLibrary(),qt(window.AppMeasurement)&&window.addAppMeasurementLibrary())}},{ReceiverConstructor:g,apiName:"streamSense",requirementsMet:function(){return pn.comScoreEnabled},callback:function(){nn(window.addStreamSenseLibrary)&&window.addStreamSenseLibrary()}},{ReceiverConstructor:Oi,apiName:"nielsen",requirementsMet:function(){return pn.nielsenReporterEnabled},callback:function(){nn(window.addNielsenLibrary)&&window.addNielsenLibrary()}},{ReceiverConstructor:e.Demdex,apiName:"demdex",requirementsMet:function(){return pn.demdexEnabled}},{ReceiverConstructor:e.PlayerReceiver,apiName:"playerReceiver",requirementsMet:function(){return gt}},{ReceiverConstructor:bi,apiName:"legacyBeacons",requirementsMet:function(){return gt}}],Pn=Sn.slice(2,4),Rn=Sn.slice(2),Dn=Sn,Nn=ft,bn=ft,Mn=0,Vn=ft,xn=ft,Fn=0,Bn=0,Yn=mt,Hn=mt,Gn={},Kn=ft,qn=an(e.Config.amazonVideoBiddingEnabled&&d()),Wn=ft;this.getMetadata=function(){var e;try{e=JSON.parse(JSON.stringify(Qt))}catch(t){}return e};var jn=u(N),zn=u(D),Xn=u(b),Qn=u(k),Jn=u(ye),Zn=u(ne),$n=u(Ne);return this.getMonolithicIndex=function(e){var t=gn.getCuePoints();if(e>=0&&e<Math.floor(t[0].time))return 0;for(var n=0;n<t.length;n++)if(n===t.length-1||Math.floor(t[n].time)<=e&&e<Math.floor(t[n+1].time))return n+1},this.getMonolithicSegDuration=function(e){var t,n=gn.getMonolithicIndex(Math.floor(en.absolutePlayhead)),i=gn.getCuePoints();return t=n>0?Wt(i[n])?i[n].time-i[n-1].time:_n-i[n-1].time:i[n].time},this.onQueueItem=function(e){sn(e.event,e.data)},this.onPlayerConfigReady=function(t){return Yt(t)?(Kt=gt,pn=t,hn=e.Config||{},e.getAdBlockingStatus(function(e){m.apply(gn,[e])}),Cn(en)||!l()||!qt(window.google)&&Gt(window.google.ima)||si.loadImaJsSdk(),d()&&window.addFreewheelLibrary(),en&&pn.feed&&(pn.isMobilePlatform=en.isMobilePlatform,dn=pn.feed,un=it(pn,fn),_n=un.playlistDuration),an(Lt)&&(Dn=Rn),f(Dn),Ii.generateStyleTag(wn),void(Cn(pn)&&si.loadAdBridgeSwf(tn,en.id,gn.googleIMA?"ima":"freewheel"))):ft},this.getCuePoints=function(){if(Wt(pn)&&Wt(pn.feed)){var e=pn.feed.items[0],t=e.group||e.rss.group;if(Wt(t)&&Wt(t.category)&&Wt(t.category.adCuePoints))return t.category.adCuePoints}},this.onPlayerFeedLoaded=function(e){sn(y,e)},this.onAdsManagerReady=u(Ce),this.onAdRequested=Je,this.onAdRequestCompleted=function(t){var n=e.QoeVO(t);Ut(Tt+"onAdRequestCompleted adManifestMetadata: ",n),he("adManifestReady",cn()),c(ae,n)},this.onAdSkipped=function(e,t){return Ut(Tt+"onAdSkipped adId: ",e),r(),vn.start(),he("adSkipped",[e,t]),c(ce,e)},this.onAdPlayRequest=u(ue),this.onAdPodPlayStart=function(e){a(),vn.start(),_(),c(q,e)},this.onAdPodPlayEnd=function(e){a(),r(),vt=ft,c(W,e),ln&&(ln=ft,lt(),he("adBreakEnded"))},this.onAdPlayStart=function(e){r(),At=gt,(pn.requiresCoppaCompliance||Kn)&&(jt.messageText="Advertisement",jt.staticAdMessageEnabled=gt,jt.hideAdMessage=ft,Xt(Hn)||(jt.adCount=0)),Xt(Yn)&&(jt.messageText=Yn),Xt(Hn)&&(jt.countdownTextWithPosition=Hn),he("adStarted",jt),he("adResumed"),dt(),c(j,e)},this.onAdPlayEnd=function(e){vn.start(),At=ft,he("adEnded",jt),c(z,e)},this.onAdMetadata=function(e){jt=e,c(X,jt)},this.setAdsStatus=function(e){Vt=e},this.onAdBridgeReady=function(){return zt?(fe()&&ze({errorObj:{code:"AD-BRIDGE-LOADED-TWICE",level:e.ErrorCode.ERROR,message:"Ad Bridge loaded twice"}}),Xe(),c(te,ht),zt=ft,ft):(zt=gt,c(ee))},this.getPlayerContainer=function(){return tn},this.getPlayerId=function(){return en.id},this.getPlayer=function(){return en},this.getPlayerConfig=function(){return pn},this.getPlayerElement=function(){return en.adsElement||en.element},this.getPlaylistMetadata=function(){return dn},this.getFirstItemData=function(){return un},this.getIsLive=function(){return en&&en.isLive?en.isLive():ht},this.getCurrentItemIndex=function(){return fn},this.getCurrentVideoId=function(){var e=mt;return un.isFullEpisode===gt?un.imaVideoId:(e=dn.items[fn].rss.guid,e.split(":").slice(-1)[0])},this.preloadContent=function(e){an(xn)||(xn=gt,he("preloadContent"))},this.sendAdPlayRequest=function(e){he("adPlayRequest",e)},this.getPlayerVolume=function(){return en.volume()},this.getReceivers=function(){return Dn},this.adBreakNotAvailable=u(de),this.onAdError=u(Y),this.onAdBreakReady=u(le),this.onContentResumeRequested=u(Pe),this.onAAMDataReady=u(pe),this.onAdTimeout=u(H),this.onAdManagerDestroyed=u(se),this.onAdBreakNotAvailable=u(de),this.onAdLoaded=u(K),this.onAdBufferStart=u(Re),this.onAdBufferStop=u(De),this.onAdRenderer=Zn,this.onAdPlayheadUpdate=et,this.onAdClick=tt,this.onImaJsSdkLoaded=Jn,this.onImaJsSdkLoadError=Ke,this.onAdBreakTerminated=ze,this.onReportAdError=$n,this.isInAdBreak=fe,this.isInAdPlay=Ee,this.onAdRequestFailed=o,this.clearSdkResponseFailSafeTimer=a,this.clearAdPlayFailSafeTimer=r,this.onSkipAllAdRequests=Xe,this.onAdBreakSkipped=Qe,this.getImaPlaceholder=ct,this.onSetCustomAdMessage=ut,this.onSetCustomAdCountMessage=_t,this.onAdBlocking=m,this.onAdUnPause=Ze,this.onAdPause=$e,oe(),this},e.InitializeEnvironment=function(e){function t(e){var t=e||window.navigator.userAgent;t=t.replace(/\;|\(|\)|\,/gi,mt);var a={browser:mt,device:"Desktop",os:mt};/Chrome/.test(t)?(a.browser="Chrome",hn=gt):/Firefox/.test(t)?(a.browser="Firefox",gn=gt):/MSIE/.test(t)?(a.browser="MSIE",fn=gt):/Safari/.test(t)?(a.browser="Safari",En=gt):/Opera/.test(t)&&(a.browser="Opera"),/Windows/.test(t)?a.os="Windows":/Macintosh/.test(t)?a.os="Macintosh":/Linux/.test(t)?a.os="Linux":/Unix/.test(t)&&(a.os="Unix"),/iPad/.test(t)?(a.device="iPad",mn=gt):/iPod/.test(t)?(a.device="iPod",mn=gt):/iPhone/.test(t)&&!/iPod/.test(t)?(a.device="iPhone",Tn=gt,mn=gt):mn=ft,An=/Android/i.test(t),An&&(a.device="Android"),IS_DESKTOP="Desktop"===a.device;var r=_i.read(n);if(a.isMobile=ft,a.isTablet=ft,Xt(r)){var o=vi.toObject(r,vt,Pt);Xt(o.m)&&1===+o.m||/^m\./.test(location.hostname)?a.isMobile=gt:Xt(o.t)&&1===+o.t&&(a.isTablet=gt)}return i=a,a}var n="btg_device",i=ht;return{userAgent:t(e),getPlatform:function(){return i.device},getCnamedDomain:function(e){var t=e||location.hostname,n=mt,i=new RegExp(/[A-z0-9\-]*\.\bco\...\b|[A-z0-9\-]*\.uol\.\bcom\...\b|[A-z0-9\-]*\.\bcom\...\b|[A-z0-9\-]*\.\bcom\b|[A-z0-9\-]*\.\borg\b|[A-z0-9\-]*\...$/);if(t.match(i)){var a=i.exec(t);n="sc"+yt+t.substr(a.index)}else n="sc"+yt+t;return n},getRootDomain:function(){var e=location.hostname,t=new RegExp(/[A-z0-9\-]*\.\bco\...\b|[A-z0-9\-]*\.uol\.\bcom\...\b|[A-z0-9\-]*\.\bcom\...\b|[A-z0-9\-]*\.\bcom\b|[A-z0-9\-]*\.\borg\b|[A-z0-9\-]*\...$/);if(t.test(e)){var n=t.exec(e);return e.substr(n.index)}return e},getBrowser:function(){return i.browser},isIOS:function(){return mn}}},e.Environment=e.InitializeEnvironment(),e.Intent=function(e,t){var n=e,i=t||{};return{getName:function(){return n},getData:function(){var e={};for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}}},e.Notifier=function(){function t(t,n,i){t[n].apply(t,[e.Intent(n,i)])}function n(e,t){for(var n=ft,a=0,r=i.length;r>a;a++)if(i[a]===e){n=gt,t&&i.splice(a,1);break}return n}var i=[];return{addReceiver:function(e){return e===ht||typeof e!==lt||n(e)?ft:(i.push(e),gt)},removeReceiver:function(e){return e===ht||typeof e!==lt?ft:(typeof e.onRemove===dt&&e.onRemove(),n(e,gt))},count:function(){return i.length},notify:function(e,n){typeof e===ct&&e.match(/playhead/gi)||Ut(st+"Notifier notify",e,n);for(var a=0,r=i.length;r>a;a++){var o=i[a];typeof o===lt&&typeof o[e]===dt&&t(o,e,n)}return gt},clearReceivers:function(){for(var e in i)i[e]=ht;i=[]}}};var Ci=new u;e.AdMetadataVO={fromIMADataAndContentInfo:function(t,n,i){function a(e){var t=-1;return e.adPodInfo&&e.adPodInfo.totalAds&&(t=e.adPodInfo.totalAds),t&&t>-1?t:_.NO_AD_COUNT}function r(e){var t=ft;return e.adSystem&&"GDFP"!==e.adSystem&&(t=gt),t}function o(e){var t=ft;return(e.adWrapperSystems&&"AdSense/AdX"===e.adWrapperSystems[0]||e.adSystem&&"AdSense"===e.adSystem)&&(t=gt),t}function s(e,t){var n=-1;return e.duration&&(n=t?1e3*e.duration:e.duration),n&&n>-1?n:_.NO_CREATIVE_DURATION}function l(e){var t=0;return e.creativeId?t=e.creativeId:e.adId&&(t=e.adId),t||_.NO_CREATIVE_ID}function d(e){var t=mt;return e.adQueryId&&(t=e.adQueryId),t||_.NO_POD_ID}function c(e){var t=ft;return e.vpaid&&(t=e.vpaid),t}var u=JSON.parse(JSON.stringify(t)),_=e.AdVars;return u.isClickable=ft,u.hideAdMessage=ft,u.disableAdGuiOnPlay=ft,u.customClick=ft,u.isVast=gt,u.creativeRenditionId=ht,u.desiredBitrateKbps=ht,u.actualBitrateKbps=ht,u.minBitrateKbps=ht,u.maxBitrateKbps=ht,u.renditionsCount=0,u.adType=n.inferredAdType,u.isThirdParty=r(t),u.currentAdIndex=n.adCount,u.adCount=a(t),u.isAdXAd=o(t),u.durationMs=s(t,gt),u.creativeDuration=s(t),u.creativeId=l(t),u.podId=d(t),u.isVpaid=c(t),u.currentItemIndex=n.currentIndex,u}},e.AdRenditionVO={getAdRenditionVO:function(t,n){function i(){var e=d;if(t.offsetWidth){if(c||!n.isMobilePlatform&&(s.useHTML5VideoAdsOnDesktop||s.useHTML5VideoAdsOnDesktopSafari))return e=t.offsetWidth>=760?l.FW_MAXIMUM_BITRATE_DESKTOP_BY_DIMENSIONS:l.FW_MINIMUM_BITRATE;switch(gt){case p&&_:e=l.FW_BITRATE_MOBILE_WIFI_BY_DIMENSIONS;break;default:e=l.FW_MINIMUM_BITRATE}return e}return d}function a(){var e=d,t=(new Date).getTime(),n=0,i=0,a=0;if(i+=g.value,n+=g.time,a=n&&(t-n)/1e3,!n||!i||a>l.FW_TEN_MINUTES_IN_SEC)return _i.setLocalStorage(l.FW_BANDWIDTH_KEY,mt),d;switch(e=.6*i,gt){case u&&!_&&e>=l.FW_MAXIMUM_BITRATE_MOBILE:e=l.FW_MAXIMUM_BITRATE_MOBILE;break;case u&&_&&e>=l.FW_MAXIMUM_BITRATE_DESKTOP:e=l.FW_MAXIMUM_BITRATE_DESKTOP;break;case!u&&e<l.FW_MINIMUM_BITRATE:e=l.FW_MINIMUM_BITRATE;break;case!u&&e>l.FW_MAXIMUM_BITRATE_DESKTOP:e=l.FW_MAXIMUM_BITRATE_DESKTOP}return e}function r(e){var t=l.FW_PRELOAD_AD_SLOT_BEFORE_TIME,n=s.preloadBitrateRange0To800?s.preloadBitrateRange0To800:l.FW_PRELOAD_BITRATE_RANGE_0_800,i=s.preloadBitrateRange800To1000?s.preloadBitrateRange800To1000:l.FW_PRELOAD_BITRATE_RANGE_800_1000,a=s.preloadBitrateRange1000To5000?s.preloadBitrateRange1000To5000:l.FW_PRELOAD_BITRATE_RANGE_1000_5000;switch(gt){case 800>=e:t=n;break;case e>1e3:t=a;break;default:t=i}return t}function o(){f=l.FW_MINIMUM_BITRATE,h=_i.getLocalStorage(l.FW_BANDWIDTH_KEY),_=t.offsetWidth&&t.offsetWidth>1280;try{g=JSON.parse(h)}catch(e){g=ft}return f=Gt(g)?a():i(),{desiredBitrateValue:f,preloadAdBeforeTime:r(f)}}var s=e.Config||{},l=e.FreewheelVars,d=s.defaultBandwidth?s.defaultBandwidth:l.FW_MINIMUM_BITRATE,c=Cn(n),u=!c,_=ft,p=n.networkConnectionType&&"mobile"!==n.networkConnectionType,h=0,g=ht,f=0;return o()}},e.AdSlotVOCollection=new a,e.AdSlotVOCollection.by[ni.INDEX_ELEMENT_KEY]=[],Object.defineProperty(h,"count",{value:1,writable:gt,enumerable:ft,configurable:ft}),function(){function t(){return Gt(window.headertag)||Gt(window.googletag)?Gt(window.headertag)&&!rn(window.headertag.apiReady)?window.headertag:window.googletag:(Ft(A,"Page ad libraries are no longer available!"),O)}function n(e){return e=$t(e)&&e.join()||e,zt(e,"6,6")||zt(e,"1,2")||zt(e,"3,3")}function i(t){var n,i,a,r=this.adUnit,o=(e.Config.adNetworkId||mt).toString().replace(v,mt).replace(I,mt);switch(gt){case rn(e.Config.adDeviceTarget):n=mt;break;case Xt(e.Config.adDeviceTarget):n=e.Config.adDeviceTarget;break;case IS_DESKTOP:n=ni.DESKTOP_AD_DEFINITION;break;default:n=ni.MOBILE_AD_DEFINITION}switch(gt){case jt(t):this.adUnit=t;break;default:this.adUnit=this.adUnit||t||e.Config.adUnitDefault||mt}return Xt(this.adUnit)||Ft(A,"setAdUnit has failed"),this.adUnit[0]===Tt&&(this.adUnit=this.adUnit.slice(1)),zt(this.adUnit,Tt)?(a=this.adUnit.indexOf(Tt),i=this.adUnit.slice(0,a)+n+this.adUnit.slice(a)):i=this.adUnit+n,this.adUnitPath=ni.AD_UNIT_PATH_TEMPLATE.replace(N,o).replace(b,i),e.AdSlotVOCollection.expunge(r,this).catalog(this.adUnit,this),Ut(A,"Ad unit defined as ",this.adUnitPath),this}function a(e){var t=this.element;switch(gt){case Xt(e):this.validSizes=T(e);break;case $t(e):this.validSizes.push.apply(this.validSizes,e);break;case en(this.validSizes)&&sn(t):this.validSizes=[t.clientWidth,t.clientHeight]}return Ut(A,"Ad sizes defined as ",this.validSizes),this}function r(e){var t,n,i=vi.queryStringToObject(Hn);if(jt(e)&&(e=vi.toObject(e,P,C)),Gt(e)){e=JSON.parse(JSON.stringify(e));for(t in e)n=e[t],zt(n,vt)&&(e[t]=n.split(y),ci.filterDuplicates(e[t]));delete e[mt],this.targetingValues=e}if(Jt(this.targetingValues.slot)||(this.targetingValues.slot=h.count++),i.hasOwnProperty(ni.TEST_MODE_TARGETING_VALUES)&&(this.targetingValues.testmode=encodeURIComponent(i[ni.TEST_MODE_TARGETING_VALUES])),qt(this.targetingValues.sizes)&&$t(this.validSizes)){if(2===this.validSizes.length&&Jt(this.validSizes[0]))return this.targetingValues.sizes=this.validSizes[0]+wt+this.validSizes[1],this;this.targetingValues.sizes=this.validSizes.map(function a(e){return $t(e)&&e.map(a).join(wt)||e}).join(vt)}return Ut(A,"Ad targeting values defined as ",this.targetingValues),this}function o(e,t){var n=this.GPTSlot;if(e+=mt,t+=mt,qt(this.targetingValues))return xt(A,"addTargetingValue: targetingValues not defined yet",e,t),this;if(Xt(e)&&Xt(t)){if(this.targetingValues[e]=t,jt(n)||qt(n))return xt(A,"addTargetingValue: GPTSlot not defined yet",e,t),this;window.googletag.cmd.push(function(){n.setTargeting(e,t)})}return this}function s(t){var n=0;return Bt(this.targetRefreshRate)?(n=+t,Jt(n)&&-1!==n||(n=e.Config.adRefreshRate||0),n>0&&3e4>n&&(Ut(A,"RefreshAds < 30sec not allowed, attempted:",n),n=3e4),n>3e5&&xt(A,"Did you mean to refresh over 5 minutes ?",n),this.targetRefreshRate=n,m(this),Ut(A,"Ad refresh rate defined as ",this.targetRefreshRate),this):this}function l(e){var t,n=this.element;switch(gt){case jt(e):this.element=document.querySelector(e);break;case sn(e):this.element=e}return t=n!==this.element,t&&sn(this.element)&&f(this),this}function d(t){switch(gt){case Xt(t):this.id=t;break;case!Xt(this.id):this.id=ni.AD_ID_TEMPLATE.replace(R,dn()).replace(D,this.instanceIndex)}return sn(this.element)||(this.element=document.querySelector(It+this.id),sn(this.element)&&f(this)),sn(this.element)&&this.element.setAttribute("id",this.id),e.AdSlotVOCollection.byIndex(ni.INDEX_ID_KEY,this.id,this),this}function c(e){return Xt(e)?(this.exclusionCategories=e.split(vt),ci.removeValue(this.exclusionCategories,mt),Ut(A,"Ad exclusion categories defined as ",this.exclusionCategories),this):this}function u(){var e,t,n=this;return Gt(this.GPTSlot)?this:(this.GPTSlot=ni.WAIT_MESSAGE,window.googletag.cmd.push(function(){if(n.GPTSlot=window.googletag.defineSlot(n.adUnitPath,n.validSizes,n.id),!Gt(n.GPTSlot))return xt(A,"GPT library failed to generate a slot - Invalid or repeat properties provided.");n.GPTSlot.addService(window.googletag.pubads());for(e in n.targetingValues)n.GPTSlot.setTargeting(e,n.targetingValues[e]);for(;t=n.exclusionCategories.shift();)n.GPTSlot.setCategoryExclusion(t)}),Ut(A,"New ad slot defined.",n.GPTSlot),this)}function _(){var i=this,a=Rn()&&Pn()&&pi.isElementInViewport(this.element);return this.isDisplayed&&(a=a&&pi.isElementDisplayed(this.element)),rn(a)&&rn(n(this.validSizes))?this:(window.googletag.cmd.push(function(){rn(i.isDisplayed)&&(t().display(i.id),mi.setTiming("adRequested",i.element.id),mi.generateMegaBeacon("pageAdRequested",i.element),i.isDisplayed=gt),e.AdSlotVOCollection.expunge(ni.INACTIVE,i),t().pubads().refresh([i.GPTSlot]),Ut(A,"Ad slot refreshed - ",i.id)}),this)}function p(){var t=this;return Ut(A,"Preparing to destroy ad slot - ",t.id),e.AdSlotVOCollection.expunge(t),e.AdSlotVOCollection.unIndex(ni.INDEX_ELEMENT_KEY,t.element),e.AdSlotVOCollection.by.last.catalog=void 0,window.googletag.cmd.push(function(){window.googletag.destroySlots([t.GPTSlot])}),this}function g(){return this.setAdUnit().setValidSizes().setTargetingValues().setTargetRefreshRate().setExclusionCategories().setElement().setId().defineGPTSlot()}function f(t){var n=t.element,i=n.getAttribute("id"),a=n.getAttribute(ni.AD_UNIT_DEFINITION),r=n.getAttribute(ni.AD_SIZES_DEFINITION),o=n.getAttribute(ni.AD_TARGETING_DEFINITION),s=n.getAttribute(ni.AD_EXCLUSIONS_DEFINITION),l=n.getAttribute(ni.AD_REFRESH_DEFINITION);Xt(t.id)||Bt(i)||t.setId(i),Xt(t.adUnit)||Bt(a)||t.setAdUnit(a),en(t.validSizes)&&!Bt(r)&&t.setValidSizes(r),Xt(t.exclusionCategories)||Bt(s)||t.setExclusionCategories(s),
Ht(t.targetingValues)&&!Bt(o)&&t.setTargetingValues(o),Bt(l)||t.setTargetRefreshRate(l),e.AdSlotVOCollection.byIndex(ni.INDEX_ELEMENT_KEY,n,t)}function E(){var t=this.AdSlotVO,n=ft;return e.Config.amazonPageBiddingEnabled?(n=Rn()&&Pn()&&pi.isElementInViewport(t.element),void(n&&Ni.getPageBids([t],function(e){Ut(A,"Handling response from Amazon bidding - ",e),$t(e)&&!en(e)&&e.forEach(function(e){t.targetingValues.amznbid=e.amznbid,t.targetingValues.amzniid=e.amzniid,t.addTargetingValue("amznbid",e.amznbid),t.addTargetingValue("amzniid",e.amzniid),window.apstag.setDisplayBids([e.slotID]),t.refresh()})}))):t.refresh()}function m(e){Jt(e.refreshTimer)&&(e.refreshTimer.stop(),delete e.refreshTimer),e.targetRefreshRate>0&&(e.refreshTimer=yi({interval:e.targetRefreshRate,timerFunc:E,AdSlotVO:e,isLoop:gt}),e.refreshTimer.start())}function T(e){var t,n,i=e.split(y),a=[];if(ci.filterDuplicates(i),t=i.length,!Xt(e))return ft;for(;t--;)n=i[t].split(S),n[0]=+n[0],n[1]=+n[1],a.unshift(n);return 1===a.length&&(a=a[0]),a}var A=st+"AdSlotVO - ",v=/[^0-9.]/g,I=/\//g,y=/\s*,\s*/g,S=/\s*\x\s*/g,C=/\s*[\:|\=]\s*/g,P=/\s*;\s*/g,R=/{{ now }}/,D=/{{ index }}/,N=/{{ networkID }}/,b=/{{ adUnit }}/,O={display:Et,pubads:function(){return this.refresh=Et,this}};h.prototype.setAdUnit=i,h.prototype.setValidSizes=a,h.prototype.setTargetingValues=r,h.prototype.addTargetingValue=o,h.prototype.setTargetRefreshRate=s,h.prototype.setExclusionCategories=c,h.prototype.setElement=l,h.prototype.setId=d,h.prototype.defineGPTSlot=u,h.prototype.validate=g,h.prototype.refresh=_,h.prototype.destroy=p}(),e.AppMediaMeasureVO=function(){var t=st+"Bento.AppMediaMeasureVO - ";return{fromMetadata:function(n,i,a,r,o,s){var l=e.AppMeasureVars,d=Ti.getMemberIfExist,c=e.VideoVars,u=function(e){return vi.addComma(vi.getFormattedUserSegment(e))},_=function(e){var t={contentType:e.contentType,description:d(e,c.DESCRIPTION,mt),duration:Math.round(d(e,c.DURATION,0)),franchise:e.franchise,guid:e.guid,index:d(e,c.INDEX,0),isLive:d(e,c.IS_LIVE,ft),link:d(e,c.LINK,mt),mediaCategory:e.contentType,mediaDescription:d(e,c.DESCRIPTION,mt),playlistLength:e.playlistLength,isFullEpisode:e.isFullEpisode,playlistDuration:e.playlistDuration,playlistId:e.playlistId,playlistTitle:e.playlistTitle,playlistUri:e.playlistId,reportable:d(e,c.REPORTABLE,gt),seoHTMLText:d(e,c.SEO_HTML_TEXT,mt),thumbnailUrl:d(e,c.THUMPNAIL_URL,mt),title:d(e,c.TITLE,mt),videoTitle:e.videoTitle,videoId:e.videoId,hasPlaylist:e.playlistLength>1?gt:ft,artistName:e.artistName,mtvnOwner:e.owner,linearPubDate:e.linearPubDate,seasonN:e.seasonN,episodeN:e.episodeN};return t},p=_(n),h=u(r);return p.itemIndex=Jt(p.index)?p.index:l.DEFAULT_ITEM_INDEX,p.itemDuration=p.isLive?l.LIVE_DURATION:p.duration,p.pageName=Xt(i.omniturePathContext)?i.omniturePathContext+p.videoTitle:p.videoTitle,p.clipType=an(p.hasPlaylist)?l.PLAYLIST_EVENT:l.SINGLECLIP_EVENT,p.segmentName=[p.itemIndex+1,p.videoTitle].join(Pt),p.applicationName=Xt(i.applicationName)?i.applicationName:l.NO_APPLICATION_NAME,p.applicationContext=Xt(i.applicationContext)?i.applicationContext:l.NO_APPLICATION_CONTEXT,p.applicationOrigin=Xt(i.applicationOrigin)?i.applicationOrigin:l.NO_APPLICATION_ORIGIN,p.vmnUUID=o,p.userSegment=r,p.playlistDuration=an(p.isLive)?l.LIVE_DURATION:Math.round(p.playlistDuration),p.tveAuthStatus=mt,p.mediaTitle=[p.videoId,p.franchise,an(p.hasPlaylist)?l.PLAYLIST_ITEM:l.SINGLECLIP_ITEM].join(Pt),an(p.hasPlaylist)&&rn(a)&&0===p.itemIndex?(p.hasPlaylistStarted=gt,p.events=[l.PLAYLIST_START,l.BUFFER_EVENT,l.PLAYLIST_DURATION,l.PLAYLIST_LENGTH,l.PLAYLIST_EVENT].join(vt),p.products=h+l.SEMICOLONS+[l.BUFFER_EVENT+Ct+s,l.PLAYLIST_DURATION+Ct+p.playlistDuration,l.PLAYLIST_LENGTH+Ct+p.playlistLength].join(bt),p.tveAuthStatus=i.tve&&an(i.tve.tveAuthRequired)?l.LOCKED:l.UNLOCKED):(p.hasPlaylistStarted=a,p.events=[l.BUFFER_EVENT,p.clipType].join(vt),p.products=h+l.SEMICOLONS+(l.BUFFER_EVENT+Ct+s),rn(p.hasPlaylist)&&(p.isLive===ft&&(p.events=vi.appendWithComma(p.events,l.DURATION_EVENT),p.products+=bt+(l.DURATION_EVENT+Ct+Math.floor(p.itemDuration))),p.tveAuthStatus=i.tve&&an(i.tve.tveAuthRequired)?l.LOCKED:l.UNLOCKED)),Ut(t+"AppMediaMeasureVO.fromMetadata"),p},fromMetadataForAd:function(e){var t={mediaCategory:e.contentType,videoTitle:e.videoTitle,playlistTitle:e.playlistTitle,franchise:e.franchise,guid:e.guid,playlistId:e.playlistId};return t}}}();var Pi=e.ContentVO=function(e){this.length=e?e.length:0,this.reset()};Pi.prototype={reset:function(){return this.viewed=[],this.ended=[],this.index=0,this},setCurrent:function(e){var t;return this.index=t=e.indexPlaying||e.currentIndex||this.index,this.ended[t]=ln(e.hasContentEnd,this.ended[t]),this.viewed[t]=ln(e.hasBeenViewed,this.viewed[t]),this},hasEnded:function(){return this.ended[this.index]},hasBeenViewed:function(){return this.viewed[this.index]},isLast:function(){return this.index===this.length-1},shouldPlayPostRollAd:function(){return this.isLast()&&this.hasEnded()},shouldPlayAd:function(){return!this.hasBeenViewed()||this.shouldPlayPostRollAd()}},Pi.getPlaylistLength=function(e){return Math.max(e.items&&e.items.length,1)},e.FreewheelAdMetadataVO={fromAdMetadata:function(t,n,i,a){function r(e){var t=0;return Gt(e)&&nn(e.getAdId)?t=e.getAdId():Gt(e)&&!qt(e.adId)&&(t=e.adId),t||T.NO_AD_ID}function o(e){var t=-1;return Bt(m)?Gt(e)&&!qt(e.podDuration)&&(t=e.podDuration):t=m.getTotalDuration(gt),t&&t>-1?t:T.NO_POD_DURATION}function s(e){var t=ht;return Bt(m)?Gt(e)&&!qt(e.adType)&&(t=e.adType):t=m.getTimePositionClass(),t||T.NO_AD_TYPE}function l(e){var t=ft;return Gt(e)&&nn(e.getEventCallbackUrls)&&(t=e.getEventCallbackUrls(E.EVENT_AD_CLICK,E.EVENT_TYPE_CLICK).length>0),(Gt(e)&&_(e)||IS_DESKTOP)&&(t=ft),t}function d(e){var t=-1;return Gt(e)&&nn(e.getActiveCreativeRendition)&&nn(e.getActiveCreativeRendition().getDuration)?t=e.getActiveCreativeRendition().getDuration(gt):Gt(e)&&!qt(e.duration)&&(t=e.duration),t&&t>-1?t:T.NO_CREATIVE_DURATION}function c(e){var t=0;return Gt(e)&&!qt(e._creativeId)?t=e._creativeId:Gt(e)&&!qt(e.creativeId)&&(t=e.creativeId),t||T.NO_CREATIVE_ID}function u(e){var t=mt;return Bt(m)?Gt(e)&&!qt(e.podId)&&(t=e.podId):t=m.getCustomId(),t||T.NO_POD_ID}function _(e){var t=ft;return Gt(e)&&nn(e.getActiveCreativeRendition)&&nn(e.getActiveCreativeRendition().getCreativeApi)?t=e.getActiveCreativeRendition().getCreativeApi()===f.VPAID_AD:Gt(e)&&!qt(e.creativeAPI)&&(t=e.creativeAPI===f.VPAID_AD),t}function p(e){var t=ft;return e&&e.isBumper?t=gt:e&&e.getSoAdUnit&&(e.getSoAdUnit()===f.FRONT_BUMPER_KEY||e.getSoAdUnit()===f.END_BUMPER_KEY)&&(t=gt),t}function h(e){var t=ft,n=ht,i=ht;if(e&&e.podHasBumper)t=gt;else if(m&&m.getAdInstances&&(n=m.getAdInstances()))for(var a=0;a<n.length;a++)if(i=n[a],i&&i.getSoAdUnit&&(i.getSoAdUnit()===f.FRONT_BUMPER_KEY||i.getSoAdUnit()===f.END_BUMPER_KEY)){t=gt;break}return t}function g(t,n){var a=0;return i?a=i:Gt(t)&&!qt(t.adCount)&&(a=t.adCount),e.Config&&e.Config.showAdCounterMessage===ft&&n&&(a=0),a}var f=e.FreewheelVars,E=tv.freewheel.SDK,m=Gt(t)&&nn(t.getSlot)?t.getSlot():ht,T=e.AdVars,A=h(t),v={adId:r(t),duration:o(t),adType:s(t),isClickable:l(t),creativeDuration:d(t),creativeId:c(t),podId:u(t),isVpaid:_(t),currentAdIndex:a?a:Gt(t)&&!qt(t.currentAdIndex)?t.currentAdIndex:0,currentItemIndex:Gt(n)&&!qt(n.currentIndex)?n.currentIndex:0,hideAdMessage:_(t),disableAdGuiOnPlay:_(t),isBumper:p(t),podHasBumper:A,adCount:g(t,A)};return v}},e.FreewheelVO={fromConfigAndMetadata:function(t){var n=t.playerContainer||{},i=t.playerConfig||{},a=t.currentMetadata||{},r=t.playlistMetadata,o=t.itemIndex,s=st+"FreewheelVO ",l=e.FreewheelVars,d=Hn||i.ref||mt,c=function(){var e=JSON.parse(JSON.stringify(a));if(e.hasPlaylist===gt){var t=r.items[o];e.duration=t.duration,e.guid=t.rss.guid,e.index=o,e.rss=t.rss,e.src=t.src}return e}(),u=c.isFullEpisode,_=c.playlistLength,p=i&&"intl"===i.group,h=function(){return i.requiresCoppaCompliance},g=function(){var e=p?l.NETWORK_ID_INTL:l.NETWORK_ID;return i&&i.freewheelNetworkID&&(e=i.freewheelNetworkID),e},f=function(){var e,t=g(),n=i.embedVars;return i.isMobilePlatform?(e=t+Pt+l.PROFILE_ID,n&&n.freewheelHTML5ProfileId&&(e=n.freewheelHTML5ProfileId)):Cn(i)?(e=t+Pt+l.PROFILE_ID_AS3,n&&n.freewheelFlashProfileId&&(e=n.freewheelFlashProfileId)):(e=t+Pt+l.PROFILE_ID_HTLM5_DESKTOP,n&&n.freewheelFlashProfileId&&(e=n.freewheelFlashProfileId)),e},E=function(){var e=l.DEF_CLIP_TIME,t=c.playlistDuration,n=i.useActualDuration===ft?ft:gt;return e=n?u?t:+c.duration:u?l.DEF_CLIP_TIME*_:e,e!==ht?e:l.DEF_CLIP_TIME},m=function(){var e=ht;return c&&(e=u?c.playlistId:c.guid),e},T=function(e){var n=[],a=i.useActualDuration===ft?ft:gt,o=0,s=t.adCuePoints;if(_=Wt(s)?s.length+1:_,u)for(var d=0;_>d;d++)r&&(e||a)?s?d<s.length&&(n[d]=s[d].time-o,o=s[d].time):n[d]=r.items[d].duration:n[d]=d*l.DEF_CLIP_TIME;else e&&(n[0]=+c.duration);return n},A=function(){for(var e=0,t=0;_>t;t++)if(r.items[t].rss.guid===c.guid){e=t;break}return e},v=function(e){if(!Bt(i)&&an(i.freewheelSharedMGIDEnabled)&&"intl"!==i.group&&Xt(e)&&e.indexOf(":arc:")>=0){var t=e.split(":");if(Ut(s+"Enabling shared MGID."),5===t.length)return t[4]}return e},I=function(){var t=ht;return t=i.isMobilePlatform?Xt(i.freewheelSiteSection)?i.freewheelSiteSection:l.DEF_MOB_SITE_SECTION:Xt(i.freewheelFlashSiteSection)?i.freewheelFlashSiteSection:l.DEF_SITE_SECTION,!Bt(i)&&an(i.freewheelSiteSectionPathParsing)&&(t=vi.trimSlashes(t)),Xt(e.Config.freewheelSiteSectionOverride)&&(t=e.Config.freewheelSiteSectionOverride),t},y=function(){return!Bt(i)&&an(i.freewheelSiteSectionPathParsing)?gt:ft},S=function(){var e=Si.getMostRecentStatus(i),t=e.hash,n={};return Xt(t)?(n[l.AUTHENTICATING_ENTITY]=t,n[l.AUTHORIZATION_REQUIRED]=mt+e.authRequired,n):(Ut(s+"Video/user parameters are not eligible for TVE custom parameter modification."),ft)},C=function(e){if(Xt(e.referrer)){var t=vi.queryStringToObject(e.referrer);Xt(t[l.DEBUG_MODE])&&an(t[l.DEBUG_MODE])&&(Xt(t[l.OVERRIDE_NETWORK_ID])&&(e.networkID=t[l.OVERRIDE_NETWORK_ID]),Xt(t[l.OVERRIDE_PROFILE_ID])&&(e.profileID=t[l.OVERRIDE_PROFILE_ID]),Xt(t[l.OVERRIDE_SSID])&&(e.siteSectionID=t[l.OVERRIDE_SSID]),Xt(t[l.OVERRIDE_MGID])&&(e.assetID=t[l.OVERRIDE_MGID])),Xt(t[l.VIDEO_ID_KEY])&&(e.assetID=t[l.VIDEO_ID_KEY])}},P=function(){var e=d,t=i.flashVars&&i.flashVars.fwKeyValues,n=(Xt(e)&&vi.queryStringToObject(e.toLowerCase()),{}),a=["id",l.DEBUG_MODE,l.OVERRIDE_NETWORK_ID,l.OVERRIDE_PROFILE_ID,l.OVERRIDE_SSID,l.OVERRIDE_MGID,l.ENTIRE_URL,l.TSLA];if(Yt(t)&&Object.keys(t).length>0)for(var r in t)-1===a.indexOf(r)&&(n[r]=t[r]);return n},R=function(){var e={};if(h()){var t=_i.getLocalStorage(l.LAST_GUID_PLAYED);t&&(e[l.ARA_KEY]=t)}return e},D=function(){var e=_i.getLocalStorage(l.FW_DEMDEX_FW_SEGMENT),t=[],n=[];if(e!==ht){t=e.split(",");for(var i=0,a=t.length;a>i;i++)if(t[i]){var r=t[i].split("=");n[i]=[r[0],r[1]]}}return n},N=function(e){return{adServer:e.adServer,networkId:e.networkID,profileId:e.profileID,siteSectionId:e.siteSectionID,preloadAdManifest:gt}},b={networkID:g(),siteSectionID:I(),siteSectionParsing:y(),assetID:v(m()),profileID:f(),duration:E(),videoViewRandom:Math.round(1e9*Math.random()),adServer:p?l.INTL_AD_SERVER_AS3():l.AD_SERVER_AS3(),referrer:d,isFullEpisode:u,hasPlaylist:c.hasPlaylist,playlistID:v(c.playlistId),segmentsDuration:T(ft),segmentsActualDuration:T(gt),currentIndex:A(),flashVars:i.flashVars?i.flashVars:{},isKids:h(),tveKeyValues:S(),hostSellingKeyValues:R(),timeSinceLastAd:li.getTSLATime(i),extraFWKeyValues:P(),preloadAdSlotEnabled:e.Config&&e.Config.preloadAdSlotEnabled?e.Config.preloadAdSlotEnabled:ft,bandwidthEnabled:e.Config&&e.Config.bandwidthEnabled?e.Config.bandwidthEnabled:ft,failSafeTimerDisabled:i.failSafeTimerDisabled?i.failSafeTimerDisabled:ft,fwSegments:D(),adRenditionVO:e.AdRenditionVO.getAdRenditionVO(n,i),isIntl:p};return C(b),b.adRequestedData=N(b),b}},e.HeartbeatdataVO=function(){var t="HeartbeatdataVO - ";return{fromMetadata:function(e,n,i,a){var r={};return r=a?{vmnUUID:i,segmentName:e.segmentName,videoTitle:e.videoTitle,pageName:e.pageName}:{"v.mid":i,"v.segmentName":[e.itemIndex+1,e.videoTitle].join(Pt),"v.vidTitle":e.videoTitle,"v.vidEpTitle":e.playlistTitle,"v.pageName":Xt(n.omniturePathContext)?n.omniturePathContext+e.playlistTitle:e.playlistTitle,"v.mgid":e.guid,"v.pageType":e.pageType},Ut(t+"HeartbeatdataVO.fromMetadata",r),r},fromHeartbeatMetadata:function(t,n,i,a,r,o,s,l){var d=e.AppMeasureVars,c={"v.activity":an(i)?"adStart":r?"liveStreamStart":an(t.hasPlaylist)||an(t.isFullEpisode)?d.FULL_EPISODE_START_ACTIVITY:d.CLIP_START_ACTIVITY,"v.episodeN":t.episodeN,"v.vidContentType":r?"Live Event":t.contentType,"v.epMGID":t.playlistId,"v.vidEpTitle":t.playlistTitle,"v.epCount":t.playlistLength,"v.epLength":r?d.LIVE_DURATION:Math.round(a),"v.mgid":t.guid,"v.vidTitle":t.videoTitle,"v.vidLength":s,"v.vidFranchise":t.franchise,"v.vidArtist":t.artistName,"v.seasonN":t.seasonN,"v.vidAppName":Xt(n.applicationName)?n.applicationName:d.NO_APPLICATION_NAME,"v.contentStatus":n.tve&&an(n.tve.tveAuthRequired)?d.LOCKED:d.UNLOCKED,"v.linearPubDate":t.linearPubDate,"v.vidOwner":t.owner,"v.vidCategory":r||an(t.isFullEpisode)||an(t.isPlaylistMode)?mt:t.categories,adTotalDuration:o&&o.creativeDuration?Math.round(o.creativeDuration):mt,adCreativeId:o&&o.creativeId?o.creativeId:mt,adId:o&&o.adId?o.adId:mt,"v.epType":t.isMonolithicContent?"Monolithic":mt,"v.mid":l,"v.pageType":t.pageType,"v.pageURL":t.pageURL};return c}}}(),e.MetadataVO=function(){var e=function(){return{guid:"NO_MGID",videoTitle:"NO_VID_TITLE",videoId:"NO_VID",owner:"OWNER_UNSET",playlistTitle:"NO_PLAYLIST_TITLE",playlistId:"NO_PLAYLIST_URI",franchise:"NO_FRANCHISE",contentType:"NO_CONTENT_TYPE",artistName:"NO_ARTIST",linearPubDate:"NO_LINPUBDATE",seasonN:"NO_SEASONN",episodeN:"NO_EPISODEN",cdn:"NO_CDN",categories:"NO_VIDCAT",pageType:"NO_PAGETYPE",pageURL:"NO_PAGEURL"}};return{fromRSSMetadata:function(t){var n=e(),i=t||{};if(Gt(i)&&Gt(i.rss)){if(Xt(i.rss.guid)){n.guid=i.rss.guid;var a=n.guid.split(":");5===a.length&&(n.owner=a[3],n.videoId=a[4],n.imaVideoId=a[4])}if(Yt(i.rss.group)&&Yt(i.rss.group.category)&&(Xt(i.rss.group.category.playlistURI)&&(n.playlistId=i.rss.group.category.playlistURI,n.playlistVideoId=n.playlistId.match(/(?!.+:)[^:].+/)[0],n.imaVideoId=n.playlistVideoId),Xt(i.rss.group.category.playlistRepTitle)?n.playlistTitle=i.rss.group.category.playlistRepTitle:Xt(i.rss.group.category.playlistTitle)?n.playlistTitle=i.rss.group.category.playlistTitle:Xt(i.title)&&(n.playlistTitle=i.title),Xt(i.rss.group.category.videoTitle)?(n.videoTitle=i.rss.group.category.videoTitle,n.videoTitle=n.videoTitle+"_"+n.videoId):Xt(i.rss.title)&&(n.videoTitle=i.rss.title,n.videoTitle=n.videoTitle+"_"+n.videoId),Xt(i.rss.group.category.franchise)&&(n.franchise=i.rss.group.category.franchise),Xt(i.rss.group.category.mtvnOwner)&&(n.owner=i.rss.group.category.mtvnOwner),Xt(i.rss.group.category.contentType)&&(n.contentType=i.rss.group.category.contentType),Xt(i.rss.group.category.artist)&&(n.artistName=i.rss.group.category.artist),Xt(i.rss.group.category.mtvnOwner)&&(n.owner=i.rss.group.category.mtvnOwner),Xt(i.rss.group.category.linearPubDate)&&(n.linearPubDate=i.rss.group.category.linearPubDate),Xt(i.rss.group.category.seasonN)&&(n.seasonN=i.rss.group.category.seasonN),Xt(i.rss.group.category.episodeN)&&(n.episodeN=i.rss.group.category.episodeN),Xt(i.rss.group.category.categories)&&(n.categories=i.rss.group.category.categories),Xt(i.rss.group.category.pageType)&&(n.pageType=i.rss.group.category.pageType),Xt(i.rss.group.category.pageUrl)?n.pageURL=i.rss.group.category.pageUrl:n.pageURL=vi.lengthLimiter(Hn,1024,St)),Yt(i.mediaGen)&&(Yt(i.mediaGen.rendition)&&Xt(i.mediaGen.rendition.cdn)&&(n.cdn=i.mediaGen.rendition.cdn),Yt(i.mediaGen)&&$t(i.mediaGen.beacons)&&$t(i.mediaGen.beacons[0])?n.beacons=i.mediaGen.beacons[0]:Yt(i.mediaGen)&&$t(i.mediaGen.beacons)&&(n.beacons=i.mediaGen.beacons)),Xt(i.feedWithQueryParams)){var r=vi.queryStringToObject(i.feedWithQueryParams);r.uuid&&(n.imaVideoId=r.uuid.match(/(?!.+:)[^:].+/)[0])}}for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return i}}}();var Ri=function(){var e=st+"NielsenVO - ";return{fromMetadata:function(t){var n=t.playlistTitle;t.hasPlaylist&&!t.isFullEpisode&&(n=t.playlistTitle+"_"+(t.itemIndex+1)+"_"+t.videoTitle);var i=t.isFullEpisode?t.playlistDuration:t.duration,a={videoType:t.videoType,videoTitle:t.hasPlaylist?n:t.videoTitle,videoId:t.isAd?t.adId:t.videoId,videoLength:Math.floor(t.isAd?t.adDuration:i),franchise:t.franchise?t.franchise:mt,playlistURI:Yt(t.rss)&&t.rss.group.category.playlistURI?t.rss.group.category.playlistURI:mt,dprEnabled:t.nielsenDprEnabled,censuscategory:n?n:mt};return a.category=a.franchise,t.hasPlaylist&&t.playlistId&&t.isFullEpisode&&!t.isAd&&(a.videoId=/.+:uma:.+$/.test(t.playlistId)?t.playlistId.match(/\d+$/)[0]:t.playlistId),Ut(e+"fromMetadata",a),a}}}();e.QoeVO=function(t){var n={},i=[],a={},r=mt,o=gt,s=ht,l=function(t){var n=-1,i=ft,a=ft,r=ft,o=0,s=ht,l=ht,d=ht,c=ht,u=ht,_=ht,p=-1,h=ht;return t&&(h=t.getActiveCreativeRendition(),n=1e3*h.getDuration()||e.AdVars.NO_CREATIVE_DURATION,i="VPAID"===h.getCreativeApi()?gt:ft,a=h.getWrapperType()!==ht&&h.getWrapperType().indexOf("vast")>=0?gt:ft,r=h.getWrapperUrl()!==ht?gt:ft,o=t.getAdId()||e.AdVars.NO_AD_ID,p=t.getAllCreativeRenditions().length),{durationMs:n,isVpaid:i,isVast:a,isThirdParty:r,adId:o,creativeId:s,creativeRenditionId:l,desiredBitrateKbps:d,actualBitrateKbps:c,minBitrateKbps:u,maxBitrateKbps:_,renditionsCount:p}},d=function(e){var t=ft,n=ft,i=ft,a=[];if(e&&e.getAdInstances)for(var r=e.getAdInstances(),o=ht,s=ht,d=0;d<r.length;d++)o=r[d],s=l(o),s.isVpaid&&(t=gt),s.isVast&&(n=gt),s.isThirdParty&&(i=gt),a.push(s);else e&&(t=e.containsVPAID,n=e.containsVAST,i=e.containsThirdParty,a=e.ads);return{containsVpaid:t,containsVast:n,containsThirdParty:i,ads:a}};if(t&&t.length){s=tv.freewheel.SDK;for(var c=0,u=t.length;u>c;c++){var _=t[c];switch(_.getTimePositionClass()){case s.TIME_POSITION_CLASS_PREROLL:n=d(_);break;case s.TIME_POSITION_CLASS_MIDROLL:i.push(d(_));break;case s.TIME_POSITION_CLASS_POSTROLL:a=d(_)}_.getTimePositionClass()===ht&&_.getTimePosition()>0&&i.push(d(ht))}}else if(t)for(var p in t)if(t[p])switch(p){case"preroll":n=d(t[p]);break;case"midrolls":for(var h=t[p],g=0,f=h.length;f>g;g++)i.push(d(h[g]));break;case"postroll":a=d(t[p]);break;case"errorText":r=t[p];break;case"success":o=t[p]}return{preroll:n,midrolls:i,postroll:a,errorText:r,success:o}};var Di=function(){var t=st+"StreamSenseVO - ";return{fromMetadata:function(e,n,i){var a="*null",r=ei,o=e.hasPlaylist?e.playlistTitle:e.videoTitle,s=1e3*(e.isAd?e.adDuration:i?r.LIVE_DURATION:e.duration),l=e.isAd?e.adId:e.videoId,d=ht;d=!qt(n&&n.tve)&&n.tve.tveAuthRequired?r.LOCKED:r.UNLOCKED,s=0>s?0:Ei.roundOff(s);var c={ns_st_cn:e.partIndex,ns_st_ci:l,ns_st_pn:Jt(e.index)?e.index+1:a,ns_st_tp:e.playlistLength>0?e.playlistLength:0,ns_st_cu:e.rss&&e.rss.link?e.rss.link:a,ns_st_cl:s,ns_st_pu:e.owner,ns_st_pr:e.franchise?e.franchise:a,ns_st_ep:o?o:a,ns_st_ad:e.isAd?"1":"0",ns_st_ct:e.clipTypeId};return e.isAd||(c.ns_st_sn=e.seasonN,c.ns_st_tdt=e.linearPubDate,c.ns_st_en=e.episodeN,c.ns_st_cdn=e.cdn,c.via_st_lock=d),c.c3=c.ns_st_ep,c.c4=c.ns_st_pu,c.c6=c.ns_st_pr,Ut(t+"fromMetadata",c),c},fromAdMetadata:function(n,i,a,r,o){var s=ht;try{s=r.isMonolithicContent?JSON.parse(JSON.stringify(i.items[0])):JSON.parse(JSON.stringify(i.items[n.currentItemIndex]))}catch(l){Ut(t,l)}r&&r.title&&(s.title=r.title);var d=e.MetadataVO.fromRSSMetadata(s);d.playlistLength=1,d.index=0,d.hasPlaylist=i.items.length>1;var c=ei;if(d.adId=n.adId,d.adDuration=n.creativeDuration,d.partIndex=a,d.isAd=gt,o)d.clipTypeId=c.AD_LIVE;else if(Xt(n.adType)){var u="AD_"+n.adType.toUpperCase();d.clipTypeId=Xt(c[u])?c[u]:c.AD_OTHER}return Di.fromMetadata(d)}}}(),Ni=function(){function t(){var e=Array.prototype.slice.apply(arguments);return Ft(p,e)}function n(t){return t.pubID=e.AdVars.AMAZON_PUB_ID,window.apstag.init(t)}function i(){if(Gt(window.apstag))return Ut(p,"Amazon A9 library has already been loaded, preventing subsequent request."),r(),ft;switch(window.apstag={setDisplayBids:Et,_Q:T,init:function(){return window.apstag._Q.push(["i",arguments])},fetchBids:function(){return window.apstag._Q.push(["f",arguments])},targetingKeys:function(){return g}},gt){case A&&v:n({videoAdServer:"freewheel",adServer:"googletag"});break;case A:n({videoAdServer:"freewheel"});break;default:n({adServer:"googletag"})}return mi.setTiming("amazonA9Requested"),pi.loadScript({url:_n()+h,async:gt,onLoad:r,onError:t,isAppendToBody:ft}),gt}function a(e,t){return t=t||Et,xt(p,"Library has not instantiated in time to process bidding request, rejecting bid request."),t(g),ft}function r(){return Ut(p,"Amazon A9 library has loaded."),f.getPageBids=o,mi.setTiming("amazonA9Received"),s(),gt}function o(e,t){var n=[];return t=t||Et,e.forEach(function(e){return Xt(e.id)&&Xt(e.adUnitPath)&&!qt(e.validSizes)?rn(pi.isElementInViewport(e.element))?(Ut(p,"This ad slot is not visible, bidding call suppressed."),ft):(n.push({slotID:e.id,slotName:e.adUnitPath,sizes:[e.validSizes]}),void Ut(p,"Created bid request for ad slot "+e.id)):(xt(p,"This ad slot is not eligible for bids due to missing parameters."),ft)}),en(n)?(Ut(p,"No ads valid for bidding."),t(g),ft):(Ut(p,"Sending "+n.length+" bid request(s)"),mi.setTiming("amazonA9BidsRequested"),void window.apstag.fetchBids({slots:n,timeout:E},function(e){return mi.setTiming("amazonA9BidsReceived"),Ut(p,"Page bids returned from apstag.fetchBids",e),t(e),gt}))}function s(e){var t=[{slotID:"preroll",mediaType:"video"}];A&&(Ut(p,"Fetching Video Bids for - ",e||t),window.apstag.fetchBids({slots:e||t},function(e){Ut(p,"Video bids returned from apstag.fetchBids videoAdBid - ",e),y++,$t(e)&&e.forEach(function(e){m.push(e)}),S===y&&I(m)}))}function l(e){var t=[];for(Ut(p+"Requesting bids for "+e+" midroll slots."),S++;e>0;)t.push({slotID:"Midroll_"+e,mediaType:"video"}),e--;s(t)}function d(e){return S!==y?(Ut(p+"getVideoBids: Amazon has not yet responded to previous bid requests. Creating callback"),void(I=e)):(e(m),m)}function c(){m=[],y=0,S=1,I=Et}function u(){return Ut(p,"Amazon A9 receiver initialized, requesting bidding library."),A=e.Config.freewheelEnabled&&e.Config.amazonVideoBiddingEnabled,v=e.Config.amazonPageBiddingEnabled,A&&c(),i(),f.getPageBids=a,f}function _(){delete f.getPageBids,delete window.apstag}var p=st+"AmazonReceiver - ",h="//c.amazon-adsystem.com/aax2/apstag.js",g=nn(Object.freeze)&&Object.freeze([])||[],f=this,E=1e3,m=[],T=[],A=ft,v=ft,I=Et,y=0,S=0;return f.initialize=u,f.reset=_,f.getVideoBids=d,f.requestMidrollBids=l,f};Ni=new Ni,e.AppMediaMeasure=function(t){function n(){for(var e=mt;e=k.pop();)x[e]=mt;for(;e=V.pop();)x.Media[e]=mt}function i(e){for(var t=mt,n=Object.keys(e);t=n.pop();)/(trackVars|trackEvents)/.test(t)?(V.push(t),x.Media[t]=e[t]):(k.push(t),x[t]=e[t]);return gt}function a(e,t){return n(),i(e),x.Media.track(t),gt}function r(t,a,r,o,s){return i(t),e.sendMegabeaconData({data:t}),x.Media.completeByCloseOffset=ft,x.Media.openAd(r,-1,o,t.videoTitle,a.adType,a.currentAdIndex),x.Media.play(r,0),n(),gt}function o(e){x.trackExternalLinks=ft,i(e),x.tl(e.lnk,e.linkType,e.linkName),n(),U.omnitureTrackExternalLinks===gt&&setTimeout(function(){x.trackExternalLinks=gt},0)}function s(){return x=new AppMeasurement,x.loadModule("Media"),Xt(U.omnitureAccount)?(n(),x.setAccount(U.omnitureAccount),(mn||an(U.omnitureEnableFirstPartyCookie))&&(x.trackingServer=e.Environment.getCnamedDomain()),void(an(U.omnitureEnableVisitorNamespace)&&(x.visitorNamespace=e.AppMeasureVars.VISITOR_NAMESPACE))):ft}function l(e){var t=c();return n(),x.referrer=vi.lengthLimiter(Xn(),de.URL_LIMIT,At),x.pageURL=vi.lengthLimiter(document.URL,de.URL_LIMIT,At),x.debugTracking=Vt(),x.trackLocal=gt,x.setAccount(U.omnitureSuite),Xt(t)&&(x.trackingServer=t,un()&&(x.ssl=gt,x.trackingServerSecure="s"+x.trackingServer)),x.trackingServer&&Xt(U.omnitureVisitorMigrationKey)&&Xt(U.omnitureVisitorMigrationServer)&&(x.visitorMigrationKey=U.omnitureVisitorMigrationKey,x.visitorMigrationServer=U.omnitureVisitorMigrationServer),Xt(U.omnitureCharacterSet)&&(x.charSet=U.omnitureCharacterSet),Xt(U.omnitureDataCenter)&&(x.dc=U.omnitureDataCenter),U.omnitureVisitorNamespace&&(x.visitorNamespace=de.VISITOR_NAMESPACE),Xt(ae)&&(x.visitorID=ae),an(U.omnitureMediaTracking)&&(x.Media.autoTrack=ft,x.Media.trackWhilePlaying=gt,x.Media.trackUsingContextData=gt,e||(x.Media.contextDataMapping=Se)),U}function d(e,t){var n=new di.getMappedObject(e,U,t);return n.events=e.events,n}function c(){var t=window.btg;return Ut(w+"getTrackingServer","Setting tracking server."),t&&t.config&&t.config.Omniture&&t.config.Omniture.enableFirstPartyCookie?(Ut(w+"getTrackingServer","Tracking server by Environment utility based on same-frame CODA configuration."),re=e.Environment.getCnamedDomain()):re===ht&&U&&U.omnitureTrackingServer?(Ut(w+"getTrackingServer","Tracking server by player configuration."),re=U.omnitureTrackingServer):(Ut(w+"getTrackingServer","Tracking server already set or being set by browser message event."),re)}function u(t,n){var i=t&&t.items&&t.items[n.currentItemIndex];if(Gt(i)){i.title=Z.title;var a=e.MetadataVO.fromRSSMetadata(i),r=e.AppMediaMeasureVO.fromMetadataForAd(a),o={videoTitle:r.videoTitle,mediaCategory:r.mediaCategory,playlistTitle:r.playlistTitle,franchise:r.franchise,guid:r.guid,podId:n.adType,currentAdIndex:n.currentAdIndex,playlistId:r.playlistId};return o}return ft}function _(e,n){x.Media.monitor=function(i,a){oe=a.timePlayed,"CLOSE"===a.event?(le=e.itemIndex===e.playlistLength-1?ft:le,p(e.videoTitle,a.timePlayed,gt)):"MONITOR"===a.event&&(t.getIsLive()?h(e.videoTitle,a.timePlayed):g(e.videoTitle,a.timePlayed,a.percent,n))}}function p(t,n,i){var r=an(ie.hasPlaylist),o=ie.itemIndex===ie.playlistLength-1,s={};n=Math.floor(n),_e=Math.abs(he-n),he=n,!Bt(F)&&ie.reportable&&0!==n&&(ne.events=mt,ne.products=mt,i&&(ne.events=vi.appendWithComma(ne.events,de.MEDIA_COMPLETE),r&&o&&ce===Math.pow(2,ie.playlistLength)-1&&(ne.events=vi.appendWithComma(ne.events,de.MEDIA_PLAYLIST_COMPLETE),ce=0)),s=d(ne,ft),a(s,t),e.sendMegabeaconData({data:s}),i&&(s.events=vi.appendWithComma(s.events,de.MEDIA_TIMEPLAYED+Ct+_e),m(s,ft),he=0,_e=0))}function h(e,t){var n=rn(U.omnitureLiveEventHeartbeatsDisabled);n&&Math.floor(t/ie.liveEventBeaconFreq)>ue&&(ue++,p(e,t))}function g(t,n,i,a){for(var r=$.length,o=0;r>o;o++){var s=$[o];if(!s.fired&&i>=s.min&&i<=s.max){s.type===de.TRACKED98?(Ut("sendHeartBeat milestone tracked98 reached. Invoke onPlayEnd."),a[O](new e.Intent(O,{playhead:oe}))):U.omnitureHeartbeatsDisabled||(Ut("sendHeartBeat trackEvents time: "+n),p(t,n)),Ut("sendHeartBeat fired milestone: "+s.type),$=$.slice(o+1);break}}}function f(e){if($=[],ie.itemDuration>=de.MIN_DURATION&&ie.itemDuration<=de.MAX_DURATION)$.push({type:de.TRACKED50,min:50,max:75});else if(ie.itemDuration>=de.MAX_DURATION)for(var t=e>=900&&1800>=e?10:e>1800&&3600>=e?5:e>3600&&7200>=e?3:e>7200&&10800>=e?2:e>10800?1:25,n=100/t,i=1;n>i;i++){var a=i*t,r=a+t,o=de.TRACKED+a;r=100===r?98:r,$.push({type:o,min:a,max:r}),Ut("setMilestones added: "+o+"=>"+a+"-"+r)}$.push({type:de.TRACKED98,min:98,max:100})}function E(){ue=0;var e=$t(U.omnitureLiveEventData)?U.omnitureLiveEventData:[],t=e.length,n=Jt(U.omnitureLiveEventBeaconFreq)?U.omnitureLiveEventBeaconFreq:de.LIVE_BEACON_FREQ;Ut("setLiveEventBeaconFreq beaconFreq: "+n);for(var i=0;t>i;i++){var a=Yt(e[i])?e[i]:{};if(!qt(a.guid)&&a.guid===ie.guid&&Jt(a.beaconFreq)){ie.liveEventBeaconFreq=a.beaconFreq,Ut("setLiveEventBeaconFreq guid match: "+a.guid+" beaconFreq:"+a.beaconFreq);break}}Jt(ie.liveEventBeaconFreq)&&ie.liveEventBeaconFreq>=de.LIVE_FREQ_MAX?ie.liveEventBeaconFreq=de.LIVE_FREQ_MAX:Jt(ie.liveEventBeaconFreq)&&ie.liveEventBeaconFreq<=de.LIVE_FREQ_MIN?ie.liveEventBeaconFreq=de.LIVE_FREQ_MIN:ie.liveEventBeaconFreq=n,Ut("setLiveEventBeaconFreq liveEventBeaconFreq: "+ie.liveEventBeaconFreq)}function m(e,n){var i=JSON.parse(JSON.stringify(e));an(n)&&(i.events=vi.appendWithComma(i.events,de.VIDEOITEM_EVENT)),i.trackVars=ht,i.host=window.location.hostname,t[pe](i)}function T(e,t){return Yt(e)&&Xt(t)?(e.events=vi.appendWithComma(e.events,t),e):e}function A(t,n,i){var a={};return i&&(a=i),a.events=t,a.linkType=a.linkType||"o",a.linkName=n,o(a),e.sendMegabeaconData({data:a}),a}function v(e){var t,n=window.EdgePlayer.Timeouts;switch(e){case n.AD_PLAY_REQUEST:t=de.AD_PLAY_REQUEST_TIMEOUT;break;case n.AD_BREAK_START:t=de.AD_BREAK_START_TIMEOUT;break;case n.AD_STARTED:t=de.AD_STARTED_TIMEOUT;break;case n.INTRA_AD:t=de.INTRA_AD_TIMEOUT;break;case n.AGGREGATE:t=de.AGGREGATE_TIMEOUT}return t}function I(e){return e&&Yt(e)&&Yt(e.getData())?e.getData():{}}function y(e,t){return e&&Yt(e.getData())&&!qt(e.getData()[t])?e.getData()[t]:ht}var S,w=st+"AppMediaMeasure ",k=[],V=[],U=ht,x=ht,F={},Y=ft,H=0,G=mt,K=t.getPlaylistMetadata(),Z=t.getFirstItemData(),$=[],ee=mt,te=mt,ne={},ie={},ae=ht,re=ht,oe=0,se=ht,le=ft,de=e.AppMeasureVars,ce=0,ue=0,_e=0,he=0,ge=ft,fe=ft,Te=ft,ve=new yi,Ie={"a.media.ad.view":de.AD_START_EVENT,"a.media.ad.complete":de.AD_END_EVENT,"a.media.ad.name":de.AD_CREATIVE_ID,"a.media.ad.timePlayed":de.AD_TIME_SPENT,"a.media.ad.pod":de.AD_POD_ID,"a.media.ad.podPosition":de.AD_POD_ITEMS},ye={"a.media.ad.view":de.AD_BUMPER_START_EVENT,"a.media.ad.complete":de.AD_BUMPER_END_EVENT,"a.media.ad.name":de.AD_CREATIVE_ID,"a.media.ad.timePlayed":de.AD_TIME_SPENT,"a.media.ad.pod":de.AD_POD_ID,"a.media.ad.podPosition":de.AD_POD_ITEMS},Se={"a.media.name":de.MEDIA_NAME,"a.media.timePlayed":de.MEDIA_TIMEPLAYED,"a.media.segmentView":de.MEDIA_SEGMENTVIEW,"a.media.segment":de.MEDIA_SEGMENTEVAR,"a.media.view":de.VIDEOITEM_EVENT};return this[C]=function(t){var n={};return U=I(t),s(),n=JSON.parse(JSON.stringify(U)),"partner"===n.type?(n.applicationName=U.partnerPlayerName||de.DEFAULT_PARTNER_PLAYER_NAME,n.omnitureSuite=U.omniturePartnerAccount,n.omniturePathContext=de.SYNDICATED_PATH):"normal"===n.type?(n.applicationName=U.viralPlayerName||de.DEFAULT_VIRAL_PLAYER_NAME,n.omnitureSuite=U.omnitureViralAccount,n.omniturePathContext=de.VIRAL_PATH):(n.applicationName=U.networkPlayerName||de.DEFAULT_NETWORK_PLAYER_NAME,n.omnitureSuite=U.omnitureNetworkAccount,n.omniturePathContext=de.NETWORK_PATH),Xt(Xn())?n.applicationContext=Xn().substring(0,400):n.applicationContext=Xt(U.ref)?U.ref:e.AppMeasureVars.NO_APPLICATION_CONTEXT,n.applicationOrigin=Xt(U.applicationOrigin)?U.applicationOrigin:e.AppMeasureVars.NO_APPLICATION_ORIGIN,U=n},this[P]=function(e){F=I(e)},this[X]=function(e){S=I(e)},this[R]=function(n){var a=I(n),r=a.playhead,o=0,c={};return Gt(F)?(F=JSON.parse(JSON.stringify(F)),hi(F,Z),Jt(r)?(Gt(ie)&&!qt(ie.itemIndex)&&ie.itemIndex!==F.index&&this[O](new e.Intent(O,{playhead:oe})),te=_i.read(de.VMN_UUID_COOKIE),ve.stop(),o=ve.getElapsedMilliSeconds()/1e3,ve.reset(),ie=e.AppMediaMeasureVO.fromMetadata(F,U,le,ee,te,o),le=ie.hasPlaylistStarted,ie.reportable?(an(t.getIsLive())&&E(),se=ie.videoTitle,s(),l(ft),f(ie.itemDuration),_(ie,this),ne=e.HeartbeatdataVO.fromMetadata(ie,U,te,gt),c=d(ie,gt),an(fe)&&(c=T(c,e.AppMeasureVars.POD_COMPLETE_EVENT)),i(c),e.sendMegabeaconData({data:c}),x.Media.open(se,ie.itemDuration,U.applicationName),x.Media.play(se,r),ie.hasPlaylist&&(ce|=Math.pow(2,ie.itemIndex)),m(c,gt),ge=ft,fe=ft,c):ft):(Ft(w+"Invalid playhead supplied!"),ft)):(Ft(w+"No metadata available for the play start event!"),ft)},this[D]=function(e){var t=y(e,"playhead");Gt(ie)&&ie.reportable&&Jt(t)&&x.Media.play(se,t)},this[N]=function(e){var t=y(e,"playhead");Gt(ie)&&ie.reportable&&Jt(t)&&x.Media.stop(se,t)},this[b]=function(e){var t=y(e,"playhead");Gt(ie)&&ie.reportable&&Jt(t)&&x.Media.stop(se,t)},this[O]=function(e){var t=y(e,"hasPlayerDestroyed"),n=y(e,"playhead");t&&(ve.stop(),ve.reset()),Gt(ie)&&ie.reportable&&Jt(n)&&(x.Media.stop(se,n),x.Media.close(se))},this[Ae]=function(e){return Ut(w+"onBufferStall starts"),Te?void 0:(this[N](e),ve.start())},this[L]=function(e){return ve.stop(),H=Gt(ie)&&ie.reportable&&Jt(e.getData().playhead)?e.getData().playhead:ht;
},this[Ee]=function(e){return Ut("onUserSegment : "+y(e)),gt},this[me]=function(e){return ae=y(e,"value"),Ut(w+"onVisitorId : ",ae),ae},this[q]=function(){return Ut(w+"AppMediaMeasure.onAdPodPlayStart"),Gt(U)&&U.omnitureAdTracking&&l(gt),Te=gt,ve.stop(),gt},this[W]=function(){return Ut(w+"onAdPodPlayEnd"),an(ge)&&(fe=gt),Te=ft,gt},this[M]=function(){Y&&(ge=ft,Y=ft,x.Media.complete(G,-1),x.Media.stop(G,-1),G=mt)},this[j]=function(){var t;if(Gt(U)&&U.omnitureAdTracking&&(Ut(w+"onAdPlayStart"),!Y&&Gt(S))){S.isBumper?x.Media.contextDataMapping=ye:x.Media.contextDataMapping=Ie;var n=u(K,S);ge===ft?(t=d(n,ft),t=T(t,e.AppMeasureVars.POD_START_EVENT),ge=gt):t={},t.videoTitle=n.videoTitle,G=S.creativeId+"_"+Math.floor(1e4*Math.random()),r(t,S,G,U.applicationName,-1),Y=gt}return t},this[z]=function(){Y=ft,x.Media.complete(G,-1),x.Media.stop(G,-1),G=mt},this[J]=function(){x.Media.stop(G,-1)},this[Q]=function(){x.Media.play(G,0)},this[Re]=function(){x.Media.stop(G,-1)},this[De]=function(){x.Media.play(G,0)},this[B]=function(){this[O](new e.Intent(O,{playhead:oe}))},this[Ne]=function(e){var t,n=I(e);switch(Gt(U)&&U.omnitureAdTracking&&l(gt),n.type){case"AD_TIMEOUT_FAILOVER":t=v(n.phase),A(t,n.type);break;case"FW_ERROR":A(n.error,n.type);break;case"REPORT-BENTO-CONFIG":A(n.error,n.type,{eVar6:Hn,eVar7:Z.guid,eVar8:"ERROR - No Profile"})}},this},e.Demdex=function(){return this[C]=function(t){e.MessageUtil.postMessage(e.MessageVars.DEMDEX_SEGMENT)},this[ge]=function(t){var n=t.getData();n.value&&_i.setLocalStorage(e.FreewheelVars.FW_DEMDEX_FW_SEGMENT,n.value)},this[pe]=function(t){var n=t.getData(),i={},a={};"0"===_i.read("vmn_3pc")&&(a.d_dpuuid=_i.read("vmn_uuid"));for(var r in n)if(n.hasOwnProperty(r)){if(Bt(n[r])||!Wt(n[r]))continue;var o,s=r.toLowerCase();o=s.match(/^(prop\d{1,2})$/gi)?s.replace("prop","c"):s.match(/^(evar\d{1,2})$/gi)?s.replace("evar","v"):s.match(/^(hier\d{1,2})$/gi)?s.replace("hier","h"):s.match(/^(channel)$/gi)?s.replace("channel","ch"):r,a["c_"+o]=encodeURIComponent(n[r])}return i.url=e.DemdexVars.DEMDEX_URL()+"event?",i.params=a,i.appendRandomString=gt,i.receiver="Demdex : ",gi.sendImageBeaconRequest(i),i},this},e.Freewheel=function(t,n){function i(e){return m&&m[e]?m[e]:Et}function a(e){return e&&e.getData?e.getData():void 0}function r(e){var t=a(e);h=t.playhead?t.playhead:h}function o(){if(z=i("getAdPlayheadObj")(),Ut(d+"adPlayheadObj",z),H.stop(),!(qt(z.adPlayhead)||Bt(z.adPlayhead)||rn(t.isInAdBreak()))){if(t.isInAdPlay()&&H.getElapsedSeconds()>2&&(-1===z.adPlayhead||0===z.adPlayhead))return xt(d+"adPlayhead did not update after 2 seconds. Ending this ad pod!"),H.reset(),i("stopSlot")(),t.onAdPodPlayEnd(),void e.onPageEvent({events:e.AdVars.BROWSER_DISRUPTS_PLAYBACK});t.onAdPlayheadUpdate(z),H.start()}}function s(){return T?ft:(f=e.FreewheelVO.fromConfigAndMetadata({currentMetadata:_,playerConfig:c,playlistMetadata:p,itemIndex:g,playerContainer:b,adCuePoints:t.getCuePoints()}),m=Cn(c)?new Li(f,t):new Mi(f,t),i("init")(),void(T=gt))}function l(e){var t=(v.PREROLL,v.MIDROLL,v.POSTROLL,{preRoll:"preroll",midRoll:"midrolls",postRoll:"postroll"}),n=t[e];return I&&I[n]?I[n]:void 0}var d=st+"Freewheel ",c=ht,u=this,_=ht,p=ht,h=-1,g=0,f={},E=ft,m=n||ht,T=ft,A=ft,v=e.FreewheelVars,I=ht,y=0,S=0,P=ht,b=ht,k=ft,Y=ht,H=new yi({timerFunc:o,interval:100}),K=gt,z={};return Y=t.getPlayer(),_=t.getFirstItemData(),p=t.getPlaylistMetadata(),b=t.getPlayerContainer(),A=_.isPlaylistMode,c=Y.config||{},this.getSkippedAdId=function(){var e=l(P),t=[];return e&&(t=e.ads||e[S]&&e[S].ads),t&&t[y]?t[y].adId:void 0},this[C]=function(e){c=a(e),g=t.getCurrentItemIndex(),T=ft,s(),i("onPlayerConfigReady")()},this[G]=function(n){var r=p.items.length;E=ft;var o=a(n),s=li.isTimeSinceLastAdElapsed(c);P=li.getAdType(o.data,A,r),s?(m.playedTime&&(m.playedTime=0),_i.getLocalStorage(e.AdVars.VIDEO_PLAYED_TIME)===ht&&_i.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,0),_.isMonolithicContent&&(o.data.adBreakType?P=o.data.adBreakType:xt(d+"Monolithic adBreakType is undefined. Falling back to inferredAdType")),i("isTimeForAnAd")(P,o.data)):(i("updateCurrentItemIndex")(P,o.data),t.onAdPodPlayEnd())},this[R]=function(e){K===ft&&(K=gt,b.classList.remove(Vn)),r(e),k=ft,i("videoState")("PLAYING")},this[D]=function(e){r(e),i("videoState")("PLAYING")},this[N]=function(e){r(e),i("videoState")("PAUSED")},this[L]=function(e){r(e),li.persistVideoPlayedTime(),i("playheadUpdate")(h)},this[M]=function(e){var n=a(e);g=n.itemIndex?n.itemIndex:0,A&&(t.isInAdBreak()&&this[B](),T=ft,s(),i("resetAdBridge")(),t.isInAdBreak()&&t.onAdPodPlayEnd())},this[V]=function(e){Ut(d+"onUiScreenChange"),i("uiStateChange")(a(e))},this[ve]=function(){Ut(d+"onPlayerResize"),i("onPlayerResize")()},this[w]=function(e){Ut(d+"onFullScreenChange"),t.isInAdBreak()&&i("uiStateChange")(a(e))},this[Z]=function(){i("adClick")()},this[ae]=function(e){y=0,S=0,I=a(e),i("adRequestCompleted")(I)},this[re]=function(){E=gt,H.stop(),i("onAdBreakTimeout")(),i("stopSlot")()},this[te]=function(e){E=gt,H.stop(),i("onAdBridgeMultiLoaded")(e)},this[Te]=function(e){rn(A)&&rn(k)&&(k=gt,T=ft,s(),i("resetAdBridge")())},this[O]=function(e){var t=f.segmentsDuration.length;f.isFullEpisode&&f.currentIndex!==t-1?(Ut(d+"Setting the video play status to PAUSED for inbetween segments in FEP. ",f.currentIndex,t),i("videoState")("PAUSED")):(Ut(d+"Setting the video play status to completed. ",f.currentIndex,t),i("videoState")("COMPLETED")),i("closeOverlay")(a(e))},this[q]=function(){var e=t.getPlayerVolume();m&&(i("slotStarted")(),H.start(),Bt(e)||i("setVolume")(e))},this[W]=function(e){y=0,H.stop(),H.reset(),i("slotEnded")(a(e))},this[j]=function(){H.stop(),H.reset(),H.start(),y+=1,i("adPlayStart")()},this[J]=function(){i("adPause")(),H.stop()},this[Q]=function(){i("adUnPause")(),H.start()},this[ee]=function(){i("adBridgeReady")()},this[ne]=function(e){var t=a(e);E?i("stopSlot")():i("adRenderer")(t)},this[he]=function(t){var n=a(t);Xt(n.value)&&_i.setLocalStorage(e.FreewheelVars.VMN_UUID,n.value)},this[U]=function(e){var t=a(e);Ut(d+"volumeChange",t),Jt(t.volumeLevel)&&i("setVolume")(t.volumeLevel)},this[x]=function(){i("onMute")()},this[F]=function(){i("onUnMute")()},this[ue]=function(e){var n=a(e);if(!I||!n.adType)return ft;var i=l(n.adType);n.adType===v.MIDROLL?(t.sendAdPlayRequest(i[S]||{}),S+=1):t.sendAdPlayRequest(i)},this[B]=function(){i("destroy")(),t.clearAdPlayFailSafeTimer(),H.reset(),H.stop()},this[at]=function(){t.onAdSkipped(u.getSkippedAdId(),{level:e.ErrorCode.WARN,message:d+"Receiver ad request timeout"}),i("stopSlot")()},this},e.GoogleIMA=function(t){function n(e){Ut(d+"setSegmentDuration",e);var n=e.items&&e.items.length?e.items.length:1,i=0,a=t.getCuePoints();if(Wt(a))for(var r=0;r<a.length;r++)g[r]=a[r].time;else if(n>0)for(var o=0;n>o;o++)i+=e.items[o].duration,g[o]=i;T=Math.floor(g[g.length-1]),Ut(d+"setSegmentDuration length: "+g.length)}function i(){A.stop();var n=r("getAdPlayheadObj",gt)();if(!(qt(n.adPlayhead)||Bt(n.adPlayhead)||rn(t.isInAdBreak()))){if(t.isInAdPlay()&&A.getElapsedSeconds()>2&&(-1===n.adPlayhead||0===n.adPlayhead))return xt(d+"adPlayhead did not update after 2 seconds. Ending this ad pod!"),A.reset(),r(oe)(),t.onAdPodPlayEnd(),void e.onPageEvent({events:e.AdVars.BROWSER_DISRUPTS_PLAYBACK});t.onAdPlayheadUpdate(n),A.start()}}function a(){c=t.getFirstItemData(),u=t.getPlaylistMetadata(),p=u?u.items.length:1,_=c.isPlaylistMode}function r(e,t){return function(n){return n&&n.getData&&(n=n.getData()),t||Ut(d+e),nn(l[e])&&l[e](n)}}function o(){Xt(s.vpaidVersion)&&r("setVpaidVersion")(s.vpaidVersion),n(u),r("setSegmentDurations")(g)}var s,l,d=st+"GoogleIMA ",c=ht,u=ht,_=ft,p=1,h=ft,g=[],f=ht,E=ft,m=0,T=0,A=new yi({timerFunc:i,interval:100});return this.getAdController=function(){return l},this[ye]=r(ye),this[Ce]=r(Ce),this[V]=r(V),this[ee]=r(ee),this[H]=r(H),this[Y]=r(Y),this[P]=r(P),this[Z]=r(Z),this[K]=r(K),this[se]=r(se),this[le]=r(le),this[de]=r(de),this[Pe]=r(Pe),this[$]=r($,gt),this[Se]=function(){return Ut(d+"onImaJsSdkLoadError"),nn(l[Se])&&l[Se]()},this[J]=function(){A.stop(),r(J)()},this[Q]=function(){A.start(),r(Q)()},this[B]=function(){A.stop(),A.reset()},this[C]=function(e){return Ut(d+"onPlayerConfigReady"),s=e.getData(),Cn(s)?(Ut(d+"Loading Bento IMAController (AS3)"),l=new wi(t)):(Ut(d+"Loading Bento IMAController (JS)"),l=new ki(t)),o(),l},this[Te]=function(){o(),r(Te)()},this[w]=function(e){return t.isInAdBreak()?r(w)(e):void 0},this[L]=function(e){var t=e.getData();m=t.fullEpPlayhead,li.persistVideoPlayedTime(),r(L)(t)},this[R]=function(e){h=ft,r(R)(e)},this[G]=function(n){var i=li.isTimeSinceLastAdElapsed(s),a=T-m;if(Ut(d+"onIsTimeForAnAd hasOnIsTimeForAnAd isAdTime",h,i),E=ft,!i)return t[W](),gt;if(h)t[W]();else{var o=e.FreewheelVars,l=n.getData();if(l=l.data?l.data:{},l.inferredAdType=li.getAdType(l,_,p,a),c.isMonolithicContent&&(l.adBreakType?l.inferredAdType=l.adBreakType:xt(d+"Monolithic adBreakType is undefined. Falling back to inferredAdType"),l.indexPlaying=0,0===l.currentIndex&&Wt(l.cuePointIndex)&&(l.indexPlaying=l.cuePointIndex+1)),l.inferredAdType!==o.POSTROLL&&l.hasContentEnd===gt)return t[W](),ft;h=gt,Ut(d+"onIsTimeForAnAd inferredAdType: "+l.inferredAdType),r(G)(l)}},this[M]=function(e){var n=e.getData();Ut(d+"onPlayIndexChanged",n),h=ft,_&&r("destroyAdManager")(),l.onPlayIndexChanged(n,_),t.isInAdBreak()&&_&&t.onAdPodPlayEnd()},this[y]=function(e){var t=e.getData();Ut(d+"onPlayerFeedLoaded",t),t.player.imaPlaceholder&&r("setImaPlaceholder")(t.player.imaPlaceholder),r(y)(e)},this[ve]=function(){Cn(s)&&r(ve)()},this[q]=function(){A.start()},this[W]=function(){A.stop(),A.reset(),h=ft,r(W)()},this[j]=function(){return A.stop(),A.reset(),A.start(),E?ft:(f=t.getPlayerVolume(),Bt(f)||r("setVolume")(f),void r(j)())},this[te]=function(e){A.stop()},this[U]=function(e){var t=e.getData();Yt(t)&&Jt(t.volumeLevel)&&r("setVolume")(t.volumeLevel)},this[x]=function(){r("onMute")()},this[F]=function(){r("onUnMute")()},this[re]=function(){E=gt,A.stop(),r(re)(),r(oe)()},this[at]=function(){t.onAdSkipped(e.AdVars.NO_AD_ID,{level:e.ErrorCode.WARN,message:d+"Receiver ad request timeout"}),r(oe)()},a(),this},e.HeartBeatMeasure=function(t){function n(){function e(e){Ut(m+"AdobeAnalyticsPlugin error: "+e.getMessage()+" | "+e.getDetails())}for(var t=Et,n=Ce.length;n--;)t=Ce.shift(),t.target=hi(t.target,t.inheritsFrom),t.target.onError=e}function i(){var t=window.btg;return Ut(m+"getTrackingServer","Setting tracking server."),t&&t.config&&t.config.Omniture&&t.config.Omniture.enableFirstPartyCookie?(Ut(m+"getTrackingServer","Tracking server by Environment utility based on same-frame CODA configuration."),ae=e.Environment.getCnamedDomain()):ae===ht&&T&&T.omnitureTrackingServer?(Ut(m+"getTrackingServer","Tracking server by player configuration."),ae=T.omnitureTrackingServer):(Ut(m+"getTrackingServer","Tracking server already set or being set by browser message event."),ae)}function a(){he.prototype.getVideoInfo=function(){var e=new W;return e.id=De.isFullEpisode?De.playlistId:De.guid,e.name=De.playlistTitle,e.length=w?F.LIVE_DURATION:Math.round(le),e.streamType=w?F.STREAM_TYPE_LIVE:F.STREAM_TYPE_VOD,e.playerName=T.applicationName,e.playhead=U?U:0,e}}function r(){he.prototype.getAdBreakInfo=function(){var e=new Q;return e.position=Pe,e.playerName=T.applicationName,e.startTime=U,e.name=I.adType.toUpperCase(),Le=gt,e}}function o(e){he.prototype.getChapterInfo=function(){var n=new Z;return n.length=v.duration,n.startTime=U,n.position=y.isMonolithicContent?t.getMonolithicIndex(e)+1:v.itemIndex+1,n}}function s(){he.prototype.getAdInfo=function(){var e=new J;return e.id=I.adId.toString(),e.length=I.creativeDuration,e.position=I.currentAdIndex,e.name=I.creativeId,e}}function l(e,t){return e.prototype[t]=Ee,e}function d(){var e=ht,t={};return t.cookieDomain=Jn(),t.trackingServer=i(),t.idSyncDisable3rdPartySyncing=T.requiresCoppaCompliance,A.setAccount(T.omnitureSuite),A.trackingServer=i(),un()&&(A.ssl=gt,A.trackingServerSecure=t.trackingServerSecure="s"+A.trackingServer),e=Visitor.getInstance(F.MARKETING_CLOUD_ORG_ID,t),Me=e.getMarketingCloudVisitorID()||"NO_MID",A.visitor=e,A.referrer=vi.lengthLimiter(document.referrer,F.URL_LIMIT,At),A.pageURL=vi.lengthLimiter(document.URL,F.URL_LIMIT,At),A.debugTracking=Vt(),A.trackLocal=gt,A.trackingServer&&Xt(T.omnitureVisitorMigrationKey)&&Xt(T.omnitureVisitorMigrationServer)&&(A.visitorMigrationKey=T.omnitureVisitorMigrationKey,A.visitorMigrationServer=T.omnitureVisitorMigrationServer),Xt(T.omnitureCharacterSet)&&(A.charSet=T.omnitureCharacterSet),Xt(T.omnitureDataCenter)&&(A.dc=T.omnitureDataCenter),T.omnitureVisitorNamespace&&(A.visitorNamespace=F.MARKETING_CLOUD_ORG_ID),Xt(ie)&&(A.visitorID=ie),e}function c(t){var n=ADB.va.Heartbeat,i=ADB.va.HeartbeatConfig,a=ADB.va.plugins.videoplayer.VideoPlayerPlugin,r=ADB.va.plugins.videoplayer.VideoPlayerPluginConfig,o=ADB.va.plugins.aa.AdobeAnalyticsPlugin,s=ADB.va.plugins.aa.AdobeAnalyticsPluginConfig,l=ADB.va.plugins.ah.AdobeHeartbeatPlugin,d=ADB.va.plugins.ah.AdobeHeartbeatPluginConfig,c=new a(new he),u=new r;u.debugLogging=ft,c.configure(u);var _=new o(A,new _e),p=new s;p.channel=T.originRef?decodeURIComponent(T.originRef):decodeURIComponent(T.ref),p.debugLogging=ft,_.configure(p);var h=new l(new ge),g=new d(F.HEART_BEAT_TRACKING_SERVER,F.MARKETING_CLOUD_ORG_ID);un()&&(g.ssl=gt),g.ovp=e.Environment.userAgent.browser,g.sdk=e.version,g.debugLogging=ft,h.configure(g);var f=new n(new fe,[c,_,h]),E=new i;return E.debugLogging=ft,f.configure(E),A.pageName=Xt(T.omniturePathContext)?T.omniturePathContext+t:t,{videoPlugin:c,aaPlugin:_}}function u(){ve=d(),Ie=p(),a(),re=c(y.playlistTitle),oe=re.videoPlugin,se=re.aaPlugin,se.setVideoMetadata(Ie),oe.trackVideoLoad(),oe.trackPlay(),de=gt}function _(n){return w?e.AppMeasureVars.LIVE_DURATION:Math.round(De.isMonolithicContent?t.getMonolithicSegDuration():n.duration)}function p(){var t=ht,n=de?v:De,i=_(n);return t=e.HeartbeatdataVO.fromHeartbeatMetadata(n,T,ft,le,w,ht,i,Me),t=di.getMappedObject(t,T),t.trackVars=ht,t[F.SEAMLESS_CONTEXT_VARIABLE]=mt+ne,t}function h(e){var n={};try{n=JSON.parse(JSON.stringify(e))}catch(i){xt(m+"Failed to parse data for AAM tracking!")}n.trackVars=ht,n.host=window.location.hostname,t[pe](n)}function g(e,t,n){var i,a,r,o,s,l=ht,d=mt,c=ht,u="isCallSent";if(n=qt(n)?v.playlistLength+1:n,l=ye[n]=ye[n]||{10:ft,20:ft,75:ft,95:ft,isCallSent:ft},d=Math.round(e/t*100)+mt,an(l[u]))return ft;switch(s=30>t?5:3,i=[7,7+s],a=[17,17+s],r=[72,72+s],o=[92,92+s],gt){case d>=i[0]&&d<=i[1]:c=10;break;case d>=a[0]&&d<=a[1]:c=20;break;case d>=r[0]&&d<=r[1]:c=75;break;case d>=o[0]&&d<=o[1]:c=95}Bt(c)||l[c]!==ft||(l[c]=gt);for(var _ in l)if(_!==u&&!l[_])return ft;return l[u]=gt,gt}function f(e){Bt(se)||(v&&v.hasPlaylist&&(se.setChapterMetadata(ht),y.isMonolithicContent?U>=Math.floor(be)-1&&oe.trackChapterComplete():V>=v.duration-1&&oe.trackChapterComplete()),se.setVideoMetadata(ht),l(he,"getChapterInfo"))}function E(){if(!Bt(oe)){var e=v&&v.isPlaylistMode&&v.itemIndex===v.playlistLength-1&&U>=Math.floor(v.duration-1);(U>=le-1||e)&&oe.trackComplete(),oe.trackVideoUnload(),l(he,"getVideoInfo"),de=ft}}var m=st+"HeartbeatMeasure ",T=ht,A=ht,v=ht,I={},y=t.getFirstItemData(),S=t.getPlaylistMetadata(),w=ht,V=0,U=0,x=0,F=e.AppMeasureVars,Y=ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate,H=ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate,G=ADB.va.HeartbeatDelegate,K=ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate,W=ADB.va.plugins.videoplayer.VideoInfo,Q=ADB.va.plugins.videoplayer.AdBreakInfo,J=ADB.va.plugins.videoplayer.AdInfo,Z=ADB.va.plugins.videoplayer.ChapterInfo,ee=ft,te=ft,ne=ft,ie=ht,ae=ht,re=ht,oe=ht,se=ht,le=0,de=ft,ce={},ue=0,_e=Et,he=Et,ge=Et,fe=Et,Ee=function(){return ht},ve=ht,Ie=ht,ye=[],Se=t.getCuePoints(),Ce=[{target:_e.prototype,inheritsFrom:Y.prototype},{target:he.prototype,inheritsFrom:K.prototype},{target:ge.prototype,inheritsFrom:H.prototype},{target:fe.prototype,inheritsFrom:G.prototype}],Pe=0,Re=0,De=ht,Ne=ft,be=0,Oe=0,Le=ft,Me=mt;return this[C]=function(e){var t=ht;Ut(m+"onPlayerConfigReady"),ye=[],de=ft,T=e.getData(),Pe=0,A=new AppMeasurement,n();try{t=JSON.parse(JSON.stringify(T))}catch(i){return xt(m+"Failed to validate player config as JSON format, will not modify"),T}switch(T.type){case"partner":t.applicationName=T.partnerPlayerName||F.DEFAULT_PARTNER_PLAYER_NAME,t.omnitureSuite=T.omniturePartnerAccount,t.omniturePathContext=F.SYNDICATED_PATH;break;case"normal":t.applicationName=T.viralPlayerName||F.DEFAULT_VIRAL_PLAYER_NAME,t.omnitureSuite=T.omnitureViralAccount,t.omniturePathContext=F.VIRAL_PATH;break;default:t.applicationName=T.networkPlayerName||F.DEFAULT_NETWORK_PLAYER_NAME,t.omnitureSuite=T.omnitureNetworkAccount,t.omniturePathContext=F.NETWORK_PATH}t.applicationContext=Xt(T.ref)?T.ref:F.NO_APPLICATION_CONTEXT,t.applicationOrigin=Xt(T.applicationOrigin)?T.applicationOrigin:F.NO_APPLICATION_ORIGIN,T=t},this[X]=function(e){I=e.getData(),Ut(m+"onAdMetadata",I)},this[P]=function(e){v=e.getData(),Ut(m+"onMetadata",v)},this[Te]=function(){ye=[],ue=0,Pe=0,de=ft},this[me]=function(e){return ie=Gt(e.getData())&&e.getData().value||ht,Ut(m+"onAdmsVisitorId",ie),ie},this[M]=function(t){var n=t.getData(),i=n&&n.itemIndex?n.itemIndex:0,a=T.feed,r=S.items;return De=S.items[i],De.playlistLength=r.length,De.title=a.title,De.isFullEpisode=vi.isDefined(T.contentType)&&"episode"===T.contentType,De.hasPlaylist=De.playlistLength>1,De.isPlaylistMode=De.isFullEpisode===ft&&De.hasPlaylist,De=e.MetadataVO.fromRSSMetadata(De)},this[L]=function(e){var t=e.getData(),n=v.duration,i=v.index;V=t.playhead,U=t.fullEpPlayhead,w||(y.isMonolithicContent&&(n=be,i=Oe,i>0&&Wt(Se[i-1])&&(V-=Se[i-1].time)),g(V,n,i)&&(v.hasPlaylist?ce[F.ACTIVITY_CONTEXT_VARIABLE]=F.SEGMENT_END_ACTIVITY:ce[F.ACTIVITY_CONTEXT_VARIABLE]=F.CLIP_END_ACTIVITY,h(ce)),v.isFullEpisode&&g(U,le)&&(ce[F.ACTIVITY_CONTEXT_VARIABLE]=F.EPISODE_END_ACTIVITY,h(ce)))},this[$]=function(e){var t=e.getData();x=t.adPlayhead},this[R]=function(n){var i=ht,a=ht,r=n.getData();Bt(w)&&(w=t.getIsLive()),Ne=gt,Ie=p(),y.isMonolithicContent&&(Oe=t.getMonolithicIndex(U),be=t.getMonolithicSegDuration()),Ut(m+"onPlaystart"),rn(de)?u():(oe.trackPlay(),se.setVideoMetadata(Ie)),a=e.HeartbeatdataVO.fromMetadata(v,T,Me),an(v.hasPlaylist)&&(se.setChapterMetadata(Ie),o(r.fullEpPlayhead),oe.trackChapterStart()),Ie[F.SEAMLESS_CONTEXT_VARIABLE]=mt+ne,i=di.getMappedObject(Ie,T),i[F.ACTIVITY_CONTEXT_VARIABLE]===F.FULL_EPISODE_START_ACTIVITY&&ue++,v.hasPlaylist&&ue>1&&(i[F.ACTIVITY_CONTEXT_VARIABLE]=F.SEGMENT_START_ACTIVITY),h(i),ce=di.getMappedObject(a,T)},this[N]=function(){Bt(oe)||(Ut(m+"onPause"),oe.trackPause())},this[D]=function(e){Ut(m+"onResume"),he.prototype.getVideoInfo=function(){var e=new W;return e.playhead=U,e.resumed=gt,e},ee&&(oe.trackSeekComplete(),ee=ft,Ut(m+"SeekComplete")),te&&(oe.trackBufferComplete(),te=ft,Ut(m+"BufferComplete")),Bt(oe)||oe.trackPlay()},this[b]=function(e){Bt(oe)||(Ut(m+"SeekStart"),ee=gt,oe.trackSeekStart())},this[Ae]=function(e){rn(Ne)||Bt(oe)||(Ut(m+"BufferStart"),te=gt,oe.trackBufferStart())},this[O]=function(e){Ut(m+"onPlayEnd"),Re+=1,Ne=ft,v.isPlaylistMode&&v.playlistLength===Re&&(ce[F.ACTIVITY_CONTEXT_VARIABLE]=F.EPISODE_END_ACTIVITY,h(ce)),f()},this[B]=function(){f(),t.isInAdBreak()&&(l(he,"getAdBreakInfo"),l(he,"getAdInfo")),E()},this[j]=function(){var t=ht;Ut(m+"onAdPlayStart",I.currentAdIndex),rn(de)?u():(oe.trackPlay(),a()),t=e.HeartbeatdataVO.fromHeartbeatMetadata(De,T,gt,le,w,I,_(De),Me),t=di.getMappedObject(t,T),t.trackVars=ht,rn(Le)&&r(),Bt(se)||(s(),se.setAdMetadata(t),oe.trackAdStart())},this[q]=function(){Ut(m+"onAdPodPlayStart. Incrementing Ad Pod Start Count"),Bt(w)&&(w=t.getIsLive()),Le=ft,Pe+=1},this[z]=function(){Ut(m+"onAdPlayEnd"),se.setAdMetadata(ht),oe.trackAdComplete(),I.currentAdIndex===I.adCount&&(oe.trackPause(),l(he,"getAdBreakInfo")),l(he,"getAdInfo")},this[k]=function(){E()},this[ot]=function(){ne=gt},De=y,y&&(le=y.playlistDuration),this};var bi=function(e){function t(e){if(c=[],u=[],e instanceof Array)for(var t=0,n=e.length;n>t;t++){var i=e[t];typeof i===lt&&(!i.hasOwnProperty(s)||i[s]!==1/0&&i[s]!==d?(i.hasOwnProperty(s)&&Xt(i[s])&&i[s].indexOf(d)>-1&&(i[s]=i[s].replace(new RegExp(d+"|\\s+","g"),mt)),c.push(i)):u.push(i))}}function n(e){for(var t={},n=0,i=e.length;i>n;n++){var a=e[n];for(var r in a)a.hasOwnProperty(r)&&(t[a.name]=a.value)}return t}function i(t){var i={},a=e.getPlayerConfig(),r=e.getMetadata();t.prop&&t.prop.length>0&&(i.params=n(t.prop)),r.ref=a.ref,Xt(t.url)?(i.url=vi.replaceTokens(t.url,r),Ut(o+"sendBeacon",i),gi.sendImageBeaconRequest(i)):xt("One of the requests has failed due to the beacon not containing a URL property.")}function a(){if(c.length<=0)return ht;for(var e=0,t=c.length;t>e;e++){var n=c[e];typeof n===lt&&(n.hasOwnProperty(s)&&n[s]<=_||n.hasOwnProperty(l)&&n[l]<_)&&(i(n),c[e]=ft)}}function r(){for(var e=0,t=u.length;t>e;e++)i(u[e])}var o=st+"LegacyBeacons ",s="startTime",l="elapsed",d="end",c=[],u=[],_=0;return this[R]=function(){var n=e.getMetadata();Ut(o+"LegacyBeacons onPlayStart"),n&&n.beacons&&t(n.beacons)},this[L]=function(e){_=e.getData().playhead,a()},this[O]=r,this[B]=r,this},Oi=function(t){function n(){Yt(NOLCMB)&&nn(NOLCMB.ggInitialize)&&Xt(d.nielsenApplicationId)&&!u&&(c=new NOLCMB.ggInitialize({apid:d.nielsenApplicationId,sfcode:d.nielsenSFcode,apn:d.networkPlayerName?d.networkPlayerName:yn}),u=typeof c===lt&&typeof c.ggPM===dt),Ut(s+"initAppSDK",c,u)}function i(e,t,n){return u?("trackProgress"!==n&&Ut(s+n,e,t),void c.ggPM(e,t)):ft}function a(e){i($n.STOP,Math.floor(E),"trackStop")}function r(){i($n.END,Math.floor(E),"trackEnd")}function o(e){return g.isFullEpisode?e.getData().fullEpPlayhead:e.getData().playhead}var s=st+"Nielsen ",l=e.ContentVO,d={},c=ht,u=ft,_=ht,p=ht,h=ht,g={},f=0,E=0;return t&&t.getFirstItemData&&(g=t.getFirstItemData(),p=t.getPlaylistMetadata()),this[C]=function(e){d=e.getData(),Ut(s+"onPlayerConfigReady",d),n()},this[Te]=function(e){u=ft,n()},this[R]=function(e){var n=t.getMetadata()||{};h=t.getIsLive(),n.videoType=$n.CLIP_TYPE,n.nielsenDprEnabled=d.nielsenDprEnabled,Ut(s+"onPlayStart",n),i($n.LOAD_CLIP,Ri.fromMetadata(n),"trackPlay")},this[D]=o,this[N]=a,this[b]=a,this[Ae]=a,this[z]=a,this[B]=function(e){a(e),r()},this[M]=function(e){var t=e.getData();f=t&&t.itemIndex?t.itemIndex:0},this[O]=function(e){a(e),p&&f+1===l.getPlaylistLength(p)&&r()},this[L]=function(e){var t;E=o(e),t=h?Math.floor((new Date).getTime()/1e3):E,i($n.PROGRESS,t,"trackProgress")},this[X]=function(t){var n=t.getData(),i={};if(Gt(p)&&$t(p.items)){try{i=JSON.parse(JSON.stringify(p.items[n.currentItemIndex]))}catch(a){Ut(s+"onAdMetadata tmpMetadata not successfully parsed from playlistMetadata")}i.adId=n.adId,i.videoType=n.adType&&n.adType.toLowerCase(),i.nielsenDprEnabled=d.nielsenDprEnabled,i.adDuration=Math.floor(n.creativeDuration),i.isFullEpisode=g.isFullEpisode,i.hasPlaylist=g.hasPlaylist,i.playlistTitle=g.playlistTitle,i.title=g.title,i=e.MetadataVO.fromRSSMetadata(i),Ut(s+"onAdMetadata tmpMetadata",i),_=Ri.fromMetadata(i)}},this[q]=function(){E=0},this[j]=function(){i($n.LOAD_AD,_,"onAdPlayStart -> trackPlay")},this};e.PlayerReceiver=function(t){var n=ht,i=e.FreewheelVars,a=st+"PlayerReceiver - ";return this.hasPreloadDone=ft,this[X]=function(e){return Ut(a+"PlayerReceiver.onAdMetadata"),Yt(e)&&Yt(e.getData())?n=e.getData():ht},this[$]=function(e){var r=e.getData();return Bt(n)||n.creativeDuration<6?this.hasPreloadDone:(this.hasPreloadDone===ft&&n.currentAdIndex===n.adCount&&n.creativeDuration-r.adPlayhead<=5&&n.adType!==i.POSTROLL&&(Ut(a+"CONTENT PRELOADING "),this.hasPreloadDone=gt,t.preloadContent()),this.hasPreloadDone)},this[W]=function(){return this.hasPreloadDone=ft,this.hasPreloadDone},this};var Li=function(t,n){function i(e,t){return function(){return t||Ut(G+e),ue?nn(ue[e])&&ue[e].apply(ue,arguments):ht}}function a(){Ut(G+"stopCurrentSlot"),i("stopTemporalSlot")(te)}function r(){Ut(G+"setDisplayBaseDimensions"),Yt(ee)&&!Bt(ee)&&(ne=ee.offsetWidth,ie=ee.offsetHeight,ae=ee.offsetTop,re=ee.offsetLeft)}function o(e){if(Yt(e))for(var t in e)qt(e.length)?e.hasOwnProperty(t)&&Xt(t)&&ue.setKeyValue(t,e[t]):ue.setKeyValue(e[t][0],e[t][1])}function s(){if(!Sn())return e.onPageEvent({events:e.AdVars.BROWSER_DISRUPTS_PLAYBACK}),void n.onSkipAllAdRequests({errorObj:{code:"FLASH-PLUGIN_DISABLED",level:e.ErrorCode.ERROR,message:"ImaAs3SDK - IMA flag set to indicate no ad playback throughout video."}});if(Ut(G+"playAd"),Y)return gt;if(te=ht,x===H.PREROLL)K.length>0?(te=K.shift().customID,n.onAdPlayRequest({adType:H.PREROLL}),i("playTemporalSlot")(te)):n.onAdPodPlayEnd();else if(x===H.POSTROLL)W.length>0?(te=W.shift().customID,n.onAdPlayRequest({adType:H.POSTROLL}),i("playTemporalSlot")(te)):n.onAdPodPlayEnd();else if(x===H.MIDROLL){var t=g();t?(te=t.customID,n.onAdPlayRequest({adType:H.MIDROLL}),i("playTemporalSlot")(te)):n.onAdPodPlayEnd()}else n.onAdPodPlayEnd()}function l(e){if(Ut(G+"adSlotRequestCompleted",ue),!e.success||!ue)return n.onAdRequestFailed(),n.onAdPodPlayEnd(),ft;for(var t=ue.getTemporalSlots(),i=0,a=t.length;a>i;i++){var r=t[i];switch(r.timePositionClass.toLowerCase()){case F.ADUNIT_PREROLL:K.push(r);break;case F.ADUNIT_MIDROLL:q.push(r);break;case F.ADUNIT_POSTROLL:W.push(r);break;case F.ADUNIT_OVERLAY:j.push(r)}}return z=gt,Q&&(Q=ft,s()),gt}function d(i){Ut(G+"adInstancePlayEvent",i);var a;return Bt(F)?a:(Number(i.type)===F.RENDERER_EVENT_IMPRESSION?(a=e.FreewheelAdMetadataVO.fromAdMetadata(i,t),n.onAdMetadata(a),n.onAdPlayStart()):Number(i.type)===F.RENDERER_EVENT_IMPRESSION_END?n.onAdPlayEnd():Number(i.type)===F.RENDERER_EVENT_FAIL&&n.onAdSkipped(i.adId,{level:e.ErrorCode.WARN,message:i.errorMessage}),a)}function c(e,t,n,a){ue=ue||document.getElementById(le),ue&&(n=n||0,a=a||0,ue.width=e,ue.height=t,ue.top=n,ue.left=a,(0===e&&0===t||e>0&&t>0)&&i("setVideoDisplaySize")(a,n,e,t,a,n,e,t))}function u(){ue&&ue.style&&(ue.style.visibility="hidden",c(1,1,-3e3,-3e3))}function _(){ue&&ue.style&&(c(ne,ie),ue.style.visibility="visible")}function p(n){var i=_i.getLocalStorage(e.AdVars.VIDEO_PLAYED_TIME),a=t.timeSinceLastAd;return Bt(i)||Jt(i)||(i=1e3*(parseInt(i,10)+n)),a=Bt(a)||Jt(a)?0:parseInt(a,10),0>=a||!Jt(i)||0===i||i>a?gt:ft}function h(e){if(Ut(G+"preloadSlot"),e&&e>=t.segmentsActualDuration[t.currentIndex]-t.adRenditionVO.preloadAdBeforeTime&&e<t.segmentsActualDuration[t.currentIndex]){if(!p(t.segmentsActualDuration[t.currentIndex]-e))return gt;if(t.currentIndex<t.segmentsActualDuration.length-1&&q&&q.length>0){for(var n=0,i=q.length;i>n;n++)if(q[n]!==ft){Z=ft,ue.preloadSlot(q[n].customID);break}}else W&&W.length>0&&(Z=ft,ue.preloadSlot(W[0].customID))}return gt}function g(){Ut(G+"getMidrolls");for(var e=ht,n=0,i=q.length;i>n;n++)if(q[n]&&t.currentIndex>n){e=q[n],q[n]=ft;break}return e}function f(e){return e?Number(e).toString(16):ht}function E(){if(Ut(G+"should init"),ue&&typeof ue.getConstants===dt){Ut(G+"init"),r(),$=ft,X=ft,J=gt,F=ue.getConstants(),ue.setServer(t.adServer),ue.setNetwork(t.networkID),ue.setProfile(t.profileID),ue.registerVideoDisplay(),ue.setVideoDisplaySize(0,0,ne,ie,0,0,ne,ie),ue.setSiteSection(t.siteSectionID),t.isIntl?ue.setVideoAsset(t.assetID,t.duration,t.referrer,gt,t.videoViewRandom,t.networkID,0,H.INTL_DEFAULT_ASSET_ID):ue.setVideoAsset(t.assetID,t.duration,t.referrer,gt,t.videoViewRandom,t.networkID),ue.addFlashEventListener(F.EVENT_REQUEST_COMPLETE,se+".onAdRequestCompleted"),ue.addFlashEventListener(F.EVENT_SLOT_ENDED,se+".onAdPodPlayEnd"),ue.addFlashEventListener(F.EVENT_SLOT_STARTED,se+".onAdPodPlayStart"),ue.addFlashEventListener(F.EVENT_RENDERER,se+".onAdRenderer"),ue.addFlashEventListener(F.EVENT_CUSTOM,se+".onAdRenderer");for(var e=1,i=t.segmentsDuration,a=i.length;a>e;e++)ue.addTemporalSlot("Midroll_"+e,F.ADUNIT_MIDROLL,i[e]);ue.setKeyValue(H.ENTIRE_URL,t.referrer),t.playlistID&&ue.setKeyValue(H.PLAYLIST_KEY,t.playlistID),o(t.tveKeyValues),o(t.hostSellingKeyValues),o(t.fwSegments);for(var s in t.extraFWKeyValues)t.extraFWKeyValues.hasOwnProperty(s)&&ue.setKeyValue(s,t.extraFWKeyValues[s]);_i.setLocalStorage(H.LAST_GUID_PLAYED,t.assetID),an(t.bandwidthEnabled)&&(Ut(G+"Bandwith setting to FW Ad request: ",t.adRenditionVO.desiredBitrateValue),ue.setParameter(H.FW_DESIRED_BITRATE_KEY,t.adRenditionVO.desiredBitrateValue,F.PARAMETER_OVERRIDE)),ue.submitRequest(),t.adRequestedData.sdkVersion=f(ue.getSDKVersion()),n.onAdRequested(t.adRequestedData)}else $=gt;return gt}function m(e,n){return Ut(G+"isTimeForAnAd","isFWReady",z),Y=ft,x=e,t.currentIndex=Wt(n.cuePointIndex)?n.cuePointIndex+1:n.currentIndex,z?s():(J||E(),Q=gt),gt}function T(e,n){return x=e,t.currentIndex=Wt(n.cuePointIndex)?n.cuePointIndex+1:n.currentIndex,gt}function A(e){return!t.preloadAdSlotEnabled||Z===ft||qt(e)?gt:(h(e),gt)}function v(e){var t={PLAYING:"VIDEO_STATUS_PLAYING",PAUSED:"VIDEO_STATUS_PAUSED",COMPLETED:"VIDEO_STATUS_COMPLETED"},n=Bt(F)?mt:F[t[e]];i("setVideoPlayStatus")(n)}function I(e){return ne=e.width,ie=e.height,ae=e.top,re=e.left,oe=e.active,c(ne,ie),e}function y(){si.replaceAdBridgeWithPlaceholderDiv(le),si.loadAdBridgeSwf(ee,de,"freewheel")}function S(){Ut(G+"adBridgeReady"),B=gt,ue=document.getElementById(le),E()}function C(){Ut(G+"slotStarted"),r(),_()}function P(t){Ut(G+"slotEnded",t),t&&"slotEnded"===t.type&&_i.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1),u(),Z=gt}function R(){n.isInAdBreak()&&(r(),c(ne,ie))}function D(e){return d(e)}function N(){Ut(G+"adPlayStart"),c(ne,ie)}function b(){i("pauseTemporalSlot")(te)}function O(){i("playTemporalSlot")(te)}function L(){return ce.adPlayhead=i("getAdPlayhead",gt)()||-1,ce.adPodPlayhead=i("getAdPodPlayhead",gt)()||-1,ce}function M(e){e=100*e,i("setAdVolume")(e)}function w(){}function k(){return a(),gt}function V(){return Y=gt}function U(e){return Y=gt,ue&&ue.style&&(ue.style.display="none"),n.onReportAdError({error:H.FW_AD_BRIDGE_MULTI_LOADED_EVENT,type:"FW_ERROR"}),gt}var x,F=ht,B=(t.failSafeTimerDisabled,ft),Y=ft,H=e.FreewheelVars,G=st+"FreewheelControllerAS3 ",K=[],q=[],W=[],j=[],z=ft,X=ft,Q=ft,J=ft,Z=gt,$=ft,ee=ht,te=ht,ne=0,ie=0,ae=0,re=0,oe=ft,se=ht,le=ht,de=n&&n.getPlayerId?n.getPlayerId():ht,ce={},ue=ht;return le=de+e.AdVars.AD_BRIDGE_ID,ee=n.getPlayerContainer(),se=de?"Bento.getPlayer('"+de+"')":"Bento",this.init=E,this.isTimeForAnAd=m,this.updateCurrentItemIndex=T,this.adRequestCompleted=l,this.playheadUpdate=A,this.videoState=v,this.uiStateChange=I,this.resetAdBridge=y,this.adBridgeReady=S,this.slotStarted=C,this.slotEnded=P,this.onPlayerResize=R,this.adRenderer=D,this.adPlayStart=N,this.adPause=b,this.adUnPause=O,this.setVolume=M,this.adClick=w,this.stopSlot=k,this.onAdBreakTimeout=V,this.onAdBridgeMultiLoaded=U,this.closeOverlay=Et,this.playedTime=Et,this.getAdPlayheadObj=L,this},Mi=function(t,n){function i(){be.vpaidHideDisabled!==gt&&(ve=document.getElementById(Q.VPAID_CLICK_DIV),ve&&(ve=typeof ve.length!==pt?ve[0]:ve,ve.style.display="none"))}function a(){ye.stop();var e=ye.getElapsedMilliSeconds();ye.reset(),ye.start(),1500>e&&e>0||ve&&nn(ve.click)&&ve.click()}function r(e){if(X=e||X,!Z)if(De&&De.classList&&De.classList.add&&De.appendChild&&De.classList.add(Un),X===Q.PREROLL)$.length>0?(n.onAdPlayRequest({adType:Q.PREROLL}),Te=$.shift(),Te.play(),an(Ne)&&rn(IS_DESKTOP)&&(Ie.muted=gt)):n.onAdPodPlayEnd();else if(X===Q.POSTROLL)te.length>0?(n.onAdPlayRequest({adType:Q.POSTROLL}),Te=te.shift(),Te.play()):n.onAdPodPlayEnd();else if(X===Q.MIDROLL){var t=g();t?(n.onAdPlayRequest({adType:Q.MIDROLL}),Te=t,Te.play()):n.onAdPodPlayEnd()}else X===Q.OVERLAY?ne.length>0&&ne.shift().play():n.onAdPodPlayEnd()}function o(e){if(!e.success)return n.onAdRequestFailed(),n.onAdPodPlayEnd(),ft;var t=J.getTemporalSlots();n.onAdRequestCompleted(t);for(var i=0,a=t.length;a>i;i++){var o=t[i];switch(o.getTimePositionClass()){case le.TIME_POSITION_CLASS_PREROLL:$.push(o);break;case le.TIME_POSITION_CLASS_MIDROLL:ee.push(o);break;case le.TIME_POSITION_CLASS_POSTROLL:te.push(o);break;case le.TIME_POSITION_CLASS_OVERLAY:ne.push(o);break;
default:Ut("error: invalid case statement")}o.getTimePositionClass()===ht&&o.getTimePosition()>0&&ee.push(ht)}return ee.length&&ee.sort(d),ie=gt,ae&&(ae=ft,r()),gt}function s(e){var t=e.slot.getAdInstances(ft);oe=t.length,de=e.slot.getCustomId(),e.slot.getTimePositionClass()===le.TIME_POSITION_CLASS_OVERLAY?setTimeout(f,300):n.onAdPodPlayStart()}function l(t){de=ht,Te=ht,se=1,t.slot.getTimePositionClass()!==le.TIME_POSITION_CLASS_OVERLAY&&(_i.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1),n.onAdPodPlayEnd()),Xt(Ie.getAttribute("src"))&&Ie.setAttribute("src",mt)}function d(e,t){return e===ht?-1:t===ht?1:e.getTimePosition()>t.getTimePosition()?1:(e.getTimePosition()<=t.getTimePosition(),-1)}function c(n){var a=e.FreewheelAdMetadataVO.fromAdMetadata(n,t,oe,se++);return Ae=a.isVpaid,Ae&&i(),a}function u(e){var t=e.adInstance.getSlot().getTimePositionClass();return t===le.TIME_POSITION_CLASS_DISPLAY||t===le.TIME_POSITION_CLASS_OVERLAY}function _(t){if(Ut(Se+"adEvent.subType = "+t.subType),t.subType===le.EVENT_ERROR){var i=Se+"Controller ad request timeout";i=t.errorModule&&t.errorInfo?[t.errorModule,t.errorInfo].join(Pt):i,n.onAdSkipped(t.adInstance._adId,{level:e.ErrorCode.WARN,message:i})}t.subType===le.EVENT_AD_PAUSE&&n.onAdPause(),t.subType===le.EVENT_AD_RESUME&&n.onAdUnPause(),t.subType===le.EVENT_AD_EXPAND&&Ce.classList.add(Vn),t.subType===le.EVENT_AD_COLLAPSE&&Ce.classList.remove(Vn),t.subType===le.EVENT_AD_MUTE&&Ae&&IS_DESKTOP&&(Re=n.getPlayerVolume()||1,n.getPlayer().volume(0),Ie.muted=gt),t.subType===le.EVENT_AD_UNMUTE&&Ae&&IS_DESKTOP&&(an(Ie.muted)&&(Ie.muted=ft),n.getPlayer().volume(Re))}function p(e){var t;switch(Ut(Se+"adInstancePlayEvent event.type = ",e.type),n.onAdRenderer(e),e.type){case le.EVENT_AD_IMPRESSION:if(u(e))return;t=c(e.adInstance?e.adInstance:ht),me=e.adInstance,t.isClickable&&De.classList.add(Yn),n.onAdMetadata(t),n.onAdPlayStart();break;case le.EVENT_AD_IMPRESSION_END:if(u(e))return;me=ht,Ae=ft,n.onAdPlayEnd(),Ie.setAttribute("src",mt),De.classList.remove(Yn);break;case le.EVENT_AD_CLICK:n.onAdPause()}}function h(e){var i=ft;if(!n.isInAdBreak()){var a=0;if(ne.length>0){var r=0,o=t.segmentsDuration;for(o.length;r<t.currentIndex;r++)a+=o[r]?o[r]:0;a+=Math.floor(he),i=a>=ne[0].getTimePosition()}}return i}function g(){for(var e=ht,n=0,i=ee.length;i>n;n++)if((ee[n]||ee[n]===ht)&&t.currentIndex>n){e=ee[n],ee[n]=ft;break}return e}function f(){fe=document.getElementById("_fw_ad_container_html_"+de+"_"),Ee=Gt(fe)&&nn(fe.getElementsByTagName)?fe.getElementsByTagName("iframe")[0]:ht,fe!==ht&&Ee!==ht&&(ue=ge?ue-50:ue,fe.style.height=Ee.style.height,fe.style.width=Ee.style.width,Ee.style.top=Dn,Ee.style.left=Dn,fe.style.left=(ce-Ee.offsetWidth)/2+Nn,fe.style.top=ue+_e-Ee.offsetHeight+Nn,fe.style.position=bn)}function E(e){if(Yt(e)){for(var t in e)qt(e.length)?e.hasOwnProperty(t)&&Xt(t)&&J.addKeyValue(t,e[t]):J.addKeyValue(e[t][0],e[t][1]);return J}}function m(){for(var e=["EVENT_REQUEST_COMPLETE","EVENT_SLOT_ENDED","EVENT_SLOT_STARTED","EVENT_AD_IMPRESSION","EVENT_AD_IMPRESSION_END","EVENT_AD_CLICK"],t=0,n=e.length;n>t;t++)J.removeEventListener(le[e[t]])}function T(){Ii.generateStyleTag(xn),Ii.generateStyleTag(Fn),Ii.generateStyleTag(Bn),De=n.getImaPlaceholder(),De&&De.classList&&De.classList.add&&De.appendChild&&(De.classList.add(Un),De.appendChild(Ie))}function A(e){var t=ht,n=ht;if(!qt(e)&&!qt(e.slotID)){if("preroll"===e.slotID)return J.addKeyValue(e.slotID+"_amznbid",e.amznbid),void J.addKeyValue(e.slotID+"_amzniid",e.amzniid);t=e.slotID.split(Lt),t.length>1&&"Midroll"===t[0]&&(n=t[1],J.addKeyValue("midroll"+n+"_amznbid",e.amznbid),J.addKeyValue("midroll"+n+"_amzniid",e.amzniid))}}function v(){var n=new le.AdManager,i=_i.read(Q.VMN_UUID_COOKIE),a=t.isIntl?Q.URL_INT():Q.URL();re=gt,n.setNetwork(t.networkID),n.setServer(a.replace(/\{0\}/g,t.networkID).replace(/\{1\}/g,t.profileID)),J=n.newContext(),J.setParameter(le.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,ft,le.PARAMETER_LEVEL_GLOBAL),T(),J.setContentVideoElement(Ie),J.setProfile(t.profileID),J.setSiteSection(t.siteSectionID,t.networkID),t.isIntl?J.setVideoAsset(t.assetID,parseInt(t.duration,10),t.networkID,ht,ht,t.videoViewRandom,ht,Q.INTL_DEFAULT_ASSET_ID):J.setVideoAsset(t.assetID,parseInt(t.duration,10),t.networkID,ht,ht,t.videoViewRandom),t.referrer&&J.addKeyValue(Q.ENTIRE_URL,t.referrer),t.playlistID&&J.addKeyValue(Q.PLAYLIST_KEY,t.playlistID),t.siteSectionParsing&&J.addKeyValue(Q.FSS_KEY,Q.FSS_VALUE),i=Xt(i)?i:_i.getLocalStorage(Q.VMN_UUID),Xt(i)&&(J.addKeyValue(Q.FW_CUSTOMER_VISITOR_ID,i),mn?J.addKeyValue(Q.FW_DID_IDFA,i):An&&J.addKeyValue(Q.FW_DID_GOOGLE_ADVERTISING_ID,i));for(var r in t.extraFWKeyValues)J.addKeyValue(r,t.extraFWKeyValues[r]);J.setParameter(le.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,ft,le.PARAMETER_LEVEL_GLOBAL),J.setParameter(le.PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT,gt,le.PARAMETER_LEVEL_GLOBAL),J.setParameter(le.PARAMETER_DISABLE_SAFARI_TRANSPORT,gt,le.PARAMETER_LEVEL_GLOBAL),J.setParameter(le.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION,"Desktop"===e.Environment.userAgent.device?gt:ft,le.PARAMETER_LEVEL_GLOBAL),J.setParameter(le.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,be.useQuickTimePlayerOnIphone?gt:ft,le.PARAMETER_LEVEL_GLOBAL),J.addEventListener(le.EVENT_REQUEST_COMPLETE,function(e){o(e)}),J.addEventListener(le.EVENT_SLOT_ENDED,function(e){l(e)}),J.addEventListener(le.EVENT_SLOT_STARTED,function(e){s(e)}),J.addEventListener(le.EVENT_AD_IMPRESSION,function(e){p(e)}),J.addEventListener(le.EVENT_AD_IMPRESSION_END,function(e){p(e)}),J.addEventListener(le.EVENT_AD_CLICK,function(e){p(e)}),J.addEventListener(le.EVENT_AD,_);for(var d=1,c=t.segmentsDuration,u=c.length;u>d;d++)J.addTemporalSlot("Midroll_"+d,le.ADUNIT_MIDROLL,c[d]);return J.addKeyValue(Q.ENTIRE_URL,t.referrer),t.playlistID&&J.addKeyValue(Q.PLAYLIST_KEY,t.playlistID),E(t.tveKeyValues),E(t.hostSellingKeyValues),E(t.fwSegments),le.setLogLevel(Vt()?le.LOG_LEVEL_DEBUG:le.LOG_LEVEL_QUIET),_i.setLocalStorage(Q.LAST_GUID_PLAYED,t.assetID),an(t.bandwidthEnabled)&&(Ut(Se+"Bandwith setting to FW Ad request: ",t.adRenditionVO.desiredBitrateValue),J.setParameter(le.PARAMETER_DESIRED_BITRATE,t.adRenditionVO.desiredBitrateValue,le.PARAMETER_LEVEL_OVERRIDE)),e.Config.amazonVideoBiddingEnabled?(Ni.getVideoBids(function(e){Ut(Se+"Amazon Bid Objects",e),$t(e)&&e.forEach(function(e){e.amznbid&&e.amzniid&&A(e)}),I()}),gt):void I()}function I(){J.submitRequest(6),t.adRequestedData.sdkVersion=le.version,n.onAdRequested(t.adRequestedData)}function y(e,n){return Z=ft,X=e,t.currentIndex=Wt(n.cuePointIndex)?n.cuePointIndex+1:n.currentIndex,ie?r():(re||v(),ae=gt),gt}function S(e,t){return gt}function C(e){return h(e)&&r(Q.OVERLAY),gt}function P(e){return ce=e.width,ue=e.height,_e=e.top,pe=e.left,ge=e.active,f(),e}function R(){J.setContentVideoElement(Ie)}function D(){if(Ae)a();else if(me)return me.getRendererController().processEvent({name:le.EVENT_AD_CLICK}),gt;return ft}function N(e){var t={PLAYING:"VIDEO_STATE_PLAYING",PAUSED:"VIDEO_STATE_PAUSED",COMPLETED:"VIDEO_STATE_COMPLETED"},n=le[t[e]];J.setVideoState(n)}function b(){}function O(){}function L(){}function M(){}function w(){}function k(){Ut(Se+"FWControllerJS.adPause"),Ie&&Ie.pause&&Ie.pause()}function V(){Ut(Se+"FWControllerJS.adUnPause"),Ie&&Ie.play&&Ie.play()}function U(){var e=-1;return me&&me.getPlayheadTime&&(e=me.getPlayheadTime()),e}function x(){var e=-1;if(me&&me.getSlot){var t=me.getSlot();t&&t.getPlayheadTime&&(e=t.getPlayheadTime())}return e}function F(){return Pe.adPlayhead=U(),Pe.adPodPlayhead=x(),Pe}function B(){}function Y(t){e.Environment.isIOS()||J.setAdVolume(t)}function H(){e.Environment.isIOS()&&(Ie.muted=gt)}function G(){e.Environment.isIOS()&&(Ie.muted=ft)}function K(){if(se=1,me&&me.getSlot){var e=me.getSlot();e&&e.stop&&e.stop()}else Te&&Te.stop&&Te.stop();return gt}function q(){return Z=gt,se=1,Z}function W(){fe&&fe.parentNode&&fe.parentNode.removeChild(fe)}function j(){W(),ye.stop(),ye.reset(),m(),K(),J.dispose()}function z(){an(be.forceMute)&&(Ne=gt)}var X,Q=e.FreewheelVars,J=(t.failSafeTimerDisabled,ht),Z=ft,$=[],ee=[],te=[],ne=[],ie=ft,ae=ft,re=ft,oe=0,se=1,le=tv.freewheel.SDK,de=ht,ce=0,ue=0,_e=0,pe=0,he=0,ge=ft,fe=ht,Ee=ht,me=ht,Te=ht,Ae=ft,ve=ht,Ie=n.getPlayerElement(),ye=new yi,Se=st+"FreewheelControllerJS ",Ce=ht,Pe={},Re=0,De=ht,Ne=ft,be=n.getPlayerConfig();return Ce=n.getPlayerContainer(),this.init=v,this.isTimeForAnAd=y,this.updateCurrentItemIndex=S,this.playheadUpdate=C,this.uiStateChange=P,this.adClick=D,this.videoState=N,this.resetAdBridge=b,this.slotStarted=O,this.adPlayStart=L,this.slotEnded=M,this.adRenderer=w,this.adPause=k,this.adUnPause=V,this.getAdPlayhead=U,this.adRequestCompleted=B,this.getAdPodPlayhead=x,this.setVolume=Y,this.onMute=H,this.onUnMute=G,this.stopSlot=K,this.onAdBreakTimeout=q,this.closeOverlay=W,this.destroy=j,this.getAdPlayheadObj=F,this.onPlayerResize=R,this.playedTime=he,this.onPlayerConfigReady=z,this},wi=function(t){var n,i=st+"IMAControllerAS3 ",a=e.IMAVars,r=ht,o=ht,s={},l=1,d=ft,c=ft,u=ft,_=0,p=[],h=ft,g=ft,f=ft,E=ht,m=ht,T=ht,A=ht,v=ht,I={bitrate:0},y=ht,S=ht,C=ht,P=ht,R=ft,D={};r=t.getPlayer(),o=t.getPlayerContainer(),E=t.getPlayerId(),y=E+e.AdVars.AD_BRIDGE_ID,m=r.config||{},_=t.getCurrentItemIndex(),T=m.embedVars||{},A=t.getFirstItemData(),g=A.isPlaylistMode,C=t.getPlaylistMetadata(),S=new e.ContentVO({length:Math.max(C.items&&C.items.length,1)});var N=function(e,t,a){return n=b(),n&&nn(n[e])?(a||Ut(i+"Invoking adBridge."+e),qt(t)||Bt(t)?n[e]():n[e](t)):void 0},b=function(){return n&&n.nodeName&&n.nodeName.toLowerCase()===lt?n:document.getElementById(y)},O=function(){o&&(y=si.loadAdBridgeSwf(o,E,"ima")),Ut(i+"cloneAdBridgeSwf adContainerId: "+y)},L=function(){n&&(n.style.visibility="hidden",n.style.pointerEvents="none")},M=function(){n=b(),n&&(n.style.visibility="visible",n.style.pointerEvents="auto")},k=function(e){n=b(),n&&(M(),n.style.position=bn,n.width=e.width,n.height=e.height,n.style.top=e.top,n.style.left=e.left,N("setDisplaySize",e))},U=function(){s.videoId=t.getCurrentVideoId();var e=fi.getAdUrl({playerConfig:r.config,contentInfo:s,width:o.offsetWidth,height:o.offsetHeight,currentItemIndex:_});return Ut(i+"adTagUrl http:"+e),e},x=function(a,r){d=ft,a?(Ut(i+"Google IMA Sdk Finished. Suspending all ad breaks"),t.onSkipAllAdRequests({errorObj:{code:"NO-ADS-SUPPORT",level:e.ErrorCode.INFO,message:"ImaAs3SDK - noAdsSupport - IMA flag set to indicate no ad playback throughout video."}})):(Ut(i+"Google IMA Sdk Finished. Invoking onAdPodPlayEnd."),t.onAdPodPlayEnd()),L(),n=ht},F=function(n){return Sn()||(e.onPageEvent({events:e.AdVars.BROWSER_DISRUPTS_PLAYBACK}),t.onSkipAllAdRequests({errorObj:{code:"FLASH-PLUGIN_DISABLED",level:e.ErrorCode.ERROR,message:"ImaAs3SDK - IMA flag set to indicate no ad playback throughout video."}})),f?ft:(Ut(i+"playAdBreak requesting ad play"),S.shouldPlayAd()?(t.sendAdPlayRequest({}),N("playAdBreak",S.shouldPlayPostRollAd()),gt):ft)},B=function(){q(),d=ft,h=ft,u=ft,c=ft,l=1,M(),S.reset()},q=function(){si.replaceAdBridgeWithPlaceholderDiv(y),y=ht,n=ht,O()},z=function(){var n=ht;return n=U(),N("initImaSdk",n),an(e.Config.bandwidthEnabled)&&(v=e.AdRenditionVO.getAdRenditionVO(o,m),v&&v.desiredBitrateValue&&(I.bitrate=v.desiredBitrateValue)),N("setAdRenderingSetting",I),k({width:o.offsetWidth,height:o.offsetHeight,top:o.offsetTop,left:o.offsetLeft,isFullScreen:ft}),Xt(T.custParams)&&-1!==T.custParams.search(a.NO_ADS_SUPPORT)?(Ut(i+"onIsTimeForAnAd :","noAdsSupport flag detected, moving immediately to content while making request in background."),x(gt,"noAdsSupport")):void t.onAdRequested({adServer:"doubleclick",profileId:ht,networkId:m.imaNetworkID||e.Config.imaNetworkID,siteSectionId:m.adLocationID||e.Config.imaAdUnit||"money_test",preloadAdManifest:ft})};return this[G]=function(e){if(f=ft,h)return x();for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);if(S.setCurrent(e),!e.inferredAdType)return Ut(i+"onIsTimeForAnAd ad type is FALSE. Moving to content."),x();if("midRoll"===e.inferredAdType||"postRoll"===e.inferredAdType){if(Ut(i+"onIsTimeForAnAd attempt to play midroll ads"),!F("postroll"===e.inferredAdType))return x()}else if("preRoll"===e.inferredAdType){if(l>1)return Ut(i+"onIsTimeForAnAd preroll played previously. adCount: "+l),x();if(Ut(i+"onIsTimeForAnAd Play Preroll ads"),u||c){if(!F())return x()}else c=gt}},this[ee]=function(){Ut(i+"onAdBridgeReady",Vt()),Vt()&&(N("enableLog"),N("info")),R=gt,z()},this[V]=function(e){Ut(i+"onUiStateChange",e)},this[w]=function(e){Ut(i+"onFullScreenChange",e),k(e)},this[ve]=function(){t.isInAdBreak()&&k({width:o.offsetWidth,height:o.offsetHeight,top:o.offsetTop,left:o.offsetLeft,isFullScreen:ft})},this[J]=function(){Ut(i+"onAdPause"),N("pause")},this[Q]=function(){Ut(i+"onAdUnPause",D.adRemainingTime),t.isInAdPlay()&&0===D.adRemainingTime&&t[W](),N("resume")},this[oe]=function(){Ut(i+"onAdStop"),N("stop")},this.setSegmentDurations=function(e){return Ut(i+"setSegmentDurations",e),p=e},this.onPlayStart=function(){Ut(i+"onPlayStart before splicing",p),N("onContentPlayheadUpdate",Math.ceil(p.splice(0,1)))},this[Y]=function(a){Ut(i+"onAdError",a),P=a,"ADS_MANAGER_LOADED_ERROR"===P.errorType&&t.onAdRequestFailed(),P.vastErrorCode>=300&&P.vastErrorCode<400?(t.isInAdBreak()?t.onAdBreakTerminated({errorObj:{code:P.errorType,level:e.ErrorCode.WARN,message:"ImaAs3SDK - "+P.errorMessage}}):t.onAdBreakSkipped(),L(),n=ht):x()},this[se]=function(){Ut(i+"onAdManagerDestroyed"),h=gt,x()},this[H]=function(){Ut(i+"onAdsManagerTimeout"),this.onAdBreakTimeout(),x()},this[de]=function(){Ut(i+"onAdBreakNotAvailable"),d=ft,x()},this[K]=function(n){Ut(i+"onAdLoaded adData",n),e.Config.enableMoatTracking&&N("initMoatTracking"),s.adCount=l,s.currentAd=n,t.onAdMetadata(e.AdMetadataVO.fromIMADataAndContentInfo(n,s,g))},this[le]=function(){Ut(i+"onAdBreakReady"),d=gt},this[j]=function(){Ut(i+"onAdPlayStart adCount:"+l+" currentItemIndex: "+_),l++,d=ft,S.setCurrent({hasBeenViewed:gt}),k({width:o.offsetWidth,height:o.offsetHeight,top:o.offsetTop,left:o.offsetLeft,isFullScreen:ft})},this.onAdPodPlayEnd=function(){L()},this[Pe]=function(){_i.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1)},this.setVpaidVersion=function(e){Ut(i+"setVpaidVersion "+e),N("setVpaidVersion",e)},this[Te]=function(){Ut(i+"onReplay"),B()},this[Z]=function(){t.onAdPause()},this[Ce]=function(){return Ut(i+"onAdsManagerReady"),t.onAdRequestCompleted(),c&&!F()?x():void(u=gt)},this.onPlayIndexChanged=function(e,t){Ut(i+"onPlayIndexChanged",e,t),_=e.itemIndex,an(t)&&(B(),g=gt)},this.setVolume=function(e){nn(e.toFixed)&&(e=e.toFixed(2)),N("setVolume",e)},this.onAdBreakTimeout=function(){f=gt},this.getAdPlayheadObj=function(){return D.adPlayhead=N("getIMAAdPlayhead",ht,gt),D.adPodPlayhead=N("getIMAAdPodPlayhead",ht,gt),D.adRemainingTime=N("getIMAAdRemainingTime",ht,gt),D},this},ki=function(t){function n(e){l&&qe.currentTime&&Math.floor(B[he]-e)<=Ce&&(Ut(f+"AdsManager requesting next ad break "+Ce+" seconds ahead of next cue point"),Pe=gt,l.requestNextAdBreak())}var i,a,r,o,s,l,d,c,u,_,p,h,g,f=st+"IMAControllerJS ",E=e.ContentVO,m=t.getPlayerContainer()||ht,T=t.getPlayer()||ht,A=t.getPlayerElement(),v=t.getPlayerId()||ht,I=v+e.AdVars.AD_BRIDGE_ID||ht,S=ft,C=ft,P=ft,D=ft,N=ft,b=ft,O={},k=1,U=-1,x=-1,F=-1,B=[],Y="div[id$='-ima-ad'], div[id$='-ima-ad'] > div:first-child {width: 100% !important; height: 100% !important;}",H="#%ADCONTAINER% iframe[src*='imasdk'] { height:0px; }",K=ft,q=ft,W=ft,j=ft,z=ft,X=ft,$=ft,ee=0,te=ft,ne=ht,ie=T.config||{},ae=ie.embedVars||{},re=t.getFirstItemData()||{},se=re.isPlaylistMode||ft,le=ft,de=ht,ce=ht,ue=ft,_e=ht,pe=T.learnMorePlaceholder||ht,he=t.getCurrentItemIndex(),ge={},fe=ft,Ee={},me=3,Ae=2,ve=[],Ie=ht,Ce=10,Pe=ft,Re=[],De=ft,Ne=function(e,t,n,i){return e.style.position=bn,l&&l.resize(t,n,i?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e},be=function(){j=ft,C=ft,P=ft,N=ft,q=ft,X=ft,qe.setCurrentTime(0),ce.reset()},Oe=function(n){return Ut(f+"onImaSdkFinished Google IMA Sdk Finished. Requesting onAdPodPlayEnd."),Ue(ft),P=ft,j=ft,Re=[],k=1,n&&!b?(b=gt,t.onSkipAllAdRequests({errorObj:{code:"NO-ADS-SUPPORT",level:e.ErrorCode.INFO,message:"ImaJsSDK - noAdsSupport - IMA flag set to indicate no ad playback throughout video."}}),Ut(f+"onImaSdkFinished invoking onSkipAllAdRequests."),b):(D?Ut(f+"onImaSdkFinished onAdPodPlayEnd already invoked previously."):(Ut(f+"onImaSdkFinished invoking onAdPodPlayEnd once."),t.onAdPodPlayEnd(),D=gt),gt)},Le=function(){return Ut(f+"createAdDisplayContainer"),typeof google!==lt||typeof google.ima!==lt||typeof google.ima.AdDisplayContainer!==dt?(Ut(f+"createAdDisplayContainer IMA SDK Not Ready"),Oe()):r?r:(i=m.offsetWidth,a=m.offsetHeight,Bt(ne)?(p=document.createElement("div"),p.id=I,p.name=I,p=Ne(p,i,a,ft),Ii.generateStyleTag(H.replace(/%ADCONTAINER%/i,p.id)),m.appendChild(p)):p=ne,Ue(gt),ui.isMobile()&&We(),K||(Ii.generateStyleTag(Y),Ii.generateStyleTag(Bn),K=gt),google.ima.settings.setDisableFlashAds(gt),r=new google.ima.AdDisplayContainer(p,A,pe))},Me=function(){return Ut(f+"createAdsLoader"),typeof google!==lt||typeof google.ima!==lt||typeof google.ima.AdsLoader!==dt?(Ut(f+"createAdsLoader IMA SDK Not Ready"),Oe()):s?s:(s=new google.ima.AdsLoader(r),s.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,Ge,ft),s.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,Be,ft),s)},we=function(){return m?(O.videoId=t.getCurrentVideoId(),u=fi.getAdUrl({playerConfig:T?T.config:ht,contentInfo:O,width:m.offsetWidth,height:m.offsetHeight,currentItemIndex:he}),Ut(f+"createAdTagUrl",u),u):ft},ke=function(){return Ut(f+"createAdRequest"),Yt(google)&&Yt(google.ima)&&nn(google.ima.AdsRequest)?(o=new google.ima.AdsRequest,o.adTagUrl=we(),o.linearAdSlotWidth=m.offsetWidth,o.linearAdSlotHeight=m.offsetHeight,Yt(s)?(s.getSettings().setAutoPlayAdBreaks(ft),s.requestAds(o)):Ut(f+"createAdRequest adsLoader is not an object"),Xt(ae.custParams)&&-1!==ae.custParams.search(e.IMAVars.NO_ADS_SUPPORT)?(Ut(f+"createAdRequest :","noAdsSupport flag detected, moving immediately to content while making request in background."),Oe(gt)):(t.onAdRequested({adServer:"doubleclick",profileId:ht,networkId:ie.imaNetworkID||e.Config.imaNetworkID,siteSectionId:ie.adLocationID||e.Config.imaAdUnit||"money_test",preloadAdManifest:ft}),o?gt:ft)):(Ut(f+"createAdRequest IMA SDK Not Ready"),Oe())},Ve=function(){return te?ft:(Ut(f+"playAds",N,P,D,j),D=ft,N?(Ut(f+"playAds this request does not have an ad ready to play. Bail out."),ft):(l&&(!j||W)&&ce.shouldPlayAd()&&(X===ft&&(l.init(m.offsetWidth,m.offsetHeight,google.ima.ViewMode.NORMAL),X=gt),j=gt,"postRoll"===de&&s.contentComplete(),Wt(de)&&("preRoll"===de||"postRoll"===de)||P?(Ut(f+"playAds invoking adsManager.start"),t.sendAdPlayRequest({}),Ue(gt),l.start()):rn(P)?W=gt:j=ft),j))},Ue=function(e,t){var n=p;n&&(n.style.display=e?"block":"none",n.style.visibility=t?"visible":"hidden")},xe=function(){var e=l.getRemainingTime(),n=Math.floor(e);e===ee||-1===e?rn($)&&(Ut(f+"Ad started buffering"),$=gt,t.onAdBufferStart()):(ee=e,an($)&&(Ut(f+"Ad finished buffering"),$=ft,t.onAdBufferStop()),n!==F&&(F=n,U++,x++))},Fe=function(n){Ut(f+"onAdEvent",n.type,n);var i={},a={};switch(n.type){case google.ima.AdEvent.Type.LOADED:ie.forceMute&&rn(De)&&(De=gt,l.setVolume(0)),ie.viewabilityEnabled&&(i={partnerCode:Xt(ie.viewabilityAccountId)?ie.viewabilityAccountId:e.IMAVars.DEFAULT_MOAT_PARTNER_CODE,viewMode:le?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL},initMoatTracking(l,i,p)),O.adCount=k,O.currentAd=n.getAd(),a=e.AdMetadataVO.fromIMADataAndContentInfo(n.getAdData(),O,se),a.imaMobileWeb=gt,ue=a.isVpaid,fe=a.isInnovidAd||ft,k++,(ue||a.isAdXAd)&&(a.hideAdMessage=gt,a.disableAdGuiOnPlay=gt),IS_DESKTOP||ue||(a.customClick=gt,a.isClickable=gt,p.classList.add(Yn)),Re.push(a),rn($)&&($=gt,t.onAdBufferStart());break;case google.ima.AdEvent.Type.STARTED:t.onAdMetadata(Re[0]),Re.shift(),x=-1,Yt(l)&&nn(l.getRemainingTime)&&(_=setInterval(xe,500)),Ue(gt,gt),ce.setCurrent({hasBeenViewed:gt}),N=ft,t.onAdPlayStart();break;case google.ima.AdEvent.Type.PAUSED:ie.useQuickTimePlayerOnIphone&&Ue(ft),t.onAdPause();break;case google.ima.AdEvent.Type.RESUMED:Ue(gt,gt),t.onAdUnPause();break;case google.ima.AdEvent.Type.CLICK:(IS_DESKTOP||!IS_DESKTOP&&!Rn())&&t.onAdPause();break;case google.ima.AdEvent.Type.LOG:var r=n.getAdData(),o="ImaJsSDK - Non-fatal error occurred";r.adError&&(o+=": "+r.adError.getMessage()),t.onAdSkipped(r.adId,{level:e.ErrorCode.INFO,message:o});break;case google.ima.AdEvent.Type.COMPLETE:P=ft,j=ft,t.onAdPlayEnd(),_&&clearInterval(_),p.classList.remove(Yn);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:N=gt,Oe();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:D=ft,Oe();break;case google.ima.AdEvent.Type.AD_BREAK_READY:P=gt,W&&(Ve(),W=ft)}},Be=function(n){_e={errorType:n.getError().getType(),errorCode:n.getError().getErrorCode(),errorMessage:n.getError().getMessage()},Ut(f+"onAdError",_e,l),W=ft,t.isInAdBreak()?t.onAdBreakTerminated({errorObj:{code:_e.errorType,level:e.ErrorCode.ERROR,message:"ImaJsSDK - "+_e.errorMessage}}):t.onAdBreakSkipped(),Ke()&&(P=ft)},Ye=function(){Ut(f+"onContentPauseRequested"),t.onAdPodPlayStart({})},He=function(){_&&clearInterval(_),P=ft,_i.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1),Oe()},Ge=function(n){Ut(f+"onAdsManagerLoaded"),t.onAdRequestCompleted(),C=ft;var i=[google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED];if(d=new google.ima.AdsRenderingSettings,d.enablePreloading=gt,an(e.Config.bandwidthEnabled)?(c=e.AdRenditionVO.getAdRenditionVO(m,ie),Ce=c.preloadAdBeforeTime,Ut(f+"Bandwidth setting to IMA Ad Manager and ad preload interval: ",c.desiredBitrateValue,Ce),c&&c.desiredBitrateValue&&c.desiredBitrateValue>0&&(d.bitrate=c.desiredBitrateValue),l=n.getAdsManager(qe,d)):l=n.getAdsManager(qe),Bt(l))t.onAdRequestFailed(),Ue(ft);else{l.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,Be),l.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Ye),l.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,He);for(var a=0,r=i.length;r>a;a++)l.addEventListener(i[a],Fe,ft,this);Ut(f+"onAdsManagerLoaded initing adsManager",m);try{Ut(f+"onAdsManagerLoaded",W),W?(W=ft,Ve()||Oe()):Oe(),C=gt}catch(o){Ut(f+"adError",o)}}},Ke=function(){return Yt(l)&&nn(l.destroy)?(l.destroy(),C=ft,je(ht)&&ze(),gt):ft},qe=function(){return this.currentTime=0,{currentTime:this.currentTime,setCurrentTime:function(e){this.currentTime=e}}}(),We=function(){g=Xe.bind(this),h=Qe.bind(this),p.addEventListener("touchstart",h),p.addEventListener("touchmove",g)},je=function(e){if(Bt(e)||qt(e))return Ie;if(Ie===ht)if(ve.length>=me){for(var t=ve[0],n=1;me>n;n++){if(t!==ve[n])return Ie=ft;t=ve[n]}ve=[],Ie=gt}else ve.push(Math.round(document.body.scrollTop));return Ie},ze=function(){Gt(p)&&(p.removeEventListener("touchmove",g),p.removeEventListener("touchstart",h))},Xe=function(e){je(e)===gt?Je(e):Ie===ft&&ze()},Qe=function(e){Ee=e.changedTouches[0],ve=[]},Je=function(e){var t=e.changedTouches[0];if(Jt(Ee.pageY)&&ve.length>Ae){ve=ve.sort();var n=Ee.pageY-ve[Ae-1],i=document.body.scrollTop+n;window.scrollTo(0,i),ve=[]}else Jt(t.pageY)&&ve.push(t.pageY)},Ze=function(){return p},$e=function(){ce=new E({length:E.getPlaylistLength(t.getPlaylistMetadata())}),be(),we()};return this[ye]=function(){Ut(f+"onImaJsSdkLoaded",A&&z===ft),S=gt,A&&z===ft&&(z=gt,Le(),Me(),ke())},this[Se]=function(){return Ut(f+"onImaJsSdkLoadError"),b=gt,gt},this[R]=function(){Ut(f+"onPlayStart segmentDurations",B),Pe=ft},this[L]=function(e){var t=e.fullEpPlayhead;qe.setCurrentTime(Math.ceil(t)),Pe||n(t)},this[y]=function(e){Ut(f+"onPlayerFeedLoaded",e),window.google&&window.google.ima&&(S=gt),S&&z===ft&&(z=gt,Le(),Me(),ke())},this[M]=function(e,t){return Ut(f+"onPlayIndexChanged",e,t),he=e.itemIndex,an(t)?(be(),void(b||ke())):void qe.setCurrentTime(Math.ceil(B[he-1]))},this[V]=function(e){return Ut(f+"onUiStateChange",e),gt},this[w]=function(e){return Ut(f+"onFullScreenChange",e),i=e.width,a=e.height,le=e.isFullScreen,Ne(p,e.width,e.height,e.isFullScreen)},this[G]=function(e){r&&r.initialize(),te=ft,de=e.inferredAdType,Ut(f+"onIsTimeForAnAd",C,P,D),D=ft,ce.setCurrent(e);for(var t in e)e.hasOwnProperty(t)&&(O[t]=e[t]);return C||"preRoll"!==de?(Ut(f+"onIsTimeForAnAd attempt to play ads"),Ve()?void 0:Oe()):(W=gt,ft)},this[Z]=function(){IS_DESKTOP&&l&&nn(l.pause)&&l.pause()},this.setVolume=function(e){IS_DESKTOP&&l&&nn(l.setVolume)&&(nn(e.toFixed)&&(e=e.toFixed(2)),l.setVolume(e))},this.onMute=function(){!IS_DESKTOP&&l&&nn(l.setVolume)&&l.setVolume(0)},this.onUnMute=function(){!IS_DESKTOP&&l&&nn(l.setVolume)&&l.setVolume(1)},this[J]=function(){l&&nn(l.pause)&&l.pause()},this[Q]=function(){l&&nn(l.resume)&&l.resume()},this[oe]=function(){l&&nn(l.stop)&&l.stop()},this.setSegmentDurations=function(e){return B=e},this[Te]=function(){return Ut(f+"onReplay"),be(),Ke(),ke(),P===ft&&q===ft},this.onAdRemainingTime=xe,this.onAdsManagerLoaded=Ge,this.onAdBreakTimeout=function(){return te=gt},this.onAdPodPlayEnd=function(){D||(Ue(ft),j=ft,P=ft,D=gt)},this.playAds=Ve,this.createAdDisplayContainer=Le,this.onImaSdkFinished=Oe,this.onAdEvent=Fe,this.destroyAdManager=Ke,this.getAdContainer=Ze,this.hasAdScrollOverride=je,this.setImaPlaceholder=function(e){return ne=e,ne.id=I,ne},this.getAdPlayheadObj=function(){return ge.adPlayhead=x,ge.adPodPlayhead=U,ge.adRemainingTime=F,ge},$e(),this};e=hi(e,function(){function t(e,t,n){return Ut(st+"addToQueue hasConfig: "+N+" event ",e),an(n)?D.addPriority({event:e,data:t}):D.add({event:e,data:t}),N&&(D.stop(),D.start()),D.count()}function n(e){w.push({callbackObject:e.callbackObject,callback:e.callback,data:e.data})}function i(){"loading"!==Zn()?a():document.addEventListener("DOMContentLoaded",a)}function a(){if(!k){var e=ht;if(k=gt,w.length>0)for(;e=w.shift();)r(e.callback,e.callbackObject,e.data)}}function r(t,n,i){n=n||e,nn(t)&&t.call(n,i)}function o(e){return C.addReceiver(L[e])}function s(e){C.removeReceiver(L[e]),delete L[e]}function l(e,t){if(Ht(b))return V.push({event:e,data:t});for(var n in b)b[n][e](t),y({event:e,data:t})}function d(){return k?void(Cn()&&rn(O)&&(Ut(st+"onContentLoaded invoking adBridgeLoader.loadAdBridgeSwf"),si.preloadAdBridgeSwf(),O=gt)):n({callbackObject:ht,callback:d})}function c(){var e=arguments[0],t=[],n=this;if(nn(n[e])){for(var i=1;i<arguments.length;i++)t.push(arguments[i]);Ut(st+"Running command: "+e+" with args: ",t),n[e].apply(ht,t)}}function u(e){var t=Object.keys(L),n=ht;if(!nn(e))return ft;for(;n=t.shift();)e(n)}function h(){return k?an(e.Config.sourcePointEnabled)?nn(window.initSourcePointLibrary)&&!Gt(window._sp_)&&window.initSourcePointLibrary()||gt:void 0:n({callbackObject:ht,callback:h})}function g(e){return k?ft:(n(e),gt)}function y(e){var t=window.EdgePlayer;t&&t.getPlayers&&Object.keys(b).length<t.getPlayers().length&&U.push(e)}var C=ht,P=Et,R="adsvr",D=ht,N=ft,b={},O=ft,L={demdex:ht,omnitureReceiver:ht,megabeaconReceiver:ht,comScoreReceiver:ht,tveReceiver:ht,sourcePointReceiver:ht,legacyAdapter:ht,dfpReceiver:ht},M={fw:{freewheelEnabled:gt,imaEnabled:ft},ima:{freewheelEnabled:ft,imaEnabled:gt}},w=[],k=ft,V=[],U=[];return{onConfig:function(n){return Gt(n)?(e.Config=e.Config||{},e.Config=hi(n,e.Config),u(s),h(),Ni.reset(),e.Config.legacySupportEnabled&&(L.legacyAdapter=new _),e.Config.pageAdsEnabled&&(L.dfpReceiver=new E),(e.Config.amazonPageBiddingEnabled||e.Config.amazonVideoBiddingEnabled)&&(L.amazonReceiver=Ni.initialize()),e.Config.indexExchangeEnabled&&(L.headerBiddingReceiver=new m),e.Config.nielsenEnabled&&(L.nielsenReceiver=new A),e.Config.omnitureEnabled&&(window.addAppMeasurementLibrary(),L.omnitureReceiver=new v),e.Config.demdexEnabled&&(L.demdex=new e.Demdex),e.Config.megabeaconEnabled&&(L.megabeaconReceiver=new T),e.Config.comScoreEnabled&&(L.comScoreReceiver=new f),e.Config.tveReportingEnabled&&(L.tveReceiver=new p),e.Config.sourcePointEnabled&&(L.sourcePointReceiver=new I),u(o),t(S,e.Config,gt)):ft},setCustomReportingNamespace:function(e){return k?Xt(e)?t(xe,{namespace:e}):ft:n({callback:this.setCustomReportingNamespace,data:e})},onSearch:function(i){return k?e.Config&&e.Config.unReleasedFeatureEnabled?t(we,i):ft:n({callback:this.onSearch,data:i})},onSearchConversion:function(i){return k?e.Config&&e.Config.unReleasedFeatureEnabled?t(Ve,i):ft:n({callback:this.onSearchConversion,data:i})},sendMegabeaconData:function(e){return k?Gt(e)&&Gt(L.megabeaconReceiver)?Gt(e.data)?t(Be,e):(Ft(st+" Malformed Object. Expecting data property in callObject"),ft):ft:n({callback:this.sendMegabeaconData,data:e})},onAdBlocking:function(){return k?(l("onAdBlocking",gt),t(ke)):n({callback:this.onAdBlocking})},getAdBlockingStatus:function(e){if(!k)return n({callback:this.getAdBlockingStatus,data:e});var t=L.sourcePointReceiver;return Gt(t)&&nn(t.getAdBlockingStatus)&&t.getAdBlockingStatus(e)||ft},updateAdBlockingStatus:function(e){if(!k)return n({callback:this.updateAdBlockingStatus,data:e});var t=L.sourcePointReceiver;return Gt(t)&&nn(t.updateAdBlockingStatus)&&t.updateAdBlockingStatus(e)||ft},onNewPage:function(e){return k?(Si.resetAuthRequirements(),t(Oe,e)):n({callback:this.onNewPage,data:e})},onPageEvent:function(e){return k?t(_e,e):n({callback:this.onPageEvent,data:e})},onCustomData:function(e,i){if(!k)return n({callback:this.onCustomData,data:[e,i]});var a=mt;if(Gt(e)){for(a in e)e.hasOwnProperty(a)&&t(Fe,{name:a,value:e[a]});return gt}return Xt(e)?(t(Fe,{name:e,value:i}),gt):ft},placeAds:function(e){return k?Bt(L.dfpReceiver)?ft:L.dfpReceiver[tt](e):n({callback:this.placeAds,data:e})},destroyAds:function(e){return k?Bt(L.dfpReceiver)?ft:L.dfpReceiver[it](e):n({callback:this.destroyAds,data:e})},refreshAds:function(e){return k?Bt(L.dfpReceiver)?ft:L.dfpReceiver[nt](e):n({callback:this.refreshAds,data:e})},onTVEWelcome:function(){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(Ye):ft:n({callback:this.onTVEWelcome})},onTVEError:function(i){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(He,i):ft:n({callback:this.onTVEError,data:i})},onTVEStatusCheck:function(i){return k?(i=i||{},Si.storeMostRecentStatus(i),an(e.Config&&e.Config.tveReportingEnabled)?t(Ge,i):ft):n({callback:this.onTVEStatusCheck,data:i})},onTVELogin:function(i){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(Ke,i):ft:n({callback:this.onTVELogin,data:i})},onTVEProviderSelected:function(i){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(qe,i):ft:n({callback:this.onTVEProviderSelected,data:i})},onTVEProviderNotListed:function(){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(We):ft:n({callback:this.onTVEProviderNotListed})},onTVEElvisSelected:function(i){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(je,i):ft:n({callback:this.onTVEElvisSelected,data:i})},onTVEElvisLogin:function(i){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(ze,i):ft:n({callback:this.onTVEElvisLogin,data:i})},onTVEProviderDisplay:function(){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(et):ft:n({callback:this.onTVEProviderDisplay})},onTVEElvisExpired:function(i){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(Xe,i):ft:n({callback:this.onTVEElvisExpired})},onTVEElvisLocked:function(i){
return k?an(e.Config&&e.Config.tveReportingEnabled)?t(Qe,i):ft:n({callback:this.onTVEElvisLocked})},onTVEFreePreviewSelected:function(){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(Je):ft:n({callback:this.onTVEFreePreviewSelected})},onTVEFreePreviewLogin:function(){return k?an(e.Config&&e.Config.tveReportingEnabled)?t(Ze):ft:n({callback:this.onTVEFreePreviewLogin})},onTVEFreePreviewExpired:function(){return k?an(e.Config&&e.Config.tveReportingEnabled)?t($e):ft:n({callback:this.onTVEFreePreviewExpired})},onQueueItem:function(e){P(e.event,e.data)},onWindowResize:function(){return k?t(Ie,ht):n({callback:this.onWindowResize})},onAAMDataReady:function(e){return k?t(pe,e):n({callback:this.onAAMDataReady,data:e})},onImaJsSdkLoaded:function(){return k?(l("onImaJsSdkLoaded"),t(ye,ht)):n({callbackObject:this,callback:this.onImaJsSdkLoaded})},onImaJsSdkLoadError:function(){return k?(l("onImaJsSdkLoadError"),t(Se,ht)):n({callback:this.onImaJsSdkLoadError,data:ht})},onAdClick:function(e){if(!k)return n({callback:this.onAdClick,data:e});if(!(Wt(window.EdgePlayer)&&Wt(window.EdgePlayer.Events)&&Wt(window.EdgePlayer.Events.BENTO_AD_CLICKED)))return Wt(e)?void this.getPlayer(e).onAdClick():void l("onAdClick")},getMarketingCloudVisitorID:function(){return k?Visitor.getInstance(e.AppMeasureVars.MARKETING_CLOUD_ORG_ID).getMarketingCloudVisitorID():n({callback:this.getMarketingCloudVisitorID})},getPlayers:function(){return k?b:n({callback:this.getPlayers})},getPlayer:function(e){if(!k)return n({callback:this.getPlayer,data:e});for(var t in b)if(t===e)return b[t];return ht},addPlayer:function(t){var i=ht;if(!k)return n({callback:this.addPlayer,data:t});for(b[t.id]||(b[t.id]=new e.BentoApi(t)),U.length>0&&(V=U,U=[]);i=V.shift();)b[t.id][i.event](i.data),y(i);return b[t.id]},removePlayer:function(e){return k?(b[e.id]&&delete b[e.id],void(b[e]&&delete b[e])):n({callback:this.removePlayer,data:e})},removeAllPlayers:function(){if(b)for(var e in b)b[e]=ht;b={},w=[],V=[],U=[]},onAdBlockingStatusUpdate:function(e){return t(rt,{status:e})},onPlayerSeamlessMode:function(){return t(ot,ht)},setVideoAdMessage:function(e,t){var i={};return k?Xt(e)?(i.adMessage=e,i.persist=t,l("onSetCustomAdMessage",i)):void xt(st+"The custom ad message passed is empty or is not a string"):n({callback:this.setVideoAdMessage,data:e})},setVideoAdCountMessage:function(e){return k?Xt(e)?l("onSetCustomAdCountMessage",e):void xt(st+"The custom ad count message passed is empty or is not a string"):n({callback:this.setVideoAdCountMessage,data:e})},init:function(){k=ft,i();var t=vi.queryStringToObject()[R];if(C=new e.Notifier,P=C.notify,d(),C.clearReceivers(),Ut(st+"init() Starts Up"),e.addEventToWaitQueueIfDomNotLoaded=g,D=Ai({delegate:this}),e.Config&&(N=gt,this.onConfig(M[t]||{})),this.onNewPage(),k?e.MessageUtil.postMessage(e.MessageVars.ADMS_TRACKING_SERVER,mt):n({callback:function(){e.MessageUtil.postMessage(e.MessageVars.ADMS_TRACKING_SERVER,mt)}}),e.exec&&e.exec.q){var a=this;Ut(st+e.exec.q.length+" items in command queue"),e.exec.q.forEach(function(e){c.apply(a,e)}),e.exec=c}return this}}}()),e.init(),Ci.init()}(Bento);
		
	